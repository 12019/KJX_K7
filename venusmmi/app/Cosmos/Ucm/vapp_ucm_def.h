/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/
/*****************************************************************************
 *
 * Filename:
 * ---------
 *  vapp_ucm_def.h
 *
 * Project:
 * -------- 
 *  COSMOS
 *
 * Description:
 * ------------
 *  UCM definitions
 *
 * Author:
 * -------
 * -------
 *
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/
#ifndef __VAPP_UCM_DEF_H__
#define __VAPP_UCM_DEF_H__

/***************************************************************************** 
 * Include
 *****************************************************************************/
#include "MMI_features.h"
#include "vfx_mc_include.h"
#include "vcp_include.h"
#include "vcp_menu_popup.h"
#include "vapp_text_template_scrn.h"
#include "vapp_ncenter_base_cell.h"
#ifdef __MMI_UCM_SLIM__
//#include "vapp_screen_lock_rhythm.h"  // should ask Screen Lock to provide base class for us to inherit
#else
#include "vapp_screen_lock_cosmos_card.h"
#include "vapp_screen_lock_cosmos_unlock_card.h"
#include "vapp_screen_lock_cosmos_frame.h"
#endif // __MMI_UCM_SLIM__
#include "vcp_photo_border_frame.h"
#include "vapp_wallpaper.h"
#include "vapp_wallpaper_setting_method_gprot.h"
#include "vapp_wallpaper_kit.h"
#include "vapp_uc_gprot.h"
#include "vapp_msg_gprot.h"
#include "vsrv_notification.h"

extern "C"
{
    #include "MMIDataType.h"
    #include "UcmSrvGprot.h"
    #include "CallSetSrvGprot.h"
    #include "UcmGProt.h"
#if (defined(__PXS_APP_ENABLE__) || defined(MOTION_SENSOR_SUPPORT)) 
    #include "SensorSrvGport.h"
#endif // __PXS_APP_ENABLE__ or MOTION_SENSOR_SUPPORT

}
#ifdef __CTM_SUPPORT__
#include "Vapp_callset_ctm.h" // VappCallSetPageCtm
#endif

#ifdef __MMI_VIDEO_TELEPHONY__
#include "vapp_ucm_video_frame.h"
#include "Vapp_ucm_res_def.h"
#include "vapp_callset_vt.h"	// VappCallSetPageVtPreview
#endif // __MMI_VIDEO_TELEPHONY__


/***************************************************************************** 
 * Define
 *****************************************************************************/
#ifdef __MMI_MAINLCD_320X480__
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_HVGA 
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF_HVGA 
#define VAPP_UCM_KEYPAD VAPP_UCM_KEYPAD_HVGA

#define VAPP_UCM_REDUCED_CELL_HIGHT 54

#define VAPP_UCM_ACT_BTN_FONT       13
#define VAPP_UCM_CALL_BTN_FONT      20
#define VAPP_UCM_DIALPAD_FONT       24
#define VAPP_UCM_DIAL_ICON_FONT     28
#define VAPP_UCM_INFO_BAR_FONT      14
#define VAPP_UCM_CALL_STATUS_FONT   16
#define VAPP_UCM_DISPLAY_NAME_FONT  20
#define VAPP_UCM_NUMBER_FONT        14
#define VAPP_UCM_ENDING_STR_FONT    12

#define VAPP_UCM_SCRN_WIDTH         320
#define VAPP_UCM_SCRN_HEIGHT        480
#define VAPP_UCM_STATUS_BAR_HEIGHT  24
#define VAPP_UCM_ACT_AREA_WIDTH     VAPP_UCM_SCRN_WIDTH
#define VAPP_UCM_ACT_AREA_HEIGHT    180
#define VAPP_UCM_ACT_BTN_GRP_X      5
#define VAPP_UCM_ACT_BTN_GRP_WIDTH  310
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT1 60
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT2 116
#define VAPP_UCM_BTN_TOP_GAP        9
#define VAPP_UCM_BTN_BUTTOM_GAP     8
#define VAPP_UCM_BTN_HEIGHT         47
#define VAPP_UCM_TWO_BTN_X          5
#define VAPP_UCM_ONE_BTN_X          63
#define VAPP_UCM_TWO_BTN_GAP        6
#define VAPP_UCM_TWO_BTN_WIDTH      154
#define VAPP_UCM_ONE_BTN_WIDTH      185
#define VAPP_UCM_ACT_BTN_GRP_Y_END  392
#define VAPP_UCM_REC_ICON_GAP       10

#define VAPP_UCM_ACT_BTN_TOP_MARGIN 8
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN 10
#define VAPP_UCM_ACT_BTN_TOP_MARGIN_WITH_SWITCH_BAR 5
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN_WITH_SWITCH_BAR 15
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_POS_Y_END 5
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_HEIGHT 8

#define VAPP_UCM_CONF_TWO_CALLER_PIC_SIZE  96
#define VAPP_UCM_CONF_THREE_CALLER_PIC_SIZE  80
#define VAPP_UCM_CONF_FOUR_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_FIVE_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_TEXT_PIC_GAP  10

#define VAPP_UCM_KEYPAD_TOP_MARGIN 5

#define VAPP_UCM_SMS_TEMPLATE_CELL_HEIGHT   55
#define VAPP_UCM_SMS_TEMPLATE_TITLE_HEIGHT  24
#define VAPP_UCM_REJECT_BY_SMS_TOP_MARGIN   10
#define VAPP_UCM_REJECT_BY_SMS_LEFT_MARGIN  8

#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_X 275
#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_Y 5
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_X 40
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_Y 40

#ifdef __MMI_VIDEO_TELEPHONY__
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1_HVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2_HVGA

#define VAPP_UCM_DISPLAY_NAME_FONT_VT_INCALL 16
#define VAPP_UCM_VT_DISC_FONT 20
#endif // __MMI_VIDEO_TELEPHONY__


#elif defined __MMI_MAINLCD_480X800__

#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_WVGA 
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF_WVGA 
#define VAPP_UCM_KEYPAD VAPP_UCM_KEYPAD_WVGA

#define VAPP_UCM_REDUCED_CELL_HIGHT 80

#define VAPP_UCM_ACT_BTN_FONT       23
#define VAPP_UCM_CALL_BTN_FONT      30
#define VAPP_UCM_DIALPAD_FONT       35
#define VAPP_UCM_DIAL_ICON_FONT     42
#define VAPP_UCM_INFO_BAR_FONT      23
#define VAPP_UCM_CALL_STATUS_FONT   25
#define VAPP_UCM_DISPLAY_NAME_FONT  35
#define VAPP_UCM_NUMBER_FONT        23
#define VAPP_UCM_ENDING_STR_FONT    15


#define VAPP_UCM_SCRN_WIDTH         480
#define VAPP_UCM_SCRN_HEIGHT        800
#define VAPP_UCM_STATUS_BAR_HEIGHT  42
#define VAPP_UCM_ACT_AREA_WIDTH     VAPP_UCM_SCRN_WIDTH
#define VAPP_UCM_ACT_AREA_HEIGHT    268
#define VAPP_UCM_ACT_BTN_GRP_X      8
#define VAPP_UCM_ACT_BTN_GRP_WIDTH  466
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT1 88
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT2 172
#define VAPP_UCM_BTN_TOP_GAP        14
#define VAPP_UCM_BTN_BUTTOM_GAP     14
#define VAPP_UCM_BTN_HEIGHT         68
#define VAPP_UCM_TWO_BTN_X          8
#define VAPP_UCM_ONE_BTN_X          103
#define VAPP_UCM_TWO_BTN_GAP        8
#define VAPP_UCM_TWO_BTN_WIDTH      228
#define VAPP_UCM_ONE_BTN_WIDTH      275
#define VAPP_UCM_ACT_BTN_GRP_Y_END  744
#define VAPP_UCM_REC_ICON_GAP       10

#define VAPP_UCM_ACT_BTN_TOP_MARGIN 12
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN 8
#define VAPP_UCM_ACT_BTN_TOP_MARGIN_WITH_SWITCH_BAR 5
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN_WITH_SWITCH_BAR 15
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_POS_Y_END 5
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_HEIGHT 8

#define VAPP_UCM_CONF_TWO_CALLER_PIC_SIZE  160
#define VAPP_UCM_CONF_THREE_CALLER_PIC_SIZE  105
#define VAPP_UCM_CONF_FOUR_CALLER_PIC_SIZE  80
#define VAPP_UCM_CONF_FIVE_CALLER_PIC_SIZE  80
#define VAPP_UCM_CONF_TEXT_PIC_GAP  10

#define VAPP_UCM_KEYPAD_TOP_MARGIN 17

#define VAPP_UCM_SMS_TEMPLATE_CELL_HEIGHT   65
#define VAPP_UCM_SMS_TEMPLATE_TITLE_HEIGHT  35
#define VAPP_UCM_REJECT_BY_SMS_TOP_MARGIN   14
#define VAPP_UCM_REJECT_BY_SMS_LEFT_MARGIN  14

#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_X 398
#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_Y 8
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_X 70
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_Y 70

#ifdef __MMI_VIDEO_TELEPHONY__
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1_WVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2_WVGA

#define VAPP_UCM_DISPLAY_NAME_FONT_VT_INCALL 30
#define VAPP_UCM_VT_DISC_FONT 32
#endif // __MMI_VIDEO_TELEPHONY__

#elif defined __MMI_MAINLCD_240X400__

#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_WQVGA 
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF_WQVGA 
#define VAPP_UCM_KEYPAD VAPP_UCM_KEYPAD_WQVGA

#define VAPP_UCM_REDUCED_CELL_HIGHT 27

#define VAPP_UCM_ACT_BTN_FONT       10
#define VAPP_UCM_CALL_BTN_FONT      16
#define VAPP_UCM_DIALPAD_FONT       21
#define VAPP_UCM_DIAL_ICON_FONT     21
#define VAPP_UCM_INFO_BAR_FONT      14
#define VAPP_UCM_CALL_STATUS_FONT   12
#define VAPP_UCM_DISPLAY_NAME_FONT  16
#define VAPP_UCM_NUMBER_FONT        14
#define VAPP_UCM_ENDING_STR_FONT    10

#define VAPP_UCM_SCRN_WIDTH         240
#define VAPP_UCM_SCRN_HEIGHT        400
#define VAPP_UCM_STATUS_BAR_HEIGHT  20
#define VAPP_UCM_ACT_AREA_WIDTH     VAPP_UCM_SCRN_WIDTH
#define VAPP_UCM_ACT_AREA_HEIGHT    138
#define VAPP_UCM_ACT_BTN_GRP_X      4
#define VAPP_UCM_ACT_BTN_GRP_WIDTH  233
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT1 45
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT2 88
#define VAPP_UCM_BTN_TOP_GAP        3
#define VAPP_UCM_BTN_BUTTOM_GAP     4
#define VAPP_UCM_BTN_HEIGHT         42
#define VAPP_UCM_TWO_BTN_X          4
#define VAPP_UCM_ONE_BTN_X          65
#define VAPP_UCM_TWO_BTN_GAP        3
#define VAPP_UCM_TWO_BTN_WIDTH      114
#define VAPP_UCM_ONE_BTN_WIDTH      116
#define VAPP_UCM_ACT_BTN_GRP_Y_END  316
#define VAPP_UCM_REC_ICON_GAP       5

#define VAPP_UCM_ACT_BTN_TOP_MARGIN 5
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN 5
#define VAPP_UCM_ACT_BTN_TOP_MARGIN_WITH_SWITCH_BAR 4
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN_WITH_SWITCH_BAR 8
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_POS_Y_END 2
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_HEIGHT 6

#define VAPP_UCM_CONF_TWO_CALLER_PIC_SIZE  96
#define VAPP_UCM_CONF_THREE_CALLER_PIC_SIZE  80
#define VAPP_UCM_CONF_FOUR_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_FIVE_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_TEXT_PIC_GAP  10

#define VAPP_UCM_KEYPAD_TOP_MARGIN 5

#define VAPP_UCM_SMS_TEMPLATE_CELL_HEIGHT   45
#define VAPP_UCM_SMS_TEMPLATE_TITLE_HEIGHT  20
#define VAPP_UCM_REJECT_BY_SMS_TOP_MARGIN   5
#define VAPP_UCM_REJECT_BY_SMS_LEFT_MARGIN  5

#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_X 200
#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_Y 5
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_X 33
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_Y 33

#ifdef __MMI_VIDEO_TELEPHONY__
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1_WQVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2_WQVGA
#define VAPP_UCM_DISPLAY_NAME_FONT_VT_INCALL 13
#define VAPP_UCM_VT_DISC_FONT 14
#endif // __MMI_VIDEO_TELEPHONY__

#elif defined __MMI_MAINLCD_240X320__

#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3 VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL1_CONF_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL2_CONF_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF VAPP_UCM_CALL_CELL_LAYOUT_NORMAL_LEVEL3_CONF_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_QVGA 
#define VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF VAPP_UCM_CALL_CELL_LAYOUT_REDUCED_CONF_QVGA 
#define VAPP_UCM_KEYPAD VAPP_UCM_KEYPAD_QVGA

#define VAPP_UCM_REDUCED_CELL_HIGHT 27

#define VAPP_UCM_ACT_BTN_FONT       10
#define VAPP_UCM_CALL_BTN_FONT      16
#define VAPP_UCM_DIALPAD_FONT       21
#define VAPP_UCM_DIAL_ICON_FONT     21
#define VAPP_UCM_INFO_BAR_FONT      14
#define VAPP_UCM_CALL_STATUS_FONT   12
#define VAPP_UCM_DISPLAY_NAME_FONT  16
#define VAPP_UCM_NUMBER_FONT        14
#define VAPP_UCM_ENDING_STR_FONT    10

#define VAPP_UCM_SCRN_WIDTH         240
#define VAPP_UCM_SCRN_HEIGHT        320
#define VAPP_UCM_STATUS_BAR_HEIGHT  20
#define VAPP_UCM_ACT_AREA_WIDTH     VAPP_UCM_SCRN_WIDTH
#define VAPP_UCM_ACT_AREA_HEIGHT    138
#define VAPP_UCM_ACT_BTN_GRP_X      4
#define VAPP_UCM_ACT_BTN_GRP_WIDTH  233
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT1 45
#define VAPP_UCM_ACT_BTN_GRP_HEIGHT2 88
#define VAPP_UCM_BTN_TOP_GAP        3
#define VAPP_UCM_BTN_BUTTOM_GAP     4
#define VAPP_UCM_BTN_HEIGHT         42
#define VAPP_UCM_TWO_BTN_X          4
#define VAPP_UCM_ONE_BTN_X          65
#define VAPP_UCM_TWO_BTN_GAP        3
#define VAPP_UCM_TWO_BTN_WIDTH      114
#define VAPP_UCM_ONE_BTN_WIDTH      116
#define VAPP_UCM_ACT_BTN_GRP_Y_END  316
#define VAPP_UCM_REC_ICON_GAP       5

#define VAPP_UCM_ACT_BTN_TOP_MARGIN 5
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN 5
#define VAPP_UCM_ACT_BTN_TOP_MARGIN_WITH_SWITCH_BAR 4
#define VAPP_UCM_ACT_BTN_BOTTOM_MARGIN_WITH_SWITCH_BAR 8
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_POS_Y_END 2
#define VAPP_UCM_ACT_BTN_SWITCH_BAR_HEIGHT 6

#define VAPP_UCM_CONF_TWO_CALLER_PIC_SIZE  96
#define VAPP_UCM_CONF_THREE_CALLER_PIC_SIZE  80
#define VAPP_UCM_CONF_FOUR_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_FIVE_CALLER_PIC_SIZE  60
#define VAPP_UCM_CONF_TEXT_PIC_GAP  10

#define VAPP_UCM_KEYPAD_TOP_MARGIN 5

#define VAPP_UCM_SMS_TEMPLATE_CELL_HEIGHT   45
#define VAPP_UCM_SMS_TEMPLATE_TITLE_HEIGHT  20
#define VAPP_UCM_REJECT_BY_SMS_TOP_MARGIN   5
#define VAPP_UCM_REJECT_BY_SMS_LEFT_MARGIN  5

#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_X 200
#define VAPP_UCM_KEYPAD_BTN_DELETE_POS_Y 5
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_X 33
#define VAPP_UCM_KEYPAD_BTN_DELETE_SIZE_Y 33

#ifdef __MMI_VIDEO_TELEPHONY__
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL1_QVGA
#define VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2 VAPP_UCM_CALL_CELL_LAYOUT_VT_INCALL_LEVEL2_QVGA
#define VAPP_UCM_DISPLAY_NAME_FONT_VT_INCALL 14
#define VAPP_UCM_VT_DISC_FONT 14
#endif // __MMI_VIDEO_TELEPHONY__

#else
#error "Non-supported resolution"
#endif

//#endif /* MAINLCD_320X480 */
/***************************************************************************** 
 * Typedef
 *****************************************************************************/
typedef enum _VappUcmActionTypeEnum
{
    VAPP_UCM_ACT_AREA_BTN1,
    VAPP_UCM_ACT_AREA_BTN2,
    VAPP_UCM_ACT_AREA_BTN3,
    VAPP_UCM_ACT_AREA_BTN4,
    VAPP_UCM_ACT_AREA_BTN5,
    VAPP_UCM_ACT_AREA_BTN6,
    VAPP_UCM_ACT_AREA_BTN7,
    VAPP_UCM_ACT_AREA_BTN8,
    VAPP_UCM_ACT_AREA_BTN_END_CALL,
    VAPP_UCM_ACT_AREA_BTN_ACCEPT_CALL,
    VAPP_UCM_ACT_AREA_BTN_REJECT_CALL,
    VAPP_UCM_ACT_AREA_BTN_BLUETOOTH,
    VAPP_UCM_ACT_AREA_BTN_KEYPAD,
    VAPP_UCM_ACT_AREA_BTN_SPEAKER,
    VAPP_UCM_ACT_AREA_BTN_NEW_CALL,
    VAPP_UCM_ACT_AREA_BTN_CONFERENCE,
    VAPP_UCM_ACT_AREA_BTN_SWAP,
    VAPP_UCM_ACT_AREA_BTN_HOLD,
    VAPP_UCM_ACT_AREA_BTN_RECORD,
    VAPP_UCM_ACT_AREA_BTN_STOP_RECORD,
    VAPP_UCM_ACT_AREA_BTN_MORE,
    VAPP_UCM_ACT_AREA_BTN_MUTE,
    VAPP_UCM_ACT_AREA_BTN_SILENT,
    VAPP_UCM_ACT_AREA_BTN_MESSAGE,
    VAPP_UCM_ACT_AREA_BTN_NOTE,
    VAPP_UCM_ACT_AREA_BTN_DMNR,
    VAPP_UCM_ACT_AREA_BTN_CTM_CONN,
    VAPP_UCM_ACT_AREA_BTN_CTM_SETTING,
    VAPP_UCM_ACT_AREA_BTN_SWITCH,
    VAPP_UCM_ACT_AREA_BTN_HIDE,
    VAPP_UCM_ACT_AREA_BTN_CAMERA,
    VAPP_UCM_ACT_AREA_BTN_CLOSE,
    VAPP_UCM_ACT_AREA_BTN_SPLIT,
    VAPP_UCM_ACT_AREA_BTN_END_THIS_CALL,
    VAPP_UCM_ACT_AREA_BTN_END
} VappUcmActionAreaBtnEnum;

typedef enum _VappUcmActionBtnStateEnum
{
    VAPP_UCM_ACTBTN_STATE_NONE,
    VAPP_UCM_ACTBTN_STATE_ON,
    VAPP_UCM_ACTBTN_STATE_OFF      
} VappUcmActionBtnStateEnum;

typedef enum _VappUcmActionAreaTypeEnum
{
    VAPP_UCM_AREA_INCOMING,
    VAPP_UCM_AREA_OUTGOING,
    VAPP_UCM_AREA_NORMAL
} VappUcmActionAreaTypeEnum;

typedef enum _VappUcmActionButtonPosEnum
{
    VAPP_UCM_ACTBTN_POS_LEFT_TOP,
    VAPP_UCM_ACTBTN_POS_CENTER_TOP,
    VAPP_UCM_ACTBTN_POS_RIGHT_TOP,
    VAPP_UCM_ACTBTN_POS_LEFT_BOTTOM,
    VAPP_UCM_ACTBTN_POS_CENTER_BOTTOM,
    VAPP_UCM_ACTBTN_POS_RIGHT_BOTTOM,
    VAPP_UCM_ACTBTN_POS_LEFT,
    VAPP_UCM_ACTBTN_POS_CENTER,
    VAPP_UCM_ACTBTN_POS_RIGHT
} VappUcmActionButtonPosEnum;

typedef enum _VappUcmActionButtonGroupEnum
{
    VAPP_UCM_ACTBTN_GRP_2_BTN,
    VAPP_UCM_ACTBTN_GRP_3_BTN,
    VAPP_UCM_ACTBTN_GRP_4_BTN,
    VAPP_UCM_ACTBTN_GRP_6_BTN,
    VAPP_UCM_ACTBTN_GRP_8_BTN
} VappUcmActionButtonGroupEnum;

typedef enum _VappUcmCallTypeEnum
{
    VAPP_UCM_CALL_TYPE_NONE,
    VAPP_UCM_CALL_TYPE_VOICE,
    VAPP_UCM_CALL_TYPE_VIDEO,
    VAPP_UCM_CALL_TYPE_DATA,
    VAPP_UCM_CALL_TYPE_CSD,
    VAPP_UCM_CALL_TYPE_ALL
} VappUcmCallTypeEnum;

typedef enum _VappUcmCallCellTypeEnum
{
    VAPP_UCM_CALL_CELL_TYPE_REDUCED1,
    VAPP_UCM_CALL_CELL_TYPE_REDUCED2,
    VAPP_UCM_CALL_CELL_TYPE_NORMAL_LEVEL3,
    VAPP_UCM_CALL_CELL_TYPE_NORMAL_LEVEL2,
    VAPP_UCM_CALL_CELL_TYPE_NORMAL_LEVEL1,
    VAPP_UCM_CALL_CELL_TYPE_TOTAL
}VappUcmCallCellTypeEnum;

typedef enum _VappUcmCallCellRefreshTypeEnum
{
    VAPP_UCM_REFRESH_TYPE_ACT,
    VAPP_UCM_REFRESH_TYPE_IND,
    VAPP_UCM_REFRESH_TYPE_ACTIVE_SCREEN,
    VAPP_UCM_REFRESH_TYPE_TOTAL
}VappUcmCallCellRefreshTypeEnum;

typedef enum _VappUcmCallCellScrnUnlockTypeEnum
{
#ifndef __MMI_UCM_SLIM__
    VAPP_UCM_SCRN_UNLOCK_ACCEPT_CALL,
    VAPP_UCM_SCRN_UNLOCK_REJECT_CALL,
#endif // __MMI_UCM_SLIM__
    VAPP_UCM_SCRN_UNLOCK_ONLY
}VappUcmCallCellScrnUnlockTypeEnum;

typedef enum _VappUcmPostActTypeEnum
{
    VAPP_UCM_POST_ACT_REDIAL,
    VAPP_UCM_POST_ACT_REDIAL_VOICE,
    VAPP_UCM_POST_ACT_SEND_SMS,
    VAPP_UCM_POST_ACT_CANCEL,
    VAPP_UCM_POST_ACT_TYPE_TOTAL
}VappUcmPostActTypeEnum;

typedef enum _VappUcmRedialTypeEnum
{
    VAPP_UCM_REDIAL_NONE,
    VAPP_UCM_REDIAL_CONFIRM,
    VAPP_UCM_REDIAL_AUTO
} VappUcmRedialTypeEnum;

typedef enum _VappUcmScrnLockTimerEnum
{
    VAPP_UCM_TIMER_START,
    VAPP_UCM_TIMER_STOP,
    VAPP_UCM_TIMER_RESET
} VappUcmScrnLockTimerEnum;

typedef enum _VappUcmConfCallTypeEnum
{
    VAPP_UCM_CONF_CALL_NONE,
    VAPP_UCM_CONF_CALL_NORMAL,
    VAPP_UCM_CONF_CALL_REDUCED
} VappUcmConfCalLTypeEnum;

typedef enum _VappUcmDisableActBtnTypeEnum
{
    VAPP_UCM_DISABLE_ACT_BTN_NONE,
    VAPP_UCM_DISABLE_ACT_BTN_ALL,
    VAPP_UCM_DISABLE_ACT_BTN_ALL_EXCEPT_END_KEY
}VappUcmDisableActBtnTypeEnum;

typedef enum _VappUcmSmsStateEnum
{
    VAPP_UCM_SMS_NONE,
    VAPP_UCM_SMS_SELECT_MSG,
    VAPP_UCM_SMS_SENDING
}VappUcmSmsStateEnum;

#ifdef __MMI_VIDEO_TELEPHONY__
typedef struct
{
    VfxBool frontHidden;
    VappVtVideoFrameTypeEnum frontVtFrame;
    VappCallSetVtStatusStruct view;
} VappUcmVtStatusStruct;
#endif // __MMI_VIDEO_TELEPHONY__

#define VAPP_UCM_BTNGRP_MAX_BTN     8

/***************************************************************************** 
 * Class 
 *****************************************************************************/

class VappUcmApp : public VfxApp
{
    VFX_DECLARE_CLASS(VappUcmApp);
protected:
	using VfxApp::onProcessClose;
// Override
public:
    virtual void onRun(void* args, VfxU32 argSize);
    virtual mmi_ret onProc(mmi_event_struct *evt);
    virtual void onGroupActive();
    virtual void onGroupInactive();
    virtual void onDeinit();
    virtual VfxAppCloseAnswerEnum onProcessClose(VfxAppCloseOption options);
#if (defined(__LOW_COST_SUPPORT_COMMON__) && !defined(__MMI_VIDEO_TELEPHONY__))
	virtual void onRestore(VfxArchive &archive);
#endif // SLIM PROJECT WITHOUT VIDEO CALL
private:
#ifdef MOTION_SENSOR_SUPPORT
    SRV_SENSOR_HANDLE    m_muteSensor;
#ifdef __MOTION_SENSOR_ADVANCED_GESTURE__
    SRV_SENSOR_HANDLE    m_recordSensor;
#endif  // __MOTION_SENSOR_ADVANCED_GESTURE__
#endif  // MOTION_SENSOR_SUPPORT

};

class VappUcmActionButton : public VcpButton
{
    VFX_DECLARE_CLASS(VappUcmActionButton);

public:
    virtual void onInit();
    virtual void onDeinit();

    VfxSignal3 <VfxObject*, VfxId, VfxBool> m_signalBtnClicked;

    void onButtonClick(VfxObject* obj, VfxId id);
    void onActBtnClicked(VfxObject* obj, VfxId id, VfxBool value);
    void setSwitchable(VfxBool enable);
    void setBtnPos(VappUcmActionButtonPosEnum pos);
    VfxBool getSwitchAble(void);
    void setSwitchOn(VfxBool switch_on);
    void startAnimation(VfxBool start);
    void onAnimateTimerTicked(VfxTimer *timer);

private:
    VfxBool                     m_switchable;
    VfxBool                     m_switch;
    VfxFrame                    *m_switchBar;
    VfxTimer                    *m_animateTimer;
};

class VappUcmActionButtonGroup : public VfxFrame
{
    VFX_DECLARE_CLASS(VappUcmActionButtonGroup);

public:

    VfxSignal3 <VfxObject*, VfxId, VfxBool> m_signalActBtnClicked;

    virtual void onInit();
    void setPos(VfxS32 x, VfxS32 y);
    void setSize(VfxS32 width, VfxS32 height);
    void setType(VappUcmActionButtonGroupEnum type);
    VfxBool setBtnIcon(VfxU8 btnIdx, const VcpStateImage &imageList);
    VfxBool setBtnLabel(VfxU8 btnIdx, VfxResId resId);
    VfxBool setBtnDisable(VfxU8 btnIdx, VfxBool disable);
    VfxBool setBtnSwitchable(VfxU8 btnIdx, VfxBool switchable);
    VfxBool setBtnId(VfxU8 btnIdx, VfxId btnId);
    VfxBool setBtnSwitchOn(VfxU8 btnIdx, VfxBool switch_on);
    VfxBool getBtnDisable(VfxU8 btnIdx);
    VfxBool getBtnSwitchable(VfxU8 btnIdx);
    VfxU8 getBtnIndex(VfxId btnId);
    void onActBtnClicked(VfxObject* obj, VfxId id, VfxBool value);
    void disableAllBtns(VfxBool disable);
    void setBtnStartAnimate(VfxU8 btnIdx, VfxBool startAnimate);

private:
    VfxU8                   m_btnNum;
    VfxPoint                m_pos;
    VfxSize                 m_size;
    VappUcmActionButton     *m_btns[VAPP_UCM_BTNGRP_MAX_BTN];

    void setBtnPos(VfxU8 btnIdx, VappUcmActionButtonPosEnum pos);
    void relayoutBtns();
};

class VappUcmActionArea : public VfxFrame
{
    VFX_DECLARE_CLASS(VappUcmActionArea);

public:
    VappUcmActionButtonGroup    *m_actionButtonGroup;

    virtual void onInit();
    void setAreaType(VappUcmActionAreaTypeEnum type);
    void hide(VfxBool hide){this->setHidden(hide);}
    void onActionButtonClick(VfxObject* obj, VfxId id, VfxBool value);
    void onButtonClick(VfxObject* obj, VfxId id);
    VfxSignal2 <VfxId, VappUcmActionBtnStateEnum> m_signalActions;
    void disableAllBtns(VappUcmDisableActBtnTypeEnum type);

private:
    VappUcmActionAreaTypeEnum   m_type;
    VcpButton                   *m_endCall;
    VcpButton                   *m_acceptCall;
    VcpButton                   *m_rejectCall;
};

class VappUcmConfCallerPic : public VcpPhotoBorderFrame
{
   VFX_DECLARE_CLASS(VappUcmConfCallerPic);
   
   public:
        virtual void onInit();
        virtual VfxBool onPenInput(VfxPenEvent &event);
        VfxSignal2 <VfxS32, VfxS32> m_signalClicked;
        void setCallIdx(VfxS32 group_idx, VfxS32 call_idx);
        void setMixedCaller(void);

    private:
        VfxBool m_penDown;
        VfxS32  m_groupIdx;
        VfxS32  m_callIdx;
};

class VappUcmNotification: public VsrvNCell
{
    VFX_DECLARE_CLASS(VappUcmNotification);
protected:
    virtual void onInit();
    virtual void onDeinit();

public:
    virtual void onCreateView(void* viewData, VfxU32 viewDataSize);
    virtual void onCloseView();

    void updateView(void);
    VfxU32          m_callCount;

private:
    VappNCenterOngoingCell *m_ucmNCenterCell;
    VfxDateTime     m_callStartTime;
    VfxWString      m_callStatus;
    VfxTimer       *m_timer;

    void onCallTimerTicked(VfxTimer *timer);
    VfxWString getCallTimeDurationStr(void);
    void startCallTimer(void);
    void stopCallTimer(void);
    static mmi_ret onCallStatusChange(mmi_event_struct *evt);

};

class VappUcmCallCell : public VfxControl
{
    VFX_DECLARE_CLASS(VappUcmCallCell);

    VappUcmCallCell():
        m_cellType(VAPP_UCM_CALL_CELL_TYPE_NORMAL_LEVEL3)
    {
    };

public:

    virtual void onInit();
    virtual void updateScreen(){};
    virtual void onActionAreaClicked(VfxId btn, VappUcmActionBtnStateEnum state);
    virtual void onRefreshCell(VappUcmCallCellRefreshTypeEnum refresh_type, void* data){};
    virtual void onCallTimerTicked(VfxTimer *timer);
            void setGroupInfo(srv_ucm_group_info_struct *info);
            void setCellType(VappUcmCallCellTypeEnum cellType);
            void setLocked(VfxBool isLocked);
            void setCallId(VfxS32 group_id, VfxS32 call_id);
            void startRecord();
            void stopRecord();
			void updateCallStatus(VfxWString& str);
			void updateCallStatus(VfxResId res_id);
			void updateCallStatus(VfxWChar* str);
            VfxBool isReducedCell();
            VfxBool isMorePopupShowing(){return m_isMorePopupShowing;}

            VappUcmCallCellTypeEnum getCellType(){return m_cellType;}
            virtual VfxBool onPenInput(VfxPenEvent &event);
            srv_ucm_index_info_struct getCallIndex(){return m_callIndex;}
            VfxS16 getCallGroupId(){return m_groupInfo.group_id;}
            void hideActionArea(VfxBool hide);
            void startCallTimer(void);
            void stopCallTimer(void);
            srv_ucm_call_type_enum getCallType(void){return m_groupInfo.call_type;}
            srv_ucm_call_state_enum getCallState(void){return m_groupInfo.call_state;}
            void setCallState(srv_ucm_call_state_enum call_state) {m_groupInfo.call_state = call_state;}
            void showStatusNotify(VfxWString string);
        #ifndef __MMI_UCM_SLIM__
            void startBTSwitch();
            void stopBTSwitch(VfxBool connect);
        #endif // __MMI_UCM_SLIM__
            VfxSignal1 <VappUcmCallCell*>           m_signalSwapCell;
            VfxSignal1 <VfxBool>                    m_signalShowDialPad;
            VfxSignal1 <VappUcmScrnLockTimerEnum>   m_signalScrnLockTimer;
            VfxSignal1 <VfxBool>                    m_signalDisableBacknHomeKey;
            VappUcmActionArea                       *m_actionArea;
            void setActBtnDisable(VappUcmActionAreaBtnEnum btn_id, VfxBool disable);
            void setActBtnSwitchOn(VappUcmActionAreaBtnEnum btn_id, VfxBool switch_on);
            VfxU8 getCallCount() const {return m_numCalls;}

protected:

    VfxU8                       m_numCalls;
    VfxBool                     m_isLocked;
    VfxBool                     m_isProgressing;
#ifndef __MMI_UCM_SLIM__
    VfxBool                     m_isBTConnecting;
#endif // __MMI_UCM_SLIM__
    VfxBool                     m_isMorePopupShowing;   // for UI Performance
    srv_ucm_group_info_struct   m_groupInfo;
    VappUcmCallCellTypeEnum     m_cellType;
    srv_ucm_index_info_struct   m_callIndex;
    VfxDateTime                 m_callStartTime;

    VfxTimer                    *m_timer;
    VfxTimer                    *m_notifyTimer;
    VfxImageFrame               *m_recIcon;
    VfxTextFrame                *m_callStatus;
    VfxFrame                    *m_callStatusBg;
    VfxFrame                    *m_simInfoBar;
#if 0
/* under construction !*/
#endif

    virtual void        showMoreOptions(void){};
    virtual void        showDialPad(VfxBool show);
    virtual void        updateRecIcon();
            void        createActionArea(VappUcmActionArea **actionArea);
            void        updateActionButtons(VappUcmActionArea *actionArea);
            VfxWString  getCallTimeDurationStr(void);

private:
    void onIntCallTimerTicked(VfxTimer *timer);
};
class VappUcmVoiceCallCell : public VappUcmCallCell
{
    VFX_DECLARE_CLASS(VappUcmVoiceCallCell);
    #define MAX_CONF_CALLEE 5

    public:
        virtual void onInit();
        virtual void updateScreen();
        virtual void onRefreshCell(VappUcmCallCellRefreshTypeEnum refresh_type, void* data);
                void setCallNumber(VfxU8 num);
                void onCallerPicClicked(VfxS32 group_id, VfxS32 call_id);
                void onCmdOptionClicked(VfxObject *obj, VfxId id);
                void updateCallCell(void);
                void onCallRelease();
                VfxBool compareUID(srv_ucm_id_info_struct *uid);
       virtual void onActionAreaClicked(VfxId btn, VappUcmActionBtnStateEnum state);

    private:
        VappUcmConfCalLTypeEnum     m_confCallType;
        srv_ucm_index_info_struct   m_confSelectCall;
        VfxFrame                    *m_frame;
        VfxTextFrame                *m_infoBar;
        VfxFrame                    *m_infoBarBg;
        VfxTextFrame                *m_displayName;
        VfxTextFrame                *m_number;
        VcpPhotoBorderFrame         *m_callerPic;
    #if (!defined(__LOW_COST_SUPPORT_COMMON__) && !defined(__MMI_UCM_SLIM__))
        VfxAnimImageFrame           *m_dialing_ani_left;
        VfxAnimImageFrame           *m_dialing_ani_right;
    #endif
        VcpMenuPopup                *m_confSelectMenu;
        VappUcmConfCallerPic        *m_confCallerPic[MAX_CONF_CALLEE];
        VfxTextFrame                *m_confDisplayName[MAX_CONF_CALLEE];
    #ifndef __MMI_UCM_SLIM__
        virtual void showMoreOptions(void);
    #endif // __MMI_UCM_SLIM__
        void showConfCallOptions(void);
        void rejectCall(void);
        void cancelCall(void);
        void arrangeConfNormalScreen(void);
        void showConfCallerList(VfxS32 group_id);
        void onConfCallerSelectCallback(VcpMenuPopup* menu, VcpMenuPopupEventEnum menu_event, VcpMenuPopupItem* item);
        void onAcceptClickButton(VfxObject* obj, VfxId id);
        void loadXML(VfxResId xml_layout_id, VfxBool is_reduced_cell);
		#if 0
/* under construction !*/
		#endif
        void updateDisplayName(srv_ucm_call_info_struct *call_info);
        void updateNumber(srv_ucm_call_info_struct *call_info);
        void updateCallerPic(srv_ucm_call_info_struct *call_info);
        void updateInfoBar(srv_ucm_call_info_struct *call_info);

};

#ifdef __MMI_VIDEO_TELEPHONY__
typedef enum
{
    VT_READY_NONE = 0,
    VT_READY_ASM = 0x0001,
    VT_READY_PLAY_VIDEO = 0x0002
} vt_ready_type_enum;

class VappUcmVideoCallCell : public VappUcmCallCell
{
    VFX_DECLARE_CLASS(VappUcmVideoCallCell);

    public:
        virtual void onInit();
        virtual void onDeinit();
        virtual void updateScreen();
        virtual void onActionAreaClicked(VfxId btn, VappUcmActionBtnStateEnum state);
        virtual void onRefreshCell(VappUcmCallCellRefreshTypeEnum refresh_type, void* data);
        void onCallRelease();
        void onCallAccept();
        void onPrepareDone(vt_ready_type_enum vt_ready);
        void waitReadyPlay();

    protected:
        virtual void showMoreOptions(void);
        void updateActionArea(srv_ucm_call_state_enum state);
        void vFramePause();
        void vFrameResume();

    private:
        enum
        {
            STATE_NONE,
            STATE_PLAY_NOT_READY,
            STATE_PLAY_READY,
            STATE_PAUSE
        };

        enum
        {
            OPTION_SNAPSHOT,
            OPTION_ADJUST_LOCAL_IMG,
            OPTION_SWITCH_TO_VOICE_CALL,
            OPTION_DMNR,
            OPTION_SMS,
            OPTION_CLOSE
        };

        VfxFrame        *m_frame;
        VfxFrame        *m_infoBarBg;
        VfxTextFrame    *m_infoBar;
        VfxTextFrame    *m_displayName;
        VfxTextFrame    *m_number;
        VcpPhotoBorderFrame *m_callerPic;
        VappVtVideoFrame *m_videoFrame;
        VcpMoreCommandPopup     *m_moreCmdPopup;
        VappCallSetPageVtPreview *m_pageVtPreview;
        VfxImageFrame *m_vtIcon;
    #ifndef __LOW_COST_SUPPORT_COMMON__
        // actually, there is no need to use this compile option, as SLIM project will not support video call
        VfxAnimImageFrame           *m_dialing_ani_left;
        VfxAnimImageFrame           *m_dialing_ani_right;
    #endif
        VappUcmVtStatusStruct m_vtStatus;
        VfxBool m_isBg;
        VfxBool m_needUpdateValue;
        VcpConfirmPopup *m_cnfPopup;
        VfxFrame *m_fakeVFrame;
        VfxFrame *m_vFrameMain;
        VfxFrame *m_vFrameSub;
        VfxU32 m_state;
        vt_ready_type_enum  m_readyToPlay;

        void onCmdBtnClicked(VfxObject* sender, VfxId id);
        void onVFrameOwnershipReturn(VappCallSetPageVtPreview *sender, VappCallSetVtStatusStruct *status);
        void onAfterVFrameOwnershipReturn(VfxTimer *timer);
        void onSendImgCnfClicked(VfxObject* sender, VfxId id);
        void onSendImgCnfClicked2(VfxObject* sender, VfxId id);
        void onAcceptCnfClicked(VfxObject* sender, VfxId id);
        void rejectCall(void);
        void cancelCall(void);
        void clearFrames(void);
        void initVtStatus(void);
        void updateCallerPic(srv_ucm_call_info_struct *call_info);
        void updateVideoFrame(void);
        void updateLocalView(void);
        void updateLocalValue(void);
        void onVFrameEvent(VappVtVideoFrameEvtEnum evt, VfxS32 param);
        void onVFramePenInput(VfxPenEventTypeEnum type, VappVtVideoFrameTypeEnum frame);
        VfxRect getVFrameRect(void);
		#if 0
/* under construction !*/
		#endif
        VappVtVideoFrameEvEnum getVFrameAppEv(srv_callset_vt_ev_enum ev);
        void createVideoFrame();

public:
    VfxBool isReady() {return (m_state != VappUcmVideoCallCell::STATE_PLAY_NOT_READY);}

};
#endif // __MMI_VIDEO_TELEPHONY__

typedef union
{
    VappUcmVoiceCallCell    *voiceCallCell;
#ifdef __MMI_VIDEO_TELEPHONY__
    VappUcmVideoCallCell    *videoCallCell;
#endif // __MMI_VIDEO_TELEPHONY__
} VappUcmCallCellUnion;

typedef struct
{
    VappUcmCallTypeEnum             call_type;
    VappUcmCallCellUnion            ptrCallCell;
    VappUcmCallCellRefreshTypeEnum  refresh_type;
    void* data;
} VappUcmCallCellStruct;

class VappUcmDialButton : public VcpButton
{
protected:
	virtual VfxBool onPenInput(VfxPenEvent & event);
public:
	VfxSignal0 m_signallongpress;
};

class VappUcmDialPad : public VfxFrame
{
    VFX_DECLARE_CLASS(VappUcmDialPad);
    #define MAX_DIAL_BUFF_LENG  32

public:
    virtual void onInit();
    virtual void onButtonStateChanged(VfxObject* obj, VfxId id, VcpButtonStateEnum state);
	void onLongPressDelete(void);
    VfxSignal1 <VappUcmScrnLockTimerEnum> m_signalScrnLockTimer;
    VfxWChar* getDialBuff(){return m_dialBuff;}
    VfxBool isEmpty(){if(m_dialBuffLen ==0) return VFX_TRUE; else return VFX_FALSE;}
    virtual VfxBool onKeyInput(VfxKeyEvent & event);

private:
    VfxFrame        		*m_top_area;
    VfxFrame        		*m_dialPad;
    VcpTextView     		*m_editor_text;
    VfxFrame        		*m_display_area;
    VappUcmDialButton       *m_delete_key;
    VfxFrame        		*m_key_frame;
    VcpButton       		*m_tmp_btn;
    VcpButton       		*m_number_btns[12];

    VfxU8           		m_dialBuffLen;
    VfxWChar        		m_dialBuff[MAX_DIAL_BUFF_LENG];
};

#ifndef __MMI_UCM_SLIM__
class VappUcmScrnLockCard : public VappScreenLockCard
{
    VFX_DECLARE_CLASS(VappUcmScrnLockCard);
public:
    void setActType(VappUcmCallCellScrnUnlockTypeEnum act_type);
    VfxSignal1<VappUcmCallCellScrnUnlockTypeEnum> m_signalUnlockCard;

protected:
    virtual void onInit();    
    virtual void onUnlocked();

private:
    VappUcmCallCellScrnUnlockTypeEnum m_actType;
};

class VappUcmScrnLockUnlockCard : public VappScreenLockUnlockCard
{
    VFX_DECLARE_CLASS(VappUcmScrnLockUnlockCard);

public:
    VfxSignal1<VappUcmCallCellScrnUnlockTypeEnum> m_signalUnlockCard;

protected:
    virtual void onUnlocked();
};

class VappUcmScrnLockFrame :public VappScreenLockFrame
{
    VFX_DECLARE_CLASS(VappUcmScrnLockFrame);

public:
    virtual void onInit();
    VfxSignal1 <VappUcmCallCellScrnUnlockTypeEnum> m_signalScrnUnlock;
    void onCardUnlock(VappUcmCallCellScrnUnlockTypeEnum unlock_type);
    void hideCard(VappUcmCallCellScrnUnlockTypeEnum card_type, VfxBool hide);

private:
    VappUcmScrnLockCard         *m_acceptCallCard;
    VappUcmScrnLockCard         *m_rejectCallCard;
    VappUcmScrnLockUnlockCard   *m_unlockCard;
};
#else
class VappUcmScrnLockPanel :public VfxControl
{
    VFX_DECLARE_CLASS(VappUcmScrnLockPanel);

public:
    VfxSignal1<VfxObject*> m_signalScrnUnlock;
    void restoreOriginPosition(VfxBool isNoAnimation);
#if 0
/* under construction !*/
/* under construction !*/
#endif
protected:
    virtual void onInit();
    virtual VfxBool onPenInput(VfxPenEvent &event);
private:
    void onTimerArrowAnimation(VfxTimer *timer);
    void dismiss();
    void onTimelineStopped(VfxBaseTimeline * timeline,VfxBool isCompleted);
private:
    VfxBool m_pressed;
    VfxU32 m_counter;
    VfxImageFrame *m_arrow[3];
    VfxTimer *m_timerArrowAnimation;
};
#endif // __MMI_UCM_SLIM__

class VappUcmMainPage : public VfxPage
{
    VFX_DECLARE_CLASS(VappUcmMainPage);
    
protected:
    virtual void onInit();
    virtual void onDeinit();
    virtual void onEntered();
    virtual void onEnter(VfxBool isBackward);
    virtual void onExit(VfxBool isBackward);
    virtual void onExited();
    virtual void onExited2();
    virtual VfxBool onPreviewPenInput(VfxPenEvent &event);
    virtual VfxBool onKeyInput(VfxKeyEvent & event);

public:
    void refreshCallCells(VappUcmCallCellRefreshTypeEnum refresh_type, void *data);
    VfxU8 getTotalCallCounts(){return m_totalCallCells;}
    VappUcmCallCell* getActivateCallCell(void);
    VappUcmCallCell* getCallCell(VfxU8 index);
    VfxMainScr  *getUcmMainScr(void);
    void swapCallCells(VappUcmCallCell *target_cell);
    void onSwapEffectFinish1(VfxFrame *call_cell, VfxBool is_complete);
    void onSwapEffectFinish2(VfxFrame *call_cell, VfxBool is_complete);
    void onScrnLock(VfxBool locked);
    void onScrnUnlock(VappUcmCallCellScrnUnlockTypeEnum unlock_type);
    void onCancelAutoRedial(VfxObject *obj, VfxId id);
	void ShowRedialConfirm(VfxResId resId, VappUcmCallTypeEnum call_type);
    void CloseRedialConfirm();
    void updateAutoRedialString(VfxTimer *timer);
    void setScrnLockTimer(VfxBool state);
    void disableBacknHomeKey(VfxBool disable);
    VfxBool isScreenLocked(){return m_isScrnLocked;}
    VfxBool isKeyPadEnabled(){if(m_dialPad) return VFX_TRUE; else return VFX_FALSE;}
    VfxBool isOnPostAction(){if(m_redialType == VAPP_UCM_REDIAL_NONE) return VFX_FALSE; else return VFX_TRUE;}
    void showCofirmPopup(const VfxWChar* str);
    void closeConfirmPopup();
    void onHandleConfirm(VfxObject *obj, VfxId id);
    void onNCenterStatus(enum VappNCenterEventEnum evt);
    VcpFrameEffect *m_effect1;
    VcpFrameEffect *m_effect2;
#ifdef __MMI_VIDEO_TELEPHONY__
public:
    void onHeadsetKey(void);
private:
    VappUcmVideoCallCell* createVideoCallCell(VfxS32 group_id, VfxS32 call_id, VappUcmCallCellTypeEnum cell_type);
    void refreshVideoCallCell(VfxS32 group_id, VfxS32 call_id, VappUcmCallCellTypeEnum cell_type, VappUcmVideoCallCell *videoCallCell, VappUcmCallCellRefreshTypeEnum refresh_type, void* data);
#ifdef __MMI_EM_PROFILING_VT_LOOKBACK__
/* under construction !*/
/* under construction !*/
#endif // __MMI_EM_PROFILING_VT_LOOKBACK__
#endif // __MMI_VIDEO_TELEPHONY__
private:
    void createScrnLockFrame();
#ifdef __MMI_UCM_SLIM__
    void onUnlockFinished(VfxObject *panel);
#else
    void onUnlockFinished(VappScreenLockFrame *frame);
#endif // __MMI_UCM_SLIM__
    void setActiveCallCell(VappUcmCallCell *call_cell);
    void onShowDialPad(VfxBool show);
    void afterReleaseAnimation(VfxBaseTimeline *time_line, VfxBool reason);
    VappUcmVoiceCallCell* createVoiceCallCell(VfxS32 group_id, VfxS32 call_id, VappUcmCallCellTypeEnum cell_type);
    void createCallCells();
	void onConfirmRedial(VfxObject *obj, VfxId id);
    void onScrnLockTimerExpiry(VfxTimer *timer);
    void onControlScrnLocKTimer(VappUcmScrnLockTimerEnum type);
    void initWallpaper();

    VappWallpaper               *m_bgImg;
    VfxFloatTimeline            *m_floatTimeLine;
    VappUcmDialPad              *m_dialPad;
    VappUcmCallCell             *m_activeCallCell;
#ifndef __MMI_UCM_SLIM__
    VappUcmScrnLockFrame        *m_scrnLock;
#else
    VappUcmScrnLockPanel        *m_scrnLock;
#endif // __MMI_UCM_SLIM__
    VfxTimer                    *m_redialTimer;
    VcpConfirmPopup             *m_cnfPopup;
    VfxTimer                    *m_scrnLockTimer;
    VcpMoreCommandPopup         *m_redialCmdPopup;

    VfxU8                       m_totalCallCells;
    VappUcmCallCellTypeEnum     m_cellType;
    VappUcmCallCellStruct       m_callCells[3];
    VfxBool                     m_isScrnLocked;
    VappUcmRedialTypeEnum		m_redialType;
    VfxU8                       m_autoRedialTime;
    VfxBool                     m_disableBacknHomeKey;
    U8                          m_numUri[SRV_UCM_MAX_NUM_URI_LEN + 1];
    VfxU32                      m_effect1Count;
    VfxU32                      m_effect2Count;
    VfxBool                     m_penDown;

};

#ifdef __MMI_UCM_REJECT_BY_SMS__
class VappUcmSmsTemplatePage : public VappTextTemplateListPage
{
    VFX_DECLARE_CLASS(VappUcmSmsTemplatePage);
    public:
        void sendSMS(VfxObject* obj, VfxWString sms_str, VfxU16 template_id);
        void updateCallerInfo(srv_ucm_call_info_struct *info);

    protected:
        virtual void onInit();
        virtual void onDeinit();
        virtual VfxBool onKeyInput(VfxKeyEvent & event);
        virtual void onQueryRotateEx(VfxScreenRotateParam &param);

    private:
        VfxFrame                *m_frame;
        VcpPhotoBorderFrame     *m_callerPic;
        VfxTextFrame            *m_displayName;
        VfxTextFrame            *m_number;
        VfxTextFrame            *m_title;

        srv_ucm_call_info_struct  m_callerInfo;
};
#endif // __MMI_UCM_REJECT_BY_SMS__

class VappUcmCallScreen : public VfxMainScr
{
    VFX_DECLARE_CLASS(VappUcmCallScreen);

public:
    virtual void onInit();
    virtual void onDeinit();
    virtual void on1stReady();
    VappUcmMainPage* getMainPage();
    void closePagesAboveMainPage();
#if (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__))	
    void enterUC(VappUcEntryStruct *data);
    void realEnterUC();
#endif /* (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__)) */
    virtual mmi_ret onProc(mmi_event_struct* evt);
    void refreshMainScreen();
private:
#if (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__))	
    void copyUCData(VappUcEntryStruct *data);
    void deinitUCData();
#endif /* (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__)) */
    VfxWeakPtr<VappUcmMainPage>    m_mainPage;
#if (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__))
    mmi_id m_uc;
    VappUcEntryStruct *m_ucData;
#endif /* (defined(__MMI_UNIFIED_COMPOSER__) || defined(__MMI_MMS_STANDALONE_COMPOSER__)) */
#ifdef __MMI_UCM_VT_MSG__
public:
    void pushMsgFolderPage();
    VfxBool msgFolderPageExists();
private:
    VfxWeakPtr<VappMsgFolderPage> m_msgFolderPage;
#endif // __MMI_UCM_VT_MSG__
#ifdef __MMI_UCM_REJECT_BY_SMS__
public:
    void pushSMSTemplatePage();
private:
    VfxWeakPtr<VappUcmSmsTemplatePage> m_smsTemplatePage;
#endif // __MMI_UCM_REJECT_BY_SMS__
#ifdef __CTM_SUPPORT__
public:
    void pushCtmPage();
private:
    VfxWeakPtr<VappCallSetPageCtm> m_ctmPage;
#endif // __CTM_SUPPORT__
};


#endif // __VAPP_UCM_DEF_H__

