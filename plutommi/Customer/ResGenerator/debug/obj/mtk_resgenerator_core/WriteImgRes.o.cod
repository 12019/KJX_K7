GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 1


   1              		.file	"WriteImgRes.c"
   4              		.text
   5              	Ltext0:
 2435              	LC0:
 2436 0000 424D5000 		.ascii "BMP\0"
 2437              	LC1:
 2438 0004 50424D00 		.ascii "PBM\0"
 2439              	LC2:
 2440 0008 4A504700 		.ascii "JPG\0"
 2441              	LC3:
 2442 000c 47494600 		.ascii "GIF\0"
 2443              	LC4:
 2444 0010 41424D00 		.ascii "ABM\0"
 2445              	LC5:
 2446 0014 41564900 		.ascii "AVI\0"
 2447              	LC6:
 2448 0018 33475000 		.ascii "3GP\0"
 2449              	LC7:
 2450 001c 4D503400 		.ascii "MP4\0"
 2451              	LC8:
 2452 0020 525600   		.ascii "RV\0"
 2453              	LC9:
 2454 0023 524D00   		.ascii "RM\0"
 2455              	LC10:
 2456 0026 524D5642 		.ascii "RMVB\0"
 2456      00
 2457              	LC11:
 2458 002b 504E4700 		.ascii "PNG\0"
 2459              	LC12:
 2460 002f 50504E00 		.ascii "PPN\0"
 2461              	LC13:
 2462 0033 4D334400 		.ascii "M3D\0"
 2463              	LC14:
 2464 0037 434D5000 		.ascii "CMP\0"
 2465              	LC15:
 2466 003b 56495300 		.ascii "VIS\0"
 2467              	LC16:
 2468 003f 53564700 		.ascii "SVG\0"
 2469              	LC17:
 2470 0043 54544600 		.ascii "TTF\0"
 2471              	LC18:
 2472 0047 53544600 		.ascii "STF\0"
 2473              	LC19:
 2474 004b 43434300 		.ascii "CCC\0"
 2475              	LC20:
 2476 004f 4B545800 		.ascii "KTX\0"
 2477 0053 8DB60000 		.align 32
 2477      00008DBC 
 2477      27000000 
 2477      00
 2478              	_image_resource_info:
 2479 0060 00000000 		.long	LC0
 2480 0064 01       		.byte	1
 2481 0065 000000   		.space 3
 2482 0068 04000000 		.long	LC1
 2483 006c 04       		.byte	4
 2484 006d 000000   		.space 3
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 2


 2485 0070 08000000 		.long	LC2
 2486 0074 09       		.byte	9
 2487 0075 000000   		.space 3
 2488 0078 0C000000 		.long	LC3
 2489 007c 03       		.byte	3
 2490 007d 000000   		.space 3
 2491 0080 10000000 		.long	LC4
 2492 0084 28       		.byte	40
 2493 0085 000000   		.space 3
 2494 0088 14000000 		.long	LC5
 2495 008c 0C       		.byte	12
 2496 008d 000000   		.space 3
 2497 0090 18000000 		.long	LC6
 2498 0094 0E       		.byte	14
 2499 0095 000000   		.space 3
 2500 0098 1C000000 		.long	LC7
 2501 009c 10       		.byte	16
 2502 009d 000000   		.space 3
 2503 00a0 20000000 		.long	LC8
 2504 00a4 4A       		.byte	74
 2505 00a5 000000   		.space 3
 2506 00a8 23000000 		.long	LC9
 2507 00ac 4C       		.byte	76
 2508 00ad 000000   		.space 3
 2509 00b0 26000000 		.long	LC10
 2510 00b4 4E       		.byte	78
 2511 00b5 000000   		.space 3
 2512 00b8 2B000000 		.long	LC11
 2513 00bc 13       		.byte	19
 2514 00bd 000000   		.space 3
 2515 00c0 2F000000 		.long	LC12
 2516 00c4 48       		.byte	72
 2517 00c5 000000   		.space 3
 2518 00c8 33000000 		.long	LC13
 2519 00cc 19       		.byte	25
 2520 00cd 000000   		.space 3
 2521 00d0 37000000 		.long	LC14
 2522 00d4 1D       		.byte	29
 2523 00d5 000000   		.space 3
 2524 00d8 3B000000 		.long	LC15
 2525 00dc 31       		.byte	49
 2526 00dd 000000   		.space 3
 2527 00e0 3F000000 		.long	LC16
 2528 00e4 1B       		.byte	27
 2529 00e5 000000   		.space 3
 2530 00e8 43000000 		.long	LC17
 2531 00ec 49       		.byte	73
 2532 00ed 000000   		.space 3
 2533 00f0 47000000 		.long	LC18
 2534 00f4 49       		.byte	73
 2535 00f5 000000   		.space 3
 2536 00f8 4B000000 		.long	LC19
 2537 00fc 49       		.byte	73
 2538 00fd 000000   		.space 3
 2539 0100 4F000000 		.long	LC20
 2540 0104 43       		.byte	67
 2541 0105 000000   		.space 3
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 3


 2558              	.globl _image_idx
 2559              		.data
 2560              		.align 4
 2561              	_image_idx:
 2562 0000 01000000 		.long	1
 2563              	.globl _g_resimg_count
 2564 0004 00000000 		.bss
 2564      00000000 
 2564      00000000 
 2565              		.align 4
 2566              	_g_resimg_count:
 2567 0000 00000000 		.space 4
 2568              	.lcomm _g_mmi_res_font_id,16
 2569              	.globl _g_mmi_res_font_flags
 2570              		.align 4
 2571              	_g_mmi_res_font_flags:
 2572 0004 00000000 		.space 4
 2573              	.lcomm _g_mmi_res_font_userdata,16
 2574              	.lcomm _g_font_size,16
 2575              	.globl _g_mmi_res_nfb_used
 2576              		.align 4
 2577              	_g_mmi_res_nfb_used:
 2578 0008 00000000 		.space 4
 2579              		.text
 2580              	LC21:
 2581 0108 556E6B6E 		.ascii "Unknown Id\0"
 2581      6F776E20 
 2581      496400
 2582 0113 00000000 		.space 245
 2582      00000000 
 2582      00000000 
 2582      00000000 
 2582      00000000 
 2583              	LC22:
 2584 0208 556E6B6E 		.ascii "Unknown File\0"
 2584      6F776E20 
 2584      46696C65 
 2584      00
 2585 0215 00000000 		.space 243
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2585      00000000 
 2586              	LC23:
 2587 0308 2E5C5C64 		.ascii ".\\\\debug\\\\image_load_fail.txt\0"
 2587      65627567 
 2587      5C5C696D 
 2587      6167655F 
 2587      6C6F6164 
 2588              	LC24:
 2589 0326 6100     		.ascii "a\0"
 2590              	LC25:
 2591 0328 7700     		.ascii "w\0"
 2592 032a 90909090 		.align 32
 2592      90909090 
 2592      90909090 
 2592      90909090 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 4


 2592      90909090 
 2593              	LC26:
 2594 0340 23232323 		.ascii "###############################################\12\0"
 2594      23232323 
 2594      23232323 
 2594      23232323 
 2594      23232323 
 2595 0371 EB0D9090 		.align 32
 2595      90909090 
 2595      90909090 
 2595      909090
 2596              	LC27:
 2597 0380 23202020 		.ascii "#       Resgen Failed Image Loading Log       #\12\0"
 2597      20202020 
 2597      52657367 
 2597      656E2046 
 2597      61696C65 
 2598 03b1 EB0D9090 		.align 32
 2598      90909090 
 2598      90909090 
 2598      909090
 2599              	LC28:
 2600 03c0 49445F4E 		.ascii "ID_NAME \11ID\11FILE_PATH\11FORCE_TYPE\12\0"
 2600      414D4520 
 2600      09494409 
 2600      46494C45 
 2600      5F504154 
 2601              	LC29:
 2602 03e2 25730925 		.ascii "%s\11%d\11%s\11%d\12\0"
 2602      64092573 
 2602      0925640A 
 2602      00
 2609              	_LogILoadFail:
   1:../../MMI/Resource/WriteImgRes.c **** #include "mmi_features.h"
   2:../../MMI/Resource/WriteImgRes.c **** #include "MMIDataType.h"
   3:../../MMI/Resource/WriteImgRes.c **** #include "CustDataRes.h"
   4:../../MMI/Resource/WriteImgRes.c **** #include "CustDataProts.h" // for FORCE_BMP
   5:../../MMI/Resource/WriteImgRes.c **** #include <string.h>
   6:../../MMI/Resource/WriteImgRes.c **** #include <stdio.h>
   7:../../MMI/Resource/WriteImgRes.c **** //#include <stdarg.h>
   8:../../MMI/Resource/WriteImgRes.c **** #include <assert.h>
   9:../../MMI/Resource/WriteImgRes.c **** 
  10:../../MMI/Resource/WriteImgRes.c **** #define WIN32_LEAN_AND_MEAN
  11:../../MMI/Resource/WriteImgRes.c **** #include "windows.h"
  12:../../MMI/Resource/WriteImgRes.c **** 
  13:../../MMI/Resource/WriteImgRes.c **** #include "gui_resource_type.h" // for IMAGE_TYPE_BMP
  14:../../MMI/Resource/WriteImgRes.c **** #include "ABMLoader.h" // for ABM_ENC_OPTION_FLAG_ABM...
  15:../../MMI/Resource/WriteImgRes.c **** #include "WriteResUtil.h"
  16:../../MMI/Resource/WriteImgRes.c **** 
  17:../../MMI/Resource/WriteImgRes.c **** #include "ImageGetDimension.h" // for Image_Get_Dimensions
  18:../../MMI/Resource/WriteImgRes.c **** 
  19:../../MMI/Resource/WriteImgRes.c **** #include "ResgenLogCAPI.h"
  20:../../MMI/Resource/WriteImgRes.c **** 
  21:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_TAG "WRITEIMGRES"
  22:../../MMI/Resource/WriteImgRes.c **** 
  23:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_D(format, args...) RES_LOG_D((RESIMG_TAG), (format) , ##args)
  24:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_V(format, args...) RES_LOG_V((RESIMG_TAG), (format) , ##args)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 5


  25:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_W(format, args...) RES_LOG_W((RESIMG_TAG), (format) , ##args)
  26:../../MMI/Resource/WriteImgRes.c **** #define RESIMG_LOG_E(format, args...) RES_LOG_E((RESIMG_TAG), (format) , ##args)
  27:../../MMI/Resource/WriteImgRes.c **** 
  28:../../MMI/Resource/WriteImgRes.c **** 
  29:../../MMI/Resource/WriteImgRes.c **** #define MAX_SEQUENTIAL_IMAGE_FRAME      512
  30:../../MMI/Resource/WriteImgRes.c **** 
  31:../../MMI/Resource/WriteImgRes.c **** #define FILE_IMAGE_LOAD_FAILED_LOG      ".\\\\debug\\\\image_load_fail.txt"
  32:../../MMI/Resource/WriteImgRes.c **** 
  33:../../MMI/Resource/WriteImgRes.c **** #define NOIMAGE_FILENAMEBUFFER      "..\\\\..\\\\Customer\\\\IMAGES\\\\EmptyImage.bmp"
  34:../../MMI/Resource/WriteImgRes.c **** 
  35:../../MMI/Resource/WriteImgRes.c **** #define DEFAULT_FILEBUFFER          "________CUSTOMER__IMAGES__DEFAULT_BMP"
  36:../../MMI/Resource/WriteImgRes.c **** 
  37:../../MMI/Resource/WriteImgRes.c **** #define OUTPUT_IMAGE_NAMES_END      "[] =\n{"
  38:../../MMI/Resource/WriteImgRes.c **** 
  39:../../MMI/Resource/WriteImgRes.c **** #define ASSERT(expr) {if(!(expr)) {while(1);}else {}}
  40:../../MMI/Resource/WriteImgRes.c **** 
  41:../../MMI/Resource/WriteImgRes.c **** 
  42:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_IMAGE_COMPRESS__
  43:../../MMI/Resource/WriteImgRes.c **** 
  44:../../MMI/Resource/WriteImgRes.c **** #include "Zlib.h"
  45:../../MMI/Resource/WriteImgRes.c **** 
  46:../../MMI/Resource/WriteImgRes.c **** res_compress_struct g_res_compress_data_image[MAX_COMPRESSED_ITEM];
  47:../../MMI/Resource/WriteImgRes.c **** U32 g_res_compress_count_image = 0;
  48:../../MMI/Resource/WriteImgRes.c **** 
  49:../../MMI/Resource/WriteImgRes.c **** static BOOL g_is_compress = FALSE;
  50:../../MMI/Resource/WriteImgRes.c **** static BOOL g_is_compressed = FALSE;
  51:../../MMI/Resource/WriteImgRes.c **** 
  52:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_compress_image(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 width_heigh
  53:../../MMI/Resource/WriteImgRes.c **** 
  54:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_output_compressed_image(U8 *dest_buf, S32 dest_size, ResgenImageOutStream * outstream); 
  55:../../MMI/Resource/WriteImgRes.c **** 
  56:../../MMI/Resource/WriteImgRes.c **** #define RG_SET_CPZ(x) mmi_rg_set_compress(x)
  57:../../MMI/Resource/WriteImgRes.c **** 
  58:../../MMI/Resource/WriteImgRes.c **** #else // __MMI_RESOURCE_IMAGE_COMPRESS__
  59:../../MMI/Resource/WriteImgRes.c **** 
  60:../../MMI/Resource/WriteImgRes.c **** #define RG_SET_CPZ(x)
  61:../../MMI/Resource/WriteImgRes.c **** 
  62:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_IMAGE_COMPRESS__
  63:../../MMI/Resource/WriteImgRes.c **** 
  64:../../MMI/Resource/WriteImgRes.c **** extern int toolFlag;
  65:../../MMI/Resource/WriteImgRes.c **** extern int resultFailFlag;
  66:../../MMI/Resource/WriteImgRes.c **** extern FILE *dest_file;
  67:../../MMI/Resource/WriteImgRes.c **** 
  68:../../MMI/Resource/WriteImgRes.c **** 
  69:../../MMI/Resource/WriteImgRes.c **** 
  70:../../MMI/Resource/WriteImgRes.c **** // extern data
  71:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxFontNumEXT;
  72:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxFontIdEXT;
  73:../../MMI/Resource/WriteImgRes.c **** 
  74:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxImageId; // also used in WriteRes.c
  75:../../MMI/Resource/WriteImgRes.c **** extern U16 CurrMaxImageNum; // also used in WriteRes.c
  76:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_IMAGE_MAP ImageIdMap[]; // defined in CustResDeclare.c
  77:../../MMI/Resource/WriteImgRes.c **** extern FILE *OutputImgIDFile; // defined in PopulateRes.c
  78:../../MMI/Resource/WriteImgRes.c **** extern FILE *RepeatIDListFile; // also used in WriteRes.c
  79:../../MMI/Resource/WriteImgRes.c **** extern FILE *fpImageResourceUsage; // defined in PopulateRes.c
  80:../../MMI/Resource/WriteImgRes.c **** 
  81:../../MMI/Resource/WriteImgRes.c **** U32 image_idx = 1; // XXX
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 6


  82:../../MMI/Resource/WriteImgRes.c **** U32 g_resimg_count = 0; // XXX
  83:../../MMI/Resource/WriteImgRes.c **** CUSTOM_RESOURCE_SIZE g_resimg_table[MAX_IMAGE_IDS_SIZE]; // XXX
  84:../../MMI/Resource/WriteImgRes.c **** 
  85:../../MMI/Resource/WriteImgRes.c **** extern mmi_resource_base_struct g_mmi_resource_base_table[]; // for RESPRTONERECORD()
  86:../../MMI/Resource/WriteImgRes.c **** 
  87:../../MMI/Resource/WriteImgRes.c **** // font
  88:../../MMI/Resource/WriteImgRes.c **** #define FONT_OUTPUT_DATA_FILENAME		"..\\..\\Customer\\CustResource\\CustFontDataHW.h"
  89:../../MMI/Resource/WriteImgRes.c **** 
  90:../../MMI/Resource/WriteImgRes.c **** static U16 g_mmi_res_font_id = 0;
  91:../../MMI/Resource/WriteImgRes.c **** S32 g_mmi_res_font_flags = 0; // used in ImageGetDimension.c in ENFB mode
  92:../../MMI/Resource/WriteImgRes.c **** static U32 g_mmi_res_font_userdata = 0;
  93:../../MMI/Resource/WriteImgRes.c **** 
  94:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Fload(S8 *string);
  95:../../MMI/Resource/WriteImgRes.c **** 
  96:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_file;
  97:../../MMI/Resource/WriteImgRes.c **** extern FONTNAME_LIST FontNameListEXT[];
  98:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_FONT_MAP FontIdMapEXT[];
  99:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_lis;
 100:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_data_modis_lis;
 101:../../MMI/Resource/WriteImgRes.c **** extern FILE *font_ttf_lis;
 102:../../MMI/Resource/WriteImgRes.c **** 
 103:../../MMI/Resource/WriteImgRes.c **** 
 104:../../MMI/Resource/WriteImgRes.c **** static S32 g_font_size = 0;
 105:../../MMI/Resource/WriteImgRes.c **** 
 106:../../MMI/Resource/WriteImgRes.c **** extern U32 GetOffsetFromResourceBase(U16 ImageID, U8* enum_value); // in WriteRes.c
 107:../../MMI/Resource/WriteImgRes.c **** 
 108:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
 109:../../MMI/Resource/WriteImgRes.c **** int disableENFB = 0;    /* we will only disable E-NFB image only for NFB image or from CustPack too
 110:../../MMI/Resource/WriteImgRes.c **** U32 enfb_offset = 0; // also used in ABMLoader.c ...
 111:../../MMI/Resource/WriteImgRes.c **** U32 enfb_size = 0; // also used in ABMLoader.c ...
 112:../../MMI/Resource/WriteImgRes.c **** 
 113:../../MMI/Resource/WriteImgRes.c **** extern FILE *enfb_img_data_file;
 114:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL ENFBAssociatedIDFlag;
 115:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL ENFBAssociatedIDAdded;
 116:../../MMI/Resource/WriteImgRes.c **** extern CUSTOM_ENFB_STR ENFBAssociatedIDList[];
 117:../../MMI/Resource/WriteImgRes.c **** extern unsigned short CurrMaxENFBAssociatedIDNum;
 118:../../MMI/Resource/WriteImgRes.c **** 
 119:../../MMI/Resource/WriteImgRes.c **** extern MMI_BOOL AddENFBAssociatedIDItem(U16 ImageID, S8 *filename, image_type_enum ExtImageFlag);
 120:../../MMI/Resource/WriteImgRes.c **** extern MMI_BOOL IfItemExistENFBAssociatedID(S8 *filename, image_type_enum ExtImageFlag);
 121:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
 122:../../MMI/Resource/WriteImgRes.c **** 
 123:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
 124:../../MMI/Resource/WriteImgRes.c **** extern FILE *enfb_font_data_file;
 125:../../MMI/Resource/WriteImgRes.c **** extern ENFB_Font_Res_Info ENFBFontResInfo[];
 126:../../MMI/Resource/WriteImgRes.c **** #endif
 127:../../MMI/Resource/WriteImgRes.c **** 
 128:../../MMI/Resource/WriteImgRes.c **** // exported function
 129:../../MMI/Resource/WriteImgRes.c **** 
 130:../../MMI/Resource/WriteImgRes.c **** // exported global variable
 131:../../MMI/Resource/WriteImgRes.c **** 
 132:../../MMI/Resource/WriteImgRes.c **** // can only be set from FALSE to TRUE, shall be thread safe
 133:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL g_mmi_res_nfb_used = FALSE;
 134:../../MMI/Resource/WriteImgRes.c **** 
 135:../../MMI/Resource/WriteImgRes.c **** // local function
 136:../../MMI/Resource/WriteImgRes.c **** static U8 isEmsImage(S8 *path);
 137:../../MMI/Resource/WriteImgRes.c **** 
 138:../../MMI/Resource/WriteImgRes.c **** static void mmi_rg_set_compress(BOOL is_compress);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 7


 139:../../MMI/Resource/WriteImgRes.c **** 
 140:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data(
 141:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 142:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
 143:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
 144:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
 145:../../MMI/Resource/WriteImgRes.c ****         U32 width,
 146:../../MMI/Resource/WriteImgRes.c ****         U32 height,
 147:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 148:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
 149:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 150:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_Header(
 151:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 152:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
 153:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
 154:../../MMI/Resource/WriteImgRes.c ****         U8 play_count,
 155:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_filesize,
 156:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_offset,
 157:../../MMI/Resource/WriteImgRes.c ****         U32 width,
 158:../../MMI/Resource/WriteImgRes.c ****         U32 height,
 159:../../MMI/Resource/WriteImgRes.c ****         S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME],
 160:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 161:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_File(
 162:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 163:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
 164:../../MMI/Resource/WriteImgRes.c ****         S32 filesize,
 165:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 166:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Sequential_Image(
 167:../../MMI/Resource/WriteImgRes.c ****         char *pathname,
 168:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 169:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 170:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 171:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 172:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 173:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Processed_Data(
 174:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 175:../../MMI/Resource/WriteImgRes.c ****         U8 type,
 176:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 177:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream *outstream,
 178:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 179:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 180:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 181:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 182:../../MMI/Resource/WriteImgRes.c ****         U8 *_9slice_filename,
 183:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData, S32 * error_code);
 184:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Unprocessed_Data(
 185:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 186:../../MMI/Resource/WriteImgRes.c ****         FILE *image_file,
 187:../../MMI/Resource/WriteImgRes.c ****         S32 nImageSize,
 188:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 189:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 190:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 191:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 192:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
 193:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 194:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData);
 195:../../MMI/Resource/WriteImgRes.c **** static U8 isSubmenuImage(S8 *path);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 8


 196:../../MMI/Resource/WriteImgRes.c **** 
 197:../../MMI/Resource/WriteImgRes.c **** static void LogILoadFail(int img_id, const char * img_id_enum, const char * img_filename, int force
 198:../../MMI/Resource/WriteImgRes.c **** static void LogNFBILoadFail(const char * img_filename, int forceType);
 199:../../MMI/Resource/WriteImgRes.c **** 
 200:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 201:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 202:../../MMI/Resource/WriteImgRes.c ****  *  LogILoadFail
 203:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 204:../../MMI/Resource/WriteImgRes.c ****  *  This function save the Iload failed log to the file. The log file is defined
 205:../../MMI/Resource/WriteImgRes.c ****  *  with FILE_IMAGE_LOAD_FAILED_LOG.
 206:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 207:../../MMI/Resource/WriteImgRes.c ****  *  img_id             id value of the image resource. if there is no id such as 
 208:../../MMI/Resource/WriteImgRes.c ****  *                     NFB image, it must be a native value
 209:../../MMI/Resource/WriteImgRes.c ****  *  img_id_enum        enum string of the image id
 210:../../MMI/Resource/WriteImgRes.c ****  *  img_filename       file name of the image content
 211:../../MMI/Resource/WriteImgRes.c ****  *  forceType          the target type of the image resource
 212:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 213:../../MMI/Resource/WriteImgRes.c ****  *  void
 214:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 215:../../MMI/Resource/WriteImgRes.c **** static void LogILoadFail(int img_id, const char * img_id_enum, const char * img_filename, int force
 216:../../MMI/Resource/WriteImgRes.c **** {
 2611              	LM1:
 2612 03ef 55       		pushl	%ebp
 2613 03f0 89E5     		movl	%esp, %ebp
 2614 03f2 57       		pushl	%edi
 2615 03f3 81EC3402 		subl	$564, %esp
 2615      0000
 217:../../MMI/Resource/WriteImgRes.c ****     FILE * imgFailLogFile = NULL;
 2617              	LM2:
 2618              	LBB2:
 2619 03f9 C745F400 		movl	$0, -12(%ebp)
 2619      000000
 218:../../MMI/Resource/WriteImgRes.c ****     char img_id_enum_out[256] = "Unknown Id";
 2621              	LM3:
 2622 0400 A1080100 		movl	LC21, %eax
 2622      00
 2623 0405 8985E8FE 		movl	%eax, -280(%ebp)
 2623      FFFF
 2624 040b A10C0100 		movl	LC21+4, %eax
 2624      00
 2625 0410 8985ECFE 		movl	%eax, -276(%ebp)
 2625      FFFF
 2626 0416 0FB70510 		movzwl	LC21+8, %eax
 2626      010000
 2627 041d 668985F0 		movw	%ax, -272(%ebp)
 2627      FEFFFF
 2628 0424 0FB60512 		movzbl	LC21+10, %eax
 2628      010000
 2629 042b 8885F2FE 		movb	%al, -270(%ebp)
 2629      FFFF
 2630 0431 8DBDF3FE 		leal	-269(%ebp), %edi
 2630      FFFF
 2631 0437 FC       		cld
 2632 0438 B9F50000 		movl	$245, %ecx
 2632      00
 2633 043d B000     		movb	$0, %al
 2634 043f F3       		rep
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 9


 2635 0440 AA       		stosb
 219:../../MMI/Resource/WriteImgRes.c ****     char img_filename_out[256] = "Unknown File";
 2637              	LM4:
 2638 0441 A1080200 		movl	LC22, %eax
 2638      00
 2639 0446 8985E8FD 		movl	%eax, -536(%ebp)
 2639      FFFF
 2640 044c A10C0200 		movl	LC22+4, %eax
 2640      00
 2641 0451 8985ECFD 		movl	%eax, -532(%ebp)
 2641      FFFF
 2642 0457 A1100200 		movl	LC22+8, %eax
 2642      00
 2643 045c 8985F0FD 		movl	%eax, -528(%ebp)
 2643      FFFF
 2644 0462 0FB60514 		movzbl	LC22+12, %eax
 2644      020000
 2645 0469 8885F4FD 		movb	%al, -524(%ebp)
 2645      FFFF
 2646 046f 8DBDF5FD 		leal	-523(%ebp), %edi
 2646      FFFF
 2647 0475 FC       		cld
 2648 0476 B9F30000 		movl	$243, %ecx
 2648      00
 2649 047b B000     		movb	$0, %al
 2650 047d F3       		rep
 2651 047e AA       		stosb
 220:../../MMI/Resource/WriteImgRes.c **** 
 221:../../MMI/Resource/WriteImgRes.c ****     if(file_exist(FILE_IMAGE_LOAD_FAILED_LOG) == MMI_TRUE)
 2653              	LM5:
 2654 047f C7042408 		movl	$LC23, (%esp)
 2654      030000
 2655 0486 E8000000 		call	_file_exist
 2655      00
 2656 048b 83F801   		cmpl	$1, %eax
 2657 048e 7519     		jne	L22
 222:../../MMI/Resource/WriteImgRes.c ****     {
 223:../../MMI/Resource/WriteImgRes.c ****         imgFailLogFile = fopen(FILE_IMAGE_LOAD_FAILED_LOG,"a");
 2659              	LM6:
 2660 0490 C7442404 		movl	$LC24, 4(%esp)
 2660      26030000 
 2661 0498 C7042408 		movl	$LC23, (%esp)
 2661      030000
 2662 049f E8000000 		call	_fopen
 2662      00
 2663 04a4 8945F4   		movl	%eax, -12(%ebp)
 2664 04a7 EB63     		jmp	L23
 2665              	L22:
 224:../../MMI/Resource/WriteImgRes.c ****     }
 225:../../MMI/Resource/WriteImgRes.c ****     else
 226:../../MMI/Resource/WriteImgRes.c ****     {
 227:../../MMI/Resource/WriteImgRes.c ****         imgFailLogFile = fopen(FILE_IMAGE_LOAD_FAILED_LOG,"w");
 2667              	LM7:
 2668 04a9 C7442404 		movl	$LC25, 4(%esp)
 2668      28030000 
 2669 04b1 C7042408 		movl	$LC23, (%esp)
 2669      030000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 10


 2670 04b8 E8000000 		call	_fopen
 2670      00
 2671 04bd 8945F4   		movl	%eax, -12(%ebp)
 228:../../MMI/Resource/WriteImgRes.c ****         // Write log header if the file is first created
 229:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"###############################################\n");
 2673              	LM8:
 2674 04c0 C7442404 		movl	$LC26, 4(%esp)
 2674      40030000 
 2675 04c8 8B45F4   		movl	-12(%ebp), %eax
 2676 04cb 890424   		movl	%eax, (%esp)
 2677 04ce E8000000 		call	_fprintf
 2677      00
 230:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"#       Resgen Failed Image Loading Log       #\n");
 2679              	LM9:
 2680 04d3 C7442404 		movl	$LC27, 4(%esp)
 2680      80030000 
 2681 04db 8B45F4   		movl	-12(%ebp), %eax
 2682 04de 890424   		movl	%eax, (%esp)
 2683 04e1 E8000000 		call	_fprintf
 2683      00
 231:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"###############################################\n");
 2685              	LM10:
 2686 04e6 C7442404 		movl	$LC26, 4(%esp)
 2686      40030000 
 2687 04ee 8B45F4   		movl	-12(%ebp), %eax
 2688 04f1 890424   		movl	%eax, (%esp)
 2689 04f4 E8000000 		call	_fprintf
 2689      00
 232:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile,"ID_NAME \tID\tFILE_PATH\tFORCE_TYPE\n");
 2691              	LM11:
 2692 04f9 C7442404 		movl	$LC28, 4(%esp)
 2692      C0030000 
 2693 0501 8B45F4   		movl	-12(%ebp), %eax
 2694 0504 890424   		movl	%eax, (%esp)
 2695 0507 E8000000 		call	_fprintf
 2695      00
 2696              	L23:
 233:../../MMI/Resource/WriteImgRes.c **** 
 234:../../MMI/Resource/WriteImgRes.c ****     }
 235:../../MMI/Resource/WriteImgRes.c **** 
 236:../../MMI/Resource/WriteImgRes.c ****     //Use number limited string function to ensure the code secrity
 237:../../MMI/Resource/WriteImgRes.c ****     if(img_id_enum!=NULL)
 2698              	LM12:
 2699 050c 837D0C00 		cmpl	$0, 12(%ebp)
 2700 0510 743B     		je	L24
 238:../../MMI/Resource/WriteImgRes.c ****     {
 239:../../MMI/Resource/WriteImgRes.c ****         memset(img_id_enum_out,0, sizeof(img_id_enum_out));
 2702              	LM13:
 2703 0512 C7442408 		movl	$256, 8(%esp)
 2703      00010000 
 2704 051a C7442404 		movl	$0, 4(%esp)
 2704      00000000 
 2705 0522 8D85E8FE 		leal	-280(%ebp), %eax
 2705      FFFF
 2706 0528 890424   		movl	%eax, (%esp)
 2707 052b E8000000 		call	_memset
 2707      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 11


 240:../../MMI/Resource/WriteImgRes.c ****         strncpy(img_id_enum_out, img_id_enum, sizeof(img_id_enum_out)-1 );
 2709              	LM14:
 2710 0530 C7442408 		movl	$255, 8(%esp)
 2710      FF000000 
 2711 0538 8B450C   		movl	12(%ebp), %eax
 2712 053b 89442404 		movl	%eax, 4(%esp)
 2713 053f 8D85E8FE 		leal	-280(%ebp), %eax
 2713      FFFF
 2714 0545 890424   		movl	%eax, (%esp)
 2715 0548 E8000000 		call	_strncpy
 2715      00
 2716              	L24:
 241:../../MMI/Resource/WriteImgRes.c ****     }
 242:../../MMI/Resource/WriteImgRes.c **** 
 243:../../MMI/Resource/WriteImgRes.c ****     if(img_filename!=NULL)
 2718              	LM15:
 2719 054d 837D1000 		cmpl	$0, 16(%ebp)
 2720 0551 743B     		je	L25
 244:../../MMI/Resource/WriteImgRes.c ****     {
 245:../../MMI/Resource/WriteImgRes.c ****         memset(img_filename_out,0, sizeof(img_filename_out));
 2722              	LM16:
 2723 0553 C7442408 		movl	$256, 8(%esp)
 2723      00010000 
 2724 055b C7442404 		movl	$0, 4(%esp)
 2724      00000000 
 2725 0563 8D85E8FD 		leal	-536(%ebp), %eax
 2725      FFFF
 2726 0569 890424   		movl	%eax, (%esp)
 2727 056c E8000000 		call	_memset
 2727      00
 246:../../MMI/Resource/WriteImgRes.c ****         strncpy(img_filename_out, img_filename, sizeof(img_filename_out)-1);
 2729              	LM17:
 2730 0571 C7442408 		movl	$255, 8(%esp)
 2730      FF000000 
 2731 0579 8B4510   		movl	16(%ebp), %eax
 2732 057c 89442404 		movl	%eax, 4(%esp)
 2733 0580 8D85E8FD 		leal	-536(%ebp), %eax
 2733      FFFF
 2734 0586 890424   		movl	%eax, (%esp)
 2735 0589 E8000000 		call	_strncpy
 2735      00
 2736              	L25:
 247:../../MMI/Resource/WriteImgRes.c ****     }
 248:../../MMI/Resource/WriteImgRes.c **** 
 249:../../MMI/Resource/WriteImgRes.c ****     if (imgFailLogFile != NULL)
 2738              	LM18:
 2739 058e 837DF400 		cmpl	$0, -12(%ebp)
 2740 0592 7440     		je	L21
 250:../../MMI/Resource/WriteImgRes.c ****     {
 251:../../MMI/Resource/WriteImgRes.c ****         fprintf(imgFailLogFile, "%s\t%d\t%s\t%d\n", img_id_enum_out, img_id, img_filename_out, forc
 2742              	LM19:
 2743 0594 8B4514   		movl	20(%ebp), %eax
 2744 0597 89442414 		movl	%eax, 20(%esp)
 2745 059b 8D85E8FD 		leal	-536(%ebp), %eax
 2745      FFFF
 2746 05a1 89442410 		movl	%eax, 16(%esp)
 2747 05a5 8B4508   		movl	8(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 12


 2748 05a8 8944240C 		movl	%eax, 12(%esp)
 2749 05ac 8D85E8FE 		leal	-280(%ebp), %eax
 2749      FFFF
 2750 05b2 89442408 		movl	%eax, 8(%esp)
 2751 05b6 C7442404 		movl	$LC29, 4(%esp)
 2751      E2030000 
 2752 05be 8B45F4   		movl	-12(%ebp), %eax
 2753 05c1 890424   		movl	%eax, (%esp)
 2754 05c4 E8000000 		call	_fprintf
 2754      00
 252:../../MMI/Resource/WriteImgRes.c ****         fclose(imgFailLogFile);
 2756              	LM20:
 2757 05c9 8B45F4   		movl	-12(%ebp), %eax
 2758 05cc 890424   		movl	%eax, (%esp)
 2759 05cf E8000000 		call	_fclose
 2759      00
 253:../../MMI/Resource/WriteImgRes.c ****     }
 254:../../MMI/Resource/WriteImgRes.c **** }
 2761              	LM21:
 2762              	L21:
 2763 05d4 81C43402 		addl	$564, %esp
 2763      0000
 2764 05da 5F       		popl	%edi
 2765 05db 5D       		popl	%ebp
 2766 05dc C3       		ret
 2767              	LBE2:
 2773              	Lscope0:
 2775              	LC30:
 2776 05dd 4E6F2D49 		.ascii "No-Id(NFB)\0"
 2776      64284E46 
 2776      422900
 2781              	_LogNFBILoadFail:
 255:../../MMI/Resource/WriteImgRes.c **** 
 256:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 257:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 258:../../MMI/Resource/WriteImgRes.c ****  *  LogNFBILoadFail
 259:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 260:../../MMI/Resource/WriteImgRes.c ****  *  This function save the Iload failed log to the file. The log file is defined
 261:../../MMI/Resource/WriteImgRes.c ****  *  with FILE_IMAGE_LOAD_FAILED_LOG.
 262:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 263:../../MMI/Resource/WriteImgRes.c ****  *  img_id             id value of the image resource. if there is no id such as 
 264:../../MMI/Resource/WriteImgRes.c ****  *                     NFB image, it must be a native value
 265:../../MMI/Resource/WriteImgRes.c ****  *  img_id_enum        enum string of the image id
 266:../../MMI/Resource/WriteImgRes.c ****  *  img_filename       file name of the image content
 267:../../MMI/Resource/WriteImgRes.c ****  *  forceType          the target type of the image resource
 268:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 269:../../MMI/Resource/WriteImgRes.c ****  *  void
 270:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 271:../../MMI/Resource/WriteImgRes.c **** static void LogNFBILoadFail(const char * img_filename, int forceType)
 272:../../MMI/Resource/WriteImgRes.c **** {
 2783              	LM22:
 2784 05e8 55       		pushl	%ebp
 2785 05e9 89E5     		movl	%esp, %ebp
 2786 05eb 83EC18   		subl	$24, %esp
 273:../../MMI/Resource/WriteImgRes.c ****     LogILoadFail(-1,"No-Id(NFB)",img_filename,forceType);
 2788              	LM23:
 2789 05ee 8B450C   		movl	12(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 13


 2790 05f1 8944240C 		movl	%eax, 12(%esp)
 2791 05f5 8B4508   		movl	8(%ebp), %eax
 2792 05f8 89442408 		movl	%eax, 8(%esp)
 2793 05fc C7442404 		movl	$LC30, 4(%esp)
 2793      DD050000 
 2794 0604 C70424FF 		movl	$-1, (%esp)
 2794      FFFFFF
 2795 060b E8DFFDFF 		call	_LogILoadFail
 2795      FF
 274:../../MMI/Resource/WriteImgRes.c **** }
 2797              	LM24:
 2798 0610 C9       		leave
 2799 0611 C3       		ret
 2800              	Lscope1:
 2802              	LC31:
 2803 0612 00       		.ascii "\0"
 2804 0613 8DB60000 		.align 32
 2804      00008DBC 
 2804      27000000 
 2804      00
 2805              	LC32:
 2806 0620 2E2E5C5C 		.ascii "..\\\\..\\\\Customer\\\\IMAGES\\\\EmptyImage.bmp\0"
 2806      2E2E5C5C 
 2806      43757374 
 2806      6F6D6572 
 2806      5C5C494D 
 2807              	LC33:
 2808 0649 5365744E 		.ascii "SetNFBImage: str too long\12\0"
 2808      4642496D 
 2808      6167653A 
 2808      20737472 
 2808      20746F6F 
 2809              	LC34:
 2810 0664 57524954 		.ascii "WRITEIMGRES\0"
 2810      45494D47 
 2810      52455300 
 2811 0670 90909090 		.align 32
 2811      90909090 
 2811      90909090 
 2811      90909090 
 2812              	LC35:
 2813 0680 2E2E2F2E 		.ascii "../../MMI/Resource/WriteImgRes.c\0"
 2813      2E2F4D4D 
 2813      492F5265 
 2813      736F7572 
 2813      63652F57 
 2814              	LC36:
 2815 06a1 3000     		.ascii "0\0"
 2819              	.globl _SetNFBImageImp
 2821              	_SetNFBImageImp:
 275:../../MMI/Resource/WriteImgRes.c **** 
 276:../../MMI/Resource/WriteImgRes.c **** 
 277:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 278:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 279:../../MMI/Resource/WriteImgRes.c ****  *  SetNFBImageImp
 280:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 281:../../MMI/Resource/WriteImgRes.c ****  *
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 14


 282:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 283:../../MMI/Resource/WriteImgRes.c ****  *  filename        [?]
 284:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 285:../../MMI/Resource/WriteImgRes.c ****  *  void
 286:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 287:../../MMI/Resource/WriteImgRes.c **** void SetNFBImageImp(S8 *filename, SetImageProcessData * processData)
 288:../../MMI/Resource/WriteImgRes.c **** {
 2823              	LM25:
 2824 06a3 55       		pushl	%ebp
 2825 06a4 89E5     		movl	%esp, %ebp
 2826 06a6 B8281200 		movl	$4648, %eax
 2826      00
 2827 06ab E8000000 		call	__alloca
 2827      00
 289:../../MMI/Resource/WriteImgRes.c ****     int XXX;
 290:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 291:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 292:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 293:../../MMI/Resource/WriteImgRes.c ****     S16 nStrlen;
 294:../../MMI/Resource/WriteImgRes.c ****     S8 upperFileName[MAX_FILENAME_LEN];
 295:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
 296:../../MMI/Resource/WriteImgRes.c **** 
 297:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 298:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 299:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 300:../../MMI/Resource/WriteImgRes.c ****     ASSERT(MAX_FILENAME_LEN > strlen(filename));
 2829              	LM26:
 2830              	LBB3:
 2831 06b0 8B4508   		movl	8(%ebp), %eax
 2832 06b3 890424   		movl	%eax, (%esp)
 2833 06b6 E8000000 		call	_strlen
 2833      00
 2834 06bb 3DFF0100 		cmpl	$511, %eax
 2834      00
 2835 06c0 7602     		jbe	L33
 2836              	L30:
 2837 06c2 EBFE     		jmp	L30
 2838              	L33:
 301:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, filename);
 2840              	LM27:
 2841 06c4 8B4508   		movl	8(%ebp), %eax
 2842 06c7 89442404 		movl	%eax, 4(%esp)
 2843 06cb 8D85E8ED 		leal	-4632(%ebp), %eax
 2843      FFFF
 2844 06d1 890424   		movl	%eax, (%esp)
 2845 06d4 E8000000 		call	_strcpy
 2845      00
 302:../../MMI/Resource/WriteImgRes.c **** 
 303:../../MMI/Resource/WriteImgRes.c ****     if (strlen(filename_buffer) >= MAX_FILENAME_LEN)
 2847              	LM28:
 2848 06d9 8D85E8ED 		leal	-4632(%ebp), %eax
 2848      FFFF
 2849 06df 890424   		movl	%eax, (%esp)
 2850 06e2 E8000000 		call	_strlen
 2850      00
 2851 06e7 3DFF0100 		cmpl	$511, %eax
 2851      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 15


 2852 06ec 7607     		jbe	L34
 304:../../MMI/Resource/WriteImgRes.c ****     {
 305:../../MMI/Resource/WriteImgRes.c ****         filename_buffer[MAX_FILENAME_LEN - 1] = '\0';
 2854              	LM29:
 2855 06ee C685E7EF 		movb	$0, -4121(%ebp)
 2855      FFFF00
 2856              	L34:
 306:../../MMI/Resource/WriteImgRes.c ****     }
 307:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 2858              	LM30:
 2859 06f5 C7442404 		movl	$LC31, 4(%esp)
 2859      12060000 
 2860 06fd 8D85E8ED 		leal	-4632(%ebp), %eax
 2860      FFFF
 2861 0703 890424   		movl	%eax, (%esp)
 2862 0706 E8000000 		call	_strcmp
 2862      00
 2863 070b 85C0     		testl	%eax, %eax
 2864 070d 7516     		jne	L35
 308:../../MMI/Resource/WriteImgRes.c ****     {
 309:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 2866              	LM31:
 2867 070f C7442404 		movl	$LC32, 4(%esp)
 2867      20060000 
 2868 0717 8D85E8ED 		leal	-4632(%ebp), %eax
 2868      FFFF
 2869 071d 890424   		movl	%eax, (%esp)
 2870 0720 E8000000 		call	_strcpy
 2870      00
 2871              	L35:
 310:../../MMI/Resource/WriteImgRes.c **** 
 311:../../MMI/Resource/WriteImgRes.c ****     }
 312:../../MMI/Resource/WriteImgRes.c ****     nStrlen = strlen(filename_buffer);
 2873              	LM32:
 2874 0725 8D85E8ED 		leal	-4632(%ebp), %eax
 2874      FFFF
 2875 072b 890424   		movl	%eax, (%esp)
 2876 072e E8000000 		call	_strlen
 2876      00
 2877 0733 668945F2 		movw	%ax, -14(%ebp)
 313:../../MMI/Resource/WriteImgRes.c ****     if (nStrlen > MAX_FILENAME_LEN)
 2879              	LM33:
 2880 0737 66817DF2 		cmpw	$512, -14(%ebp)
 2880      0002
 2881 073d 7E38     		jle	L36
 314:../../MMI/Resource/WriteImgRes.c ****     {
 315:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("SetNFBImage: str too long\n");
 2883              	LM34:
 2884 073f C7442408 		movl	$LC33, 8(%esp)
 2884      49060000 
 2885 0747 C7442404 		movl	$LC34, 4(%esp)
 2885      64060000 
 2886 074f C7042403 		movl	$3, (%esp)
 2886      000000
 2887 0756 E8000000 		call	_reslog_adaptor_log
 2887      00
 316:../../MMI/Resource/WriteImgRes.c ****         assert(0);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 16


 2889              	LM35:
 2890 075b C7442408 		movl	$316, 8(%esp)
 2890      3C010000 
 2891 0763 C7442404 		movl	$LC35, 4(%esp)
 2891      80060000 
 2892 076b C70424A1 		movl	$LC36, (%esp)
 2892      060000
 2893 0772 E8000000 		call	__assert
 2893      00
 2894              	L36:
 317:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 318:../../MMI/Resource/WriteImgRes.c ****     }
 319:../../MMI/Resource/WriteImgRes.c **** 
 320:../../MMI/Resource/WriteImgRes.c ****     strncpy(upperFileName, filename_buffer, MAX_FILENAME_LEN);
 2896              	LM36:
 2897 0777 C7442408 		movl	$512, 8(%esp)
 2897      00020000 
 2898 077f 8D85E8ED 		leal	-4632(%ebp), %eax
 2898      FFFF
 2899 0785 89442404 		movl	%eax, 4(%esp)
 2900 0789 8D85E8FD 		leal	-536(%ebp), %eax
 2900      FFFF
 2901 078f 890424   		movl	%eax, (%esp)
 2902 0792 E8000000 		call	_strncpy
 2902      00
 321:../../MMI/Resource/WriteImgRes.c ****     str_upper(upperFileName, MAX_FILENAME_LEN);
 2904              	LM37:
 2905 0797 C7442404 		movl	$512, 4(%esp)
 2905      00020000 
 2906 079f 8D85E8FD 		leal	-536(%ebp), %eax
 2906      FFFF
 2907 07a5 890424   		movl	%eax, (%esp)
 2908 07a8 E8000000 		call	_str_upper
 2908      00
 322:../../MMI/Resource/WriteImgRes.c **** 
 323:../../MMI/Resource/WriteImgRes.c ****     if( Iload(upperFileName, NFB_PROGRESS_IMAGE, AUTO_TYPE, processData)!= MMI_TRUE)
 2910              	LM38:
 2911 07ad 8B450C   		movl	12(%ebp), %eax
 2912 07b0 8944240C 		movl	%eax, 12(%esp)
 2913 07b4 C7442408 		movl	$0, 8(%esp)
 2913      00000000 
 2914 07bc C7442404 		movl	$2, 4(%esp)
 2914      02000000 
 2915 07c4 8D85E8FD 		leal	-536(%ebp), %eax
 2915      FFFF
 2916 07ca 890424   		movl	%eax, (%esp)
 2917 07cd E8240500 		call	_Iload
 2917      00
 2918 07d2 83F801   		cmpl	$1, %eax
 2919 07d5 7416     		je	L37
 324:../../MMI/Resource/WriteImgRes.c ****     {
 325:../../MMI/Resource/WriteImgRes.c ****         LogNFBILoadFail(upperFileName, AUTO_TYPE);
 2921              	LM39:
 2922 07d7 C7442404 		movl	$0, 4(%esp)
 2922      00000000 
 2923 07df 8D85E8FD 		leal	-536(%ebp), %eax
 2923      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 17


 2924 07e5 890424   		movl	%eax, (%esp)
 2925 07e8 E8FBFDFF 		call	_LogNFBILoadFail
 2925      FF
 2926              	L37:
 326:../../MMI/Resource/WriteImgRes.c ****     }
 327:../../MMI/Resource/WriteImgRes.c **** 
 328:../../MMI/Resource/WriteImgRes.c ****     // can only be set from FALSE to TRUE, shall be thread safe
 329:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_nfb_used = TRUE;
 2928              	LM40:
 2929 07ed C7050800 		movl	$1, _g_mmi_res_nfb_used
 2929      00000100 
 2929      0000
 330:../../MMI/Resource/WriteImgRes.c **** }
 2931              	LM41:
 2932 07f7 C9       		leave
 2933 07f8 C3       		ret
 2934              	LBE3:
 2941              	Lscope2:
 2943 07f9 8DB42600 		.align 32
 2943      000000
 2944              	LC37:
 2945 0800 2E2E5C5C 		.ascii "..\\\\..\\\\CUSTOMER\\\\IMAGES\\\\COSMOS480X800\\\\MAINLCD\\\\DEFAULT\\\\BOOTUPSHUTDOWN\\\
 2945      2E2E5C5C 
 2945      43555354 
 2945      4F4D4552 
 2945      5C5C494D 
 2946 0868 90909090 		.align 32
 2946      90909090 
 2946      90909090 
 2946      90909090 
 2946      90909090 
 2947              	LC38:
 2948 0880 496C6F61 		.ascii "Iload failed: %s(%d), PATH=%s, TYEP=%d\0"
 2948      64206661 
 2948      696C6564 
 2948      3A202573 
 2948      28256429 
 2956              	.globl _SetImageWithBufferExImp
 2958              	_SetImageWithBufferExImp:
 331:../../MMI/Resource/WriteImgRes.c **** 
 332:../../MMI/Resource/WriteImgRes.c **** 
 333:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 334:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 335:../../MMI/Resource/WriteImgRes.c ****  *  SetImageWithBufferExImp
 336:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 337:../../MMI/Resource/WriteImgRes.c ****  *  Function to copy the image file to buffer
 338:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 339:../../MMI/Resource/WriteImgRes.c ****  *  nImgId              [IN]
 340:../../MMI/Resource/WriteImgRes.c ****  *  filename            [?]
 341:../../MMI/Resource/WriteImgRes.c ****  *  enum_value          [?]
 342:../../MMI/Resource/WriteImgRes.c ****  *  res_type            [IN]
 343:../../MMI/Resource/WriteImgRes.c ****  *  imgFlag             [IN]
 344:../../MMI/Resource/WriteImgRes.c ****  *  S8(?)               [OUT]       -> filename of the image to be displayed.
 345:../../MMI/Resource/WriteImgRes.c ****  *  U16(?)              [IN]        -> ImageId
 346:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 347:../../MMI/Resource/WriteImgRes.c ****  *  void
 348:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 18


 349:../../MMI/Resource/WriteImgRes.c **** void SetImageWithBufferExImp(U16 nImgId, S8 *upperFileName, S8 *enum_value, BOOL imgFlag, S32 force
 350:../../MMI/Resource/WriteImgRes.c **** {
 2960              	LM42:
 2961 08a7 55       		pushl	%ebp
 2962 08a8 89E5     		movl	%esp, %ebp
 2963 08aa 83EC28   		subl	$40, %esp
 2964 08ad 8B4508   		movl	8(%ebp), %eax
 2965 08b0 668945FE 		movw	%ax, -2(%ebp)
 351:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 352:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 353:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 354:../../MMI/Resource/WriteImgRes.c ****     image_type_enum extImageFlag = SYSTEM_IMAGE;
 2967              	LM43:
 2968              	LBB4:
 2969 08b4 C745F800 		movl	$0, -8(%ebp)
 2969      000000
 355:../../MMI/Resource/WriteImgRes.c **** 
 356:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 357:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 358:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 359:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
 360:../../MMI/Resource/WriteImgRes.c ****     g_is_compressed = FALSE;
 361:../../MMI/Resource/WriteImgRes.c **** #endif
 362:../../MMI/Resource/WriteImgRes.c **** 
 363:../../MMI/Resource/WriteImgRes.c ****     if (imgFlag == TRUE)
 2971              	LM44:
 2972 08bb 837D1401 		cmpl	$1, 20(%ebp)
 2973 08bf 7509     		jne	L39
 364:../../MMI/Resource/WriteImgRes.c ****     {
 365:../../MMI/Resource/WriteImgRes.c ****         extImageFlag = EXT_IMAGE;
 2975              	LM45:
 2976 08c1 C745F801 		movl	$1, -8(%ebp)
 2976      000000
 2977 08c8 EB07     		jmp	L40
 2978              	L39:
 366:../../MMI/Resource/WriteImgRes.c ****     }
 367:../../MMI/Resource/WriteImgRes.c ****     else
 368:../../MMI/Resource/WriteImgRes.c ****     {
 369:../../MMI/Resource/WriteImgRes.c ****         extImageFlag = SYSTEM_IMAGE;
 2980              	LM46:
 2981 08ca C745F800 		movl	$0, -8(%ebp)
 2981      000000
 2982              	L40:
 370:../../MMI/Resource/WriteImgRes.c ****     }
 371:../../MMI/Resource/WriteImgRes.c **** 
 372:../../MMI/Resource/WriteImgRes.c ****     /*
 373:../../MMI/Resource/WriteImgRes.c ****     if (*pCurrMaxImageId >= MAX_IMAGE_IDS_SIZE)
 374:../../MMI/Resource/WriteImgRes.c ****     {
 375:../../MMI/Resource/WriteImgRes.c ****         return; // Can't add more than max number of image ids allowed
 376:../../MMI/Resource/WriteImgRes.c ****     }
 377:../../MMI/Resource/WriteImgRes.c ****     */
 378:../../MMI/Resource/WriteImgRes.c **** 
 379:../../MMI/Resource/WriteImgRes.c ****     if (strcmp(upperFileName, "..\\\\..\\\\CUSTOMER\\\\IMAGES\\\\COSMOS480X800\\\\MAINLCD\\\\DEFAUL
 2984              	LM47:
 2985 08d1 C7442404 		movl	$LC37, 4(%esp)
 2985      00080000 
 2986 08d9 8B450C   		movl	12(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 19


 2987 08dc 890424   		movl	%eax, (%esp)
 2988 08df E8000000 		call	_strcmp
 2988      00
 2989 08e4 85C0     		testl	%eax, %eax
 2990 08e6 7507     		jne	L41
 380:../../MMI/Resource/WriteImgRes.c ****     {
 381:../../MMI/Resource/WriteImgRes.c ****         int i = 0;
 2992              	LM48:
 2993              	LBB5:
 2994 08e8 C745F400 		movl	$0, -12(%ebp)
 2994      000000
 2995              	L41:
 382:../../MMI/Resource/WriteImgRes.c ****     }
 383:../../MMI/Resource/WriteImgRes.c ****     if (processData->duplicated == MMI_FALSE)
 2997              	LM49:
 2998              	LBE5:
 2999 08ef 8B451C   		movl	28(%ebp), %eax
 3000 08f2 83B80C02 		cmpl	$0, 524(%eax)
 3000      000000
 3001 08f9 0F85A900 		jne	L38
 3001      0000
 384:../../MMI/Resource/WriteImgRes.c ****     {
 385:../../MMI/Resource/WriteImgRes.c ****         if ( Iload(upperFileName, extImageFlag, force_type, processData)!= MMI_TRUE )
 3003              	LM50:
 3004 08ff 8B451C   		movl	28(%ebp), %eax
 3005 0902 8944240C 		movl	%eax, 12(%esp)
 3006 0906 8B4518   		movl	24(%ebp), %eax
 3007 0909 89442408 		movl	%eax, 8(%esp)
 3008 090d 8B45F8   		movl	-8(%ebp), %eax
 3009 0910 89442404 		movl	%eax, 4(%esp)
 3010 0914 8B450C   		movl	12(%ebp), %eax
 3011 0917 890424   		movl	%eax, (%esp)
 3012 091a E8D70300 		call	_Iload
 3012      00
 3013 091f 83F801   		cmpl	$1, %eax
 3014 0922 0F848000 		je	L38
 3014      0000
 386:../../MMI/Resource/WriteImgRes.c ****         {
 387:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Iload failed: %s(%d), PATH=%s, TYEP=%d", enum_value, nImgId, upperFileNam
 3016              	LM51:
 3017 0928 8B4518   		movl	24(%ebp), %eax
 3018 092b 89442418 		movl	%eax, 24(%esp)
 3019 092f 8B450C   		movl	12(%ebp), %eax
 3020 0932 89442414 		movl	%eax, 20(%esp)
 3021 0936 0FB745FE 		movzwl	-2(%ebp), %eax
 3022 093a 89442410 		movl	%eax, 16(%esp)
 3023 093e 8B4510   		movl	16(%ebp), %eax
 3024 0941 8944240C 		movl	%eax, 12(%esp)
 3025 0945 C7442408 		movl	$LC38, 8(%esp)
 3025      80080000 
 3026 094d C7442404 		movl	$LC34, 4(%esp)
 3026      64060000 
 3027 0955 C7042403 		movl	$3, (%esp)
 3027      000000
 3028 095c E8000000 		call	_reslog_adaptor_log
 3028      00
 388:../../MMI/Resource/WriteImgRes.c ****             fflush(stdout);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 20


 3030              	LM52:
 3031 0961 A1000000 		movl	__imp___iob, %eax
 3031      00
 3032 0966 83C020   		addl	$32, %eax
 3033 0969 890424   		movl	%eax, (%esp)
 3034 096c E8000000 		call	_fflush
 3034      00
 389:../../MMI/Resource/WriteImgRes.c ****             if(!toolFlag)
 3036              	LM53:
 3037 0971 833D0000 		cmpl	$0, _toolFlag
 3037      000000
 3038 0978 7521     		jne	L44
 390:../../MMI/Resource/WriteImgRes.c ****             {
 391:../../MMI/Resource/WriteImgRes.c ****                 LogILoadFail(nImgId, enum_value, upperFileName, force_type);
 3040              	LM54:
 3041 097a 8B4518   		movl	24(%ebp), %eax
 3042 097d 8944240C 		movl	%eax, 12(%esp)
 3043 0981 8B450C   		movl	12(%ebp), %eax
 3044 0984 89442408 		movl	%eax, 8(%esp)
 3045 0988 8B4510   		movl	16(%ebp), %eax
 3046 098b 89442404 		movl	%eax, 4(%esp)
 3047 098f 0FB745FE 		movzwl	-2(%ebp), %eax
 3048 0993 890424   		movl	%eax, (%esp)
 3049 0996 E854FAFF 		call	_LogILoadFail
 3049      FF
 3050              	L44:
 392:../../MMI/Resource/WriteImgRes.c ****             }
 393:../../MMI/Resource/WriteImgRes.c ****             /* CustPack: let new set of images share the same resource of default image */
 394:../../MMI/Resource/WriteImgRes.c ****             processData->failed = MMI_TRUE;
 3052              	LM55:
 3053 099b 8B451C   		movl	28(%ebp), %eax
 3054 099e C7800802 		movl	$1, 520(%eax)
 3054      00000100 
 3054      0000
 395:../../MMI/Resource/WriteImgRes.c ****         }
 396:../../MMI/Resource/WriteImgRes.c ****     }
 397:../../MMI/Resource/WriteImgRes.c **** 
 398:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__//100206 ENFB support
 399:../../MMI/Resource/WriteImgRes.c ****     if (processData->failed)
 400:../../MMI/Resource/WriteImgRes.c ****     {
 401:../../MMI/Resource/WriteImgRes.c ****     }
 402:../../MMI/Resource/WriteImgRes.c ****     else if (processData->duplicated)
 403:../../MMI/Resource/WriteImgRes.c ****     {
 404:../../MMI/Resource/WriteImgRes.c ****         if (ENFBAssociatedIDFlag == MMI_TRUE)
 405:../../MMI/Resource/WriteImgRes.c ****         {
 406:../../MMI/Resource/WriteImgRes.c ****             if (IfItemExistENFBAssociatedID(upperFileName, extImageFlag))//already in other associa
 407:../../MMI/Resource/WriteImgRes.c ****             {
 408:../../MMI/Resource/WriteImgRes.c ****                 AddENFBAssociatedIDItem(nImgId, upperFileName, extImageFlag);
 409:../../MMI/Resource/WriteImgRes.c ****             }
 410:../../MMI/Resource/WriteImgRes.c ****             else
 411:../../MMI/Resource/WriteImgRes.c ****             {
 412:../../MMI/Resource/WriteImgRes.c ****                 fprintf(RepeatIDListFile, "\n\n!!!!!!!!!!!!%d\t%s\t\t%s!!!!!!!!!!!!!\n\n", nImgId, 
 413:../../MMI/Resource/WriteImgRes.c ****             }
 414:../../MMI/Resource/WriteImgRes.c ****         }
 415:../../MMI/Resource/WriteImgRes.c ****     }
 416:../../MMI/Resource/WriteImgRes.c ****     else
 417:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 21


 418:../../MMI/Resource/WriteImgRes.c ****         if (ENFBAssociatedIDFlag == MMI_TRUE)
 419:../../MMI/Resource/WriteImgRes.c ****         {
 420:../../MMI/Resource/WriteImgRes.c ****             if (ENFBAssociatedIDAdded == MMI_TRUE)//already in other associated group
 421:../../MMI/Resource/WriteImgRes.c ****             {
 422:../../MMI/Resource/WriteImgRes.c ****                 AddENFBAssociatedIDItem(nImgId, upperFileName, extImageFlag);
 423:../../MMI/Resource/WriteImgRes.c ****                 ENFBAssociatedIDAdded = MMI_FALSE;
 424:../../MMI/Resource/WriteImgRes.c ****             }
 425:../../MMI/Resource/WriteImgRes.c ****         }
 426:../../MMI/Resource/WriteImgRes.c ****     }
 427:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
 428:../../MMI/Resource/WriteImgRes.c **** }
 3056              	LM56:
 3057              	L38:
 3058 09a8 C9       		leave
 3059 09a9 C3       		ret
 3060              	LBE4:
 3068              	Lscope3:
 3070 09aa 90909090 		.align 32
 3070      90909090 
 3070      90909090 
 3070      90909090 
 3070      90909090 
 3071              	LC39:
 3072 09c0 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustNFBProgressImg.c\0"
 3072      2E5C4375 
 3072      73746F6D 
 3072      65725C43 
 3072      75737452 
 3073 09f1 EB0D9090 		.align 32
 3073      90909090 
 3073      90909090 
 3073      909090
 3074              	LC40:
 3075 0a00 496C6F61 		.ascii "Iload - open CustNFBProgressImg.c for NFB population\0"
 3075      64202D20 
 3075      6F70656E 
 3075      20437573 
 3075      744E4642 
 3076              	LC41:
 3077 0a35 2E39534C 		.ascii ".9SLICE\0"
 3077      49434500 
 3078              	LC42:
 3079 0a3d 2E545854 		.ascii ".TXT\0"
 3079      00
 3080              	LC43:
 3081 0a42 466F756E 		.ascii "Found 9slice image [%s]\0"
 3081      64203973 
 3081      6C696365 
 3081      20696D61 
 3081      6765205B 
 3082 0a5a 8DB60000 		.align 32
 3082      0000
 3083              	LC44:
 3084 0a60 44696420 		.ascii "Did not find 9slice txt files [%s]\0"
 3084      6E6F7420 
 3084      66696E64 
 3084      2039736C 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 22


 3084      69636520 
 3085 0a83 90909090 		.align 32
 3085      90909090 
 3085      90909090 
 3085      90909090 
 3085      90909090 
 3086              	LC45:
 3087 0aa0 4E46425F 		.ascii "NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload return\0"
 3087      50524F47 
 3087      52455353 
 3087      5F494D41 
 3087      47452069 
 3088 0aeb 90909090 		.align 32
 3088      90909090 
 3088      90909090 
 3088      90909090 
 3088      90909090 
 3089              	LC46:
 3090 0b00 5B41424D 		.ascii "[ABM] %s\11cannot open file for all supported formats!!!\12\0"
 3090      5D202573 
 3090      0963616E 
 3090      6E6F7420 
 3090      6F70656E 
 3091 0b38 908DB426 		.align 32
 3091      00000000 
 3092              	LC47:
 3093 0b40 496C6F61 		.ascii "Iload: strlen(filename_buffer) >  BUFFER_SIZE\12\0"
 3093      643A2073 
 3093      74726C65 
 3093      6E286669 
 3093      6C656E61 
 3094 0b6f 90909090 		.align 32
 3094      90909090 
 3094      90909090 
 3094      90909090 
 3094      90
 3095              	LC48:
 3096 0b80 496C6F61 		.ascii "Iload: (strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_LEN\12\0"
 3096      643A2028 
 3096      7374726C 
 3096      656E2866 
 3096      696C656E 
 3097              	LC49:
 3098 0bca 4100     		.ascii "A\0"
 3099              	LC50:
 3100 0bcc 5B25735D 		.ascii "[%s] no need convert 01\12\0"
 3100      206E6F20 
 3100      6E656564 
 3100      20636F6E 
 3100      76657274 
 3101 0be5 90909090 		.align 32
 3101      90909090 
 3101      90909090 
 3101      90909090 
 3101      90909090 
 3102              	LC51:
 3103 0c00 2E5C5C63 		.ascii ".\\\\convert.exe -channel Alpha -negate -compress none png:%s bmp:%s > NUL\0"
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 23


 3103      6F6E7665 
 3103      72742E65 
 3103      7865202D 
 3103      6368616E 
 3104              	LC52:
 3105 0c49 25730A00 		.ascii "%s\12\0"
 3106 0c4d 90909090 		.align 32
 3106      90909090 
 3106      90909090 
 3106      90909090 
 3106      909090
 3107              	LC53:
 3108 0c60 496C6F61 		.ascii "Iload: filename_buffer too short\0"
 3108      643A2066 
 3108      696C656E 
 3108      616D655F 
 3108      62756666 
 3109              	LC54:
 3110 0c81 636F6E73 		.ascii "const U8 %s[] = \0"
 3110      74205538 
 3110      2025735B 
 3110      5D203D20 
 3110      00
 3111              	LC55:
 3112 0c92 612B00   		.ascii "a+\0"
 3113              	LC56:
 3114 0c95 2E5C5C64 		.ascii ".\\\\debug\\\\fail.txt\0"
 3114      65627567 
 3114      5C5C6661 
 3114      696C2E74 
 3114      787400
 3115 0ca8 90909090 		.align 32
 3115      90909090 
 3115      90909090 
 3115      90909090 
 3115      90909090 
 3116              	LC57:
 3117 0cc0 46696C65 		.ascii "File %s not exist, trying to load sequential image\0"
 3117      20257320 
 3117      6E6F7420 
 3117      65786973 
 3117      742C2074 
 3118              	LC58:
 3119 0cf3 726200   		.ascii "rb\0"
 3125              	.globl _Iload
 3127              	_Iload:
 429:../../MMI/Resource/WriteImgRes.c **** 
 430:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 431:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 432:../../MMI/Resource/WriteImgRes.c ****  *  Iload
 433:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 434:../../MMI/Resource/WriteImgRes.c ****  *  load the file image to buffer and writes to CustImgRes.c, etc.
 435:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 436:../../MMI/Resource/WriteImgRes.c ****  *  string      [IN]        string containing file name and path
 437:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 438:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
 439:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 24


 440:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Iload(S8 *string, image_type_enum extImageFlag, S32 force_type, SetImageProcessData * proc
 441:../../MMI/Resource/WriteImgRes.c **** {
 3129              	LM57:
 3130 0cf6 55       		pushl	%ebp
 3131 0cf7 89E5     		movl	%esp, %ebp
 3132 0cf9 53       		pushl	%ebx
 3133 0cfa B8F42400 		movl	$9460, %eax
 3133      00
 3134 0cff E8000000 		call	__alloca
 3134      00
 442:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 443:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 444:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 445:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL failure_flag;
 446:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL flag_file_exist = MMI_TRUE;
 3136              	LM58:
 3137              	LBB6:
 3138 0d04 C745F001 		movl	$1, -16(%ebp)
 3138      000000
 447:../../MMI/Resource/WriteImgRes.c ****     S8 * output_image_names = NULL;
 3140              	LM59:
 3141 0d0b C745EC00 		movl	$0, -20(%ebp)
 3141      000000
 448:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
 449:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL is9slice = MMI_FALSE;
 3143              	LM60:
 3144 0d12 C785E4EF 		movl	$0, -4124(%ebp)
 3144      FFFF0000 
 3144      0000
 450:../../MMI/Resource/WriteImgRes.c ****     U8 _9slice_filename[MAX_FILENAME_LEN];
 451:../../MMI/Resource/WriteImgRes.c ****     FILE *nfb_img_res_file = NULL;
 3146              	LM61:
 3147 0d1c C785D4ED 		movl	$0, -4652(%ebp)
 3147      FFFF0000 
 3147      0000
 452:../../MMI/Resource/WriteImgRes.c ****     S32 proc_img_err_code = 0;
 3149              	LM62:
 3150 0d26 C785D0ED 		movl	$0, -4656(%ebp)
 3150      FFFF0000 
 3150      0000
 453:../../MMI/Resource/WriteImgRes.c **** 
 454:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 455:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 456:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 457:../../MMI/Resource/WriteImgRes.c ****     /* reset res_size, size of the resource for usage manitor */
 458:../../MMI/Resource/WriteImgRes.c ****     processData->res_size = 0;
 3152              	LM63:
 3153 0d30 8B4514   		movl	20(%ebp), %eax
 3154 0d33 C7800002 		movl	$0, 512(%eax)
 3154      00000000 
 3154      0000
 459:../../MMI/Resource/WriteImgRes.c **** 
 460:../../MMI/Resource/WriteImgRes.c ****     if (extImageFlag == NFB_PROGRESS_IMAGE)
 3156              	LM64:
 3157 0d3d 837D0C02 		cmpl	$2, 12(%ebp)
 3158 0d41 7536     		jne	L46
 461:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 25


 462:../../MMI/Resource/WriteImgRes.c ****         nfb_img_res_file = fopen(NFB_IMAGE_RES_FILENAME, "a");
 3160              	LM65:
 3161 0d43 C7442404 		movl	$LC24, 4(%esp)
 3161      26030000 
 3162 0d4b C70424C0 		movl	$LC39, (%esp)
 3162      090000
 3163 0d52 E8000000 		call	_fopen
 3163      00
 3164 0d57 8985D4ED 		movl	%eax, -4652(%ebp)
 3164      FFFF
 463:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_V("Iload - open CustNFBProgressImg.c for NFB population");
 3166              	LM66:
 3167 0d5d C7442408 		movl	$LC40, 8(%esp)
 3167      000A0000 
 3168 0d65 C7442404 		movl	$LC34, 4(%esp)
 3168      64060000 
 3169 0d6d C7042401 		movl	$1, (%esp)
 3169      000000
 3170 0d74 E8000000 		call	_reslog_adaptor_log
 3170      00
 3171              	L46:
 464:../../MMI/Resource/WriteImgRes.c ****     }
 465:../../MMI/Resource/WriteImgRes.c **** 
 466:../../MMI/Resource/WriteImgRes.c ****     /* set output variable name of the resource */
 467:../../MMI/Resource/WriteImgRes.c ****     output_image_names = (S8*) malloc(MAX_FILENAME_LEN);
 3173              	LM67:
 3174 0d79 C7042400 		movl	$512, (%esp)
 3174      020000
 3175 0d80 E8000000 		call	_malloc
 3175      00
 3176 0d85 8945EC   		movl	%eax, -20(%ebp)
 468:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, string);
 3178              	LM68:
 3179 0d88 8B4508   		movl	8(%ebp), %eax
 3180 0d8b 89442404 		movl	%eax, 4(%esp)
 3181 0d8f 8D85E8EF 		leal	-4120(%ebp), %eax
 3181      FFFF
 3182 0d95 890424   		movl	%eax, (%esp)
 3183 0d98 E8000000 		call	_strcpy
 3183      00
 469:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 3185              	LM69:
 3186 0d9d C7442404 		movl	$LC31, 4(%esp)
 3186      12060000 
 3187 0da5 8D85E8EF 		leal	-4120(%ebp), %eax
 3187      FFFF
 3188 0dab 890424   		movl	%eax, (%esp)
 3189 0dae E8000000 		call	_strcmp
 3189      00
 3190 0db3 85C0     		testl	%eax, %eax
 3191 0db5 7516     		jne	L47
 470:../../MMI/Resource/WriteImgRes.c ****     {
 471:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 3193              	LM70:
 3194 0db7 C7442404 		movl	$LC32, 4(%esp)
 3194      20060000 
 3195 0dbf 8D85E8EF 		leal	-4120(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 26


 3195      FFFF
 3196 0dc5 890424   		movl	%eax, (%esp)
 3197 0dc8 E8000000 		call	_strcpy
 3197      00
 3198              	L47:
 472:../../MMI/Resource/WriteImgRes.c ****     }
 473:../../MMI/Resource/WriteImgRes.c ****     Extract_Name(output_image_names, filename_buffer, extImageFlag);
 3200              	LM71:
 3201 0dcd 8B450C   		movl	12(%ebp), %eax
 3202 0dd0 89442408 		movl	%eax, 8(%esp)
 3203 0dd4 8D85E8EF 		leal	-4120(%ebp), %eax
 3203      FFFF
 3204 0dda 89442404 		movl	%eax, 4(%esp)
 3205 0dde 8B45EC   		movl	-20(%ebp), %eax
 3206 0de1 890424   		movl	%eax, (%esp)
 3207 0de4 E8000000 		call	_Extract_Name
 3207      00
 474:../../MMI/Resource/WriteImgRes.c **** 
 475:../../MMI/Resource/WriteImgRes.c ****     if (strstr(filename_buffer, ".9SLICE") != NULL)
 3209              	LM72:
 3210 0de9 C7442404 		movl	$LC41, 4(%esp)
 3210      350A0000 
 3211 0df1 8D85E8EF 		leal	-4120(%ebp), %eax
 3211      FFFF
 3212 0df7 890424   		movl	%eax, (%esp)
 3213 0dfa E8000000 		call	_strstr
 3213      00
 3214 0dff 85C0     		testl	%eax, %eax
 3215 0e01 0F841101 		je	L48
 3215      0000
 476:../../MMI/Resource/WriteImgRes.c ****     {
 477:../../MMI/Resource/WriteImgRes.c ****         is9slice = MMI_TRUE;
 3217              	LM73:
 3218 0e07 C785E4EF 		movl	$1, -4124(%ebp)
 3218      FFFF0100 
 3218      0000
 478:../../MMI/Resource/WriteImgRes.c ****         ASSERT(MAX_FILENAME_LEN > (strlen(filename_buffer)+4));
 3220              	LM74:
 3221 0e11 8D85E8EF 		leal	-4120(%ebp), %eax
 3221      FFFF
 3222 0e17 890424   		movl	%eax, (%esp)
 3223 0e1a E8000000 		call	_strlen
 3223      00
 3224 0e1f 83C004   		addl	$4, %eax
 3225 0e22 3DFF0100 		cmpl	$511, %eax
 3225      00
 3226 0e27 7602     		jbe	L53
 3227              	L50:
 3228 0e29 EBFE     		jmp	L50
 3229              	L53:
 479:../../MMI/Resource/WriteImgRes.c ****         strcpy(_9slice_filename, filename_buffer);
 3231              	LM75:
 3232 0e2b 8D85E8EF 		leal	-4120(%ebp), %eax
 3232      FFFF
 3233 0e31 89442404 		movl	%eax, 4(%esp)
 3234 0e35 8D85D8ED 		leal	-4648(%ebp), %eax
 3234      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 27


 3235 0e3b 890424   		movl	%eax, (%esp)
 3236 0e3e E8000000 		call	_strcpy
 3236      00
 480:../../MMI/Resource/WriteImgRes.c ****         strcat(_9slice_filename, ".TXT");
 3238              	LM76:
 3239 0e43 C7442404 		movl	$LC42, 4(%esp)
 3239      3D0A0000 
 3240 0e4b 8D85D8ED 		leal	-4648(%ebp), %eax
 3240      FFFF
 3241 0e51 890424   		movl	%eax, (%esp)
 3242 0e54 E8000000 		call	_strcat
 3242      00
 481:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_D("Found 9slice image [%s]", filename_buffer);
 3244              	LM77:
 3245 0e59 8D85E8EF 		leal	-4120(%ebp), %eax
 3245      FFFF
 3246 0e5f 8944240C 		movl	%eax, 12(%esp)
 3247 0e63 C7442408 		movl	$LC43, 8(%esp)
 3247      420A0000 
 3248 0e6b C7442404 		movl	$LC34, 4(%esp)
 3248      64060000 
 3249 0e73 C7042400 		movl	$0, (%esp)
 3249      000000
 3250 0e7a E8000000 		call	_reslog_adaptor_log
 3250      00
 482:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(_9slice_filename) == MMI_FALSE)
 3252              	LM78:
 3253 0e7f 8D85D8ED 		leal	-4648(%ebp), %eax
 3253      FFFF
 3254 0e85 890424   		movl	%eax, (%esp)
 3255 0e88 E8000000 		call	_file_exist
 3255      00
 3256 0e8d 85C0     		testl	%eax, %eax
 3257 0e8f 0F858300 		jne	L48
 3257      0000
 483:../../MMI/Resource/WriteImgRes.c ****         {
 484:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_W("Did not find 9slice txt files [%s]", filename_buffer);
 3259              	LM79:
 3260 0e95 8D85E8EF 		leal	-4120(%ebp), %eax
 3260      FFFF
 3261 0e9b 8944240C 		movl	%eax, 12(%esp)
 3262 0e9f C7442408 		movl	$LC44, 8(%esp)
 3262      600A0000 
 3263 0ea7 C7442404 		movl	$LC34, 4(%esp)
 3263      64060000 
 3264 0eaf C7042402 		movl	$2, (%esp)
 3264      000000
 3265 0eb6 E8000000 		call	_reslog_adaptor_log
 3265      00
 485:../../MMI/Resource/WriteImgRes.c **** 
 486:../../MMI/Resource/WriteImgRes.c **** 			// Release resource before return
 487:../../MMI/Resource/WriteImgRes.c **** 			if (extImageFlag == NFB_PROGRESS_IMAGE){
 3267              	LM80:
 3268 0ebb 837D0C02 		cmpl	$2, 12(%ebp)
 3269 0ebf 753D     		jne	L55
 488:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(nfb_img_res_file);
 3271              	LM81:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 28


 3272 0ec1 83BDD4ED 		cmpl	$0, -4652(%ebp)
 3272      FFFF00
 3273 0ec8 7418     		je	L56
 3274 0eca 8B85D4ED 		movl	-4652(%ebp), %eax
 3274      FFFF
 3275 0ed0 890424   		movl	%eax, (%esp)
 3276 0ed3 E8000000 		call	_fclose
 3276      00
 3277 0ed8 C785D4ED 		movl	$0, -4652(%ebp)
 3277      FFFF0000 
 3277      0000
 3278              	L56:
 489:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload r
 3280              	LM82:
 3281 0ee2 C7442408 		movl	$LC45, 8(%esp)
 3281      A00A0000 
 3282 0eea C7442404 		movl	$LC34, 4(%esp)
 3282      64060000 
 3283 0ef2 C7042401 		movl	$1, (%esp)
 3283      000000
 3284 0ef9 E8000000 		call	_reslog_adaptor_log
 3284      00
 3285              	L55:
 490:../../MMI/Resource/WriteImgRes.c ****             }
 491:../../MMI/Resource/WriteImgRes.c ****             free(output_image_names);
 3287              	LM83:
 3288 0efe 8B45EC   		movl	-20(%ebp), %eax
 3289 0f01 890424   		movl	%eax, (%esp)
 3290 0f04 E8000000 		call	_free
 3290      00
 492:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 3292              	LM84:
 3293 0f09 C78538DB 		movl	$0, -9416(%ebp)
 3293      FFFF0000 
 3293      0000
 3294 0f13 E9C20B00 		jmp	L45
 3294      00
 3295              	L48:
 493:../../MMI/Resource/WriteImgRes.c ****         }
 494:../../MMI/Resource/WriteImgRes.c ****     }
 495:../../MMI/Resource/WriteImgRes.c **** 
 496:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_SLIM_LISTMENU_NUMBER__
 497:../../MMI/Resource/WriteImgRes.c ****     /* set sub-menu list icon image to default 1, 2, 3, ... */
 498:../../MMI/Resource/WriteImgRes.c ****     if (isSubmenuImage(filename_buffer))
 499:../../MMI/Resource/WriteImgRes.c ****     {
 500:../../MMI/Resource/WriteImgRes.c ****         int i, len;
 501:../../MMI/Resource/WriteImgRes.c **** 
 502:../../MMI/Resource/WriteImgRes.c ****         len = strlen(filename_buffer);
 503:../../MMI/Resource/WriteImgRes.c **** 
 504:../../MMI/Resource/WriteImgRes.c ****         for (i = len; i > 0; i--)
 505:../../MMI/Resource/WriteImgRes.c ****         {
 506:../../MMI/Resource/WriteImgRes.c ****             if (filename_buffer[i - 0] == 'U' && filename_buffer[i - 1] == 'N' && filename_buffer[i
 507:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i - 3] == 'M' && filename_buffer[i - 4] == 'B' && filename_buffer[i
 508:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i - 6] == 'S')
 509:../../MMI/Resource/WriteImgRes.c ****             {
 510:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i + 1] = '2';
 511:../../MMI/Resource/WriteImgRes.c ****                 break;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 29


 512:../../MMI/Resource/WriteImgRes.c ****             }
 513:../../MMI/Resource/WriteImgRes.c ****             else
 514:../../MMI/Resource/WriteImgRes.c ****             {
 515:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[i + 1] = filename_buffer[i];
 516:../../MMI/Resource/WriteImgRes.c ****             }
 517:../../MMI/Resource/WriteImgRes.c **** 
 518:../../MMI/Resource/WriteImgRes.c ****         }
 519:../../MMI/Resource/WriteImgRes.c ****         filename_buffer[len + 1] = '\0';
 520:../../MMI/Resource/WriteImgRes.c ****     }
 521:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_SLIM_LISTMENU_NUMBER__ */
 522:../../MMI/Resource/WriteImgRes.c **** 
 523:../../MMI/Resource/WriteImgRes.c ****     failure_flag = MMI_FALSE;
 3297              	LM85:
 3298 0f18 C745F400 		movl	$0, -12(%ebp)
 3298      000000
 524:../../MMI/Resource/WriteImgRes.c **** 
 525:../../MMI/Resource/WriteImgRes.c ****     /* For 128x128, it does not support ABM.
 526:../../MMI/Resource/WriteImgRes.c ****      * In order not to modify res_xxx.c, we have to
 527:../../MMI/Resource/WriteImgRes.c ****      * find the correct filename automatically */
 528:../../MMI/Resource/WriteImgRes.c ****     /* This rule, renaming PNG -> other format, will apply for all */
 529:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(filename_buffer) == MMI_FALSE)
 3300              	LM86:
 3301 0f1f 8D85E8EF 		leal	-4120(%ebp), %eax
 3301      FFFF
 3302 0f25 890424   		movl	%eax, (%esp)
 3303 0f28 E8000000 		call	_file_exist
 3303      00
 3304 0f2d 85C0     		testl	%eax, %eax
 3305 0f2f 0F85FF00 		jne	L58
 3305      0000
 530:../../MMI/Resource/WriteImgRes.c ****     {
 531:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_1 = -1;
 3307              	LM87:
 3308              	LBB7:
 3309 0f35 C785CCED 		movl	$-1, -4660(%ebp)
 3309      FFFFFFFF 
 3309      FFFF
 532:../../MMI/Resource/WriteImgRes.c ****         ext_type_1 = ExtractExtension(filename_buffer, RES_IMAGE);
 3311              	LM88:
 3312 0f3f C7442404 		movl	$0, 4(%esp)
 3312      00000000 
 3313 0f47 8D85E8EF 		leal	-4120(%ebp), %eax
 3313      FFFF
 3314 0f4d 890424   		movl	%eax, (%esp)
 3315 0f50 E8000000 		call	_ExtractExtension
 3315      00
 3316 0f55 0FB6C0   		movzbl	%al, %eax
 3317 0f58 8985CCED 		movl	%eax, -4660(%ebp)
 3317      FFFF
 533:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_1 == IMAGE_TYPE_PNG)
 3319              	LM89:
 3320 0f5e 83BDCCED 		cmpl	$19, -4660(%ebp)
 3320      FFFF13
 3321 0f65 0F85C900 		jne	L58
 3321      0000
 534:../../MMI/Resource/WriteImgRes.c ****         {
 535:../../MMI/Resource/WriteImgRes.c ****             S32 i, count;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 30


 536:../../MMI/Resource/WriteImgRes.c **** 
 537:../../MMI/Resource/WriteImgRes.c ****             count = sizeof(image_resource_info)/sizeof(RESOURCE_INFO);
 3323              	LM90:
 3324              	LBB8:
 3325 0f6b C785C4ED 		movl	$21, -4668(%ebp)
 3325      FFFF1500 
 3325      0000
 538:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < count; i++)
 3327              	LM91:
 3328 0f75 C785C8ED 		movl	$0, -4664(%ebp)
 3328      FFFF0000 
 3328      0000
 3329              	L60:
 3330 0f7f 8B85C8ED 		movl	-4664(%ebp), %eax
 3330      FFFF
 3331 0f85 3B85C4ED 		cmpl	-4668(%ebp), %eax
 3331      FFFF
 3332 0f8b 7C02     		jl	L63
 3333 0f8d EB5C     		jmp	L61
 3334              	L63:
 539:../../MMI/Resource/WriteImgRes.c ****             {
 540:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(filename_buffer, RES_IMAGE, image_resource_info[i].file_type);
 3336              	LM92:
 3337 0f8f 8B85C8ED 		movl	-4664(%ebp), %eax
 3337      FFFF
 3338 0f95 0FB604C5 		movzbl	_image_resource_info+4(,%eax,8), %eax
 3338      64000000 
 3339 0f9d 89442408 		movl	%eax, 8(%esp)
 3340 0fa1 C7442404 		movl	$0, 4(%esp)
 3340      00000000 
 3341 0fa9 8D85E8EF 		leal	-4120(%ebp), %eax
 3341      FFFF
 3342 0faf 890424   		movl	%eax, (%esp)
 3343 0fb2 E8000000 		call	_ChangeExtension
 3343      00
 541:../../MMI/Resource/WriteImgRes.c ****                 if (file_exist(filename_buffer) == MMI_TRUE)
 3345              	LM93:
 3346 0fb7 8D85E8EF 		leal	-4120(%ebp), %eax
 3346      FFFF
 3347 0fbd 890424   		movl	%eax, (%esp)
 3348 0fc0 E8000000 		call	_file_exist
 3348      00
 3349 0fc5 83F801   		cmpl	$1, %eax
 3350 0fc8 7517     		jne	L62
 542:../../MMI/Resource/WriteImgRes.c ****                 {
 543:../../MMI/Resource/WriteImgRes.c ****                     strcpy(processData->real_filename, filename_buffer);
 3352              	LM94:
 3353 0fca 8D85E8EF 		leal	-4120(%ebp), %eax
 3353      FFFF
 3354 0fd0 89442404 		movl	%eax, 4(%esp)
 3355 0fd4 8B4514   		movl	20(%ebp), %eax
 3356 0fd7 890424   		movl	%eax, (%esp)
 3357 0fda E8000000 		call	_strcpy
 3357      00
 544:../../MMI/Resource/WriteImgRes.c ****                     break;
 3359              	LM95:
 3360 0fdf EB0A     		jmp	L61
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 31


 3362              	LM96:
 3363              	L62:
 3364 0fe1 8D85C8ED 		leal	-4664(%ebp), %eax
 3364      FFFF
 3365 0fe7 FF00     		incl	(%eax)
 3366 0fe9 EB94     		jmp	L60
 3367              	L61:
 545:../../MMI/Resource/WriteImgRes.c ****                 }
 546:../../MMI/Resource/WriteImgRes.c ****             }
 547:../../MMI/Resource/WriteImgRes.c ****             if (i == count)
 3369              	LM97:
 3370 0feb 8B85C8ED 		movl	-4664(%ebp), %eax
 3370      FFFF
 3371 0ff1 3B85C4ED 		cmpl	-4668(%ebp), %eax
 3371      FFFF
 3372 0ff7 753B     		jne	L58
 548:../../MMI/Resource/WriteImgRes.c ****             {
 549:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(filename_buffer, RES_IMAGE, IMAGE_TYPE_PNG);
 3374              	LM98:
 3375 0ff9 C7442408 		movl	$19, 8(%esp)
 3375      13000000 
 3376 1001 C7442404 		movl	$0, 4(%esp)
 3376      00000000 
 3377 1009 8D85E8EF 		leal	-4120(%ebp), %eax
 3377      FFFF
 3378 100f 890424   		movl	%eax, (%esp)
 3379 1012 E8000000 		call	_ChangeExtension
 3379      00
 550:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("[ABM] %s\tcannot open file for all supported formats!!!\n", filenam
 3381              	LM99:
 3382 1017 8D85E8EF 		leal	-4120(%ebp), %eax
 3382      FFFF
 3383 101d 89442404 		movl	%eax, 4(%esp)
 3384 1021 C7042400 		movl	$LC46, (%esp)
 3384      0B0000
 3385 1028 E8000000 		call	_MtkResgenTrace
 3385      00
 551:../../MMI/Resource/WriteImgRes.c ****                 flag_file_exist = MMI_FALSE;
 3387              	LM100:
 3388 102d C745F000 		movl	$0, -16(%ebp)
 3388      000000
 3389              	L58:
 552:../../MMI/Resource/WriteImgRes.c ****             }
 553:../../MMI/Resource/WriteImgRes.c ****         }
 554:../../MMI/Resource/WriteImgRes.c ****     }
 555:../../MMI/Resource/WriteImgRes.c **** 
 556:../../MMI/Resource/WriteImgRes.c ****     /* ABM encoding */
 557:../../MMI/Resource/WriteImgRes.c ****     if ((failure_flag == MMI_FALSE) &&
 3391              	LM101:
 3392              	LBE8:
 3393              	LBE7:
 3394 1034 837DF400 		cmpl	$0, -12(%ebp)
 3395 1038 0F857B03 		jne	L66
 3395      0000
 3396 103e 8D85E8EF 		leal	-4120(%ebp), %eax
 3396      FFFF
 3397 1044 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 32


 3398 1047 E8AF0A00 		call	_isEmsImage
 3398      00
 3399 104c 84C0     		testb	%al, %al
 3400 104e 0F856503 		jne	L66
 3400      0000
 558:../../MMI/Resource/WriteImgRes.c ****         !isEmsImage(filename_buffer))
 559:../../MMI/Resource/WriteImgRes.c ****     {
 560:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_2 = -1;
 3402              	LM102:
 3403              	LBB9:
 3404 1054 C785C4ED 		movl	$-1, -4668(%ebp)
 3404      FFFFFFFF 
 3404      FFFF
 561:../../MMI/Resource/WriteImgRes.c ****         ext_type_2 = ExtractExtension(filename_buffer, RES_IMAGE);
 3406              	LM103:
 3407 105e C7442404 		movl	$0, 4(%esp)
 3407      00000000 
 3408 1066 8D85E8EF 		leal	-4120(%ebp), %eax
 3408      FFFF
 3409 106c 890424   		movl	%eax, (%esp)
 3410 106f E8000000 		call	_ExtractExtension
 3410      00
 3411 1074 0FB6C0   		movzbl	%al, %eax
 3412 1077 8985C4ED 		movl	%eax, -4668(%ebp)
 3412      FFFF
 562:../../MMI/Resource/WriteImgRes.c **** 
 563:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__)
 564:../../MMI/Resource/WriteImgRes.c ****         /* If PNG, we will convert it to ABM conditionally */
 565:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_2 == IMAGE_TYPE_PNG)
 3414              	LM104:
 3415 107d 83BDC4ED 		cmpl	$19, -4668(%ebp)
 3415      FFFF13
 3416 1084 0F85AB02 		jne	L67
 3416      0000
 566:../../MMI/Resource/WriteImgRes.c ****         {
 567:../../MMI/Resource/WriteImgRes.c ****             BOOL is_need_convert = TRUE;
 3418              	LM105:
 3419              	LBB10:
 3420 108a C785C8ED 		movl	$1, -4664(%ebp)
 3420      FFFF0100 
 3420      0000
 568:../../MMI/Resource/WriteImgRes.c ****             S8 tempBMPFile[BUFFER_SIZE];
 569:../../MMI/Resource/WriteImgRes.c **** 
 570:../../MMI/Resource/WriteImgRes.c ****             /* convert PNG to 32-bits BMP */
 571:../../MMI/Resource/WriteImgRes.c ****             if (strlen(filename_buffer) >  BUFFER_SIZE)
 3422              	LM106:
 3423 1094 8D85E8EF 		leal	-4120(%ebp), %eax
 3423      FFFF
 3424 109a 890424   		movl	%eax, (%esp)
 3425 109d E8000000 		call	_strlen
 3425      00
 3426 10a2 3D001000 		cmpl	$4096, %eax
 3426      00
 3427 10a7 7638     		jbe	L68
 572:../../MMI/Resource/WriteImgRes.c ****             {
 573:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Iload: strlen(filename_buffer) >  BUFFER_SIZE\n");
 3429              	LM107:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 33


 3430 10a9 C7442408 		movl	$LC47, 8(%esp)
 3430      400B0000 
 3431 10b1 C7442404 		movl	$LC34, 4(%esp)
 3431      64060000 
 3432 10b9 C7042403 		movl	$3, (%esp)
 3432      000000
 3433 10c0 E8000000 		call	_reslog_adaptor_log
 3433      00
 574:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
 3435              	LM108:
 3436 10c5 C7442408 		movl	$574, 8(%esp)
 3436      3E020000 
 3437 10cd C7442404 		movl	$LC35, 4(%esp)
 3437      80060000 
 3438 10d5 C70424A1 		movl	$LC36, (%esp)
 3438      060000
 3439 10dc E8000000 		call	__assert
 3439      00
 3440              	L68:
 575:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
 576:../../MMI/Resource/WriteImgRes.c ****             }
 577:../../MMI/Resource/WriteImgRes.c ****             strcpy((char*)tempBMPFile, (const char*)filename_buffer);
 3442              	LM109:
 3443 10e1 8D85E8EF 		leal	-4120(%ebp), %eax
 3443      FFFF
 3444 10e7 89442404 		movl	%eax, 4(%esp)
 3445 10eb 8D85B8DD 		leal	-8776(%ebp), %eax
 3445      FFFF
 3446 10f1 890424   		movl	%eax, (%esp)
 3447 10f4 E8000000 		call	_strcpy
 3447      00
 578:../../MMI/Resource/WriteImgRes.c **** 
 579:../../MMI/Resource/WriteImgRes.c ****             if ((strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_LEN)
 3449              	LM110:
 3450 10f9 8D85E8EF 		leal	-4120(%ebp), %eax
 3450      FFFF
 3451 10ff 890424   		movl	%eax, (%esp)
 3452 1102 E8000000 		call	_strlen
 3452      00
 3453 1107 89C3     		movl	%eax, %ebx
 3454 1109 8D85B8DD 		leal	-8776(%ebp), %eax
 3454      FFFF
 3455 110f 890424   		movl	%eax, (%esp)
 3456 1112 E8000000 		call	_strlen
 3456      00
 3457 1117 8D0418   		leal	(%eax,%ebx), %eax
 3458 111a 3D000200 		cmpl	$512, %eax
 3458      00
 3459 111f 7638     		jbe	L69
 580:../../MMI/Resource/WriteImgRes.c ****             {
 581:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Iload: (strlen(filename_buffer)+strlen(tempBMPFile)) >  MAX_FILENAME_
 3461              	LM111:
 3462 1121 C7442408 		movl	$LC48, 8(%esp)
 3462      800B0000 
 3463 1129 C7442404 		movl	$LC34, 4(%esp)
 3463      64060000 
 3464 1131 C7042403 		movl	$3, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 34


 3464      000000
 3465 1138 E8000000 		call	_reslog_adaptor_log
 3465      00
 582:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
 3467              	LM112:
 3468 113d C7442408 		movl	$582, 8(%esp)
 3468      46020000 
 3469 1145 C7442404 		movl	$LC35, 4(%esp)
 3469      80060000 
 3470 114d C70424A1 		movl	$LC36, (%esp)
 3470      060000
 3471 1154 E8000000 		call	__assert
 3471      00
 3472              	L69:
 583:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
 584:../../MMI/Resource/WriteImgRes.c ****             }
 585:../../MMI/Resource/WriteImgRes.c **** 
 586:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(tempBMPFile, RES_IMAGE, IMAGE_TYPE_BMP);
 3474              	LM113:
 3475 1159 C7442408 		movl	$1, 8(%esp)
 3475      01000000 
 3476 1161 C7442404 		movl	$0, 4(%esp)
 3476      00000000 
 3477 1169 8D85B8DD 		leal	-8776(%ebp), %eax
 3477      FFFF
 3478 116f 890424   		movl	%eax, (%esp)
 3479 1172 E8000000 		call	_ChangeExtension
 3479      00
 587:../../MMI/Resource/WriteImgRes.c ****             strcat(tempBMPFile, "A");
 3481              	LM114:
 3482 1177 C7442404 		movl	$LC49, 4(%esp)
 3482      CA0B0000 
 3483 117f 8D85B8DD 		leal	-8776(%ebp), %eax
 3483      FFFF
 3484 1185 890424   		movl	%eax, (%esp)
 3485 1188 E8000000 		call	_strcat
 3485      00
 588:../../MMI/Resource/WriteImgRes.c **** 
 589:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag != 1)
 3487              	LM115:
 3488 118d 833D0000 		cmpl	$1, _toolFlag
 3488      000001
 3489 1194 743D     		je	L70
 590:../../MMI/Resource/WriteImgRes.c ****             {
 591:../../MMI/Resource/WriteImgRes.c ****                 if (resgen_compare_file_time(tempBMPFile, filename_buffer) == -1)
 3491              	LM116:
 3492 1196 8D85E8EF 		leal	-4120(%ebp), %eax
 3492      FFFF
 3493 119c 89442404 		movl	%eax, 4(%esp)
 3494 11a0 8D85B8DD 		leal	-8776(%ebp), %eax
 3494      FFFF
 3495 11a6 890424   		movl	%eax, (%esp)
 3496 11a9 E8000000 		call	_resgen_compare_file_time
 3496      00
 3497 11ae 83F8FF   		cmpl	$-1, %eax
 3498 11b1 7520     		jne	L70
 592:../../MMI/Resource/WriteImgRes.c ****                 {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 35


 593:../../MMI/Resource/WriteImgRes.c ****                     is_need_convert = FALSE;
 3500              	LM117:
 3501 11b3 C785C8ED 		movl	$0, -4664(%ebp)
 3501      FFFF0000 
 3501      0000
 594:../../MMI/Resource/WriteImgRes.c ****                     RES_PRINT_INFO("[%s] no need convert 01\n", filename_buffer);
 3503              	LM118:
 3504 11bd 8D85E8EF 		leal	-4120(%ebp), %eax
 3504      FFFF
 3505 11c3 89442404 		movl	%eax, 4(%esp)
 3506 11c7 C70424CC 		movl	$LC50, (%esp)
 3506      0B0000
 3507 11ce E8000000 		call	_MtkResgenTrace
 3507      00
 3508              	L70:
 595:../../MMI/Resource/WriteImgRes.c ****                 }
 596:../../MMI/Resource/WriteImgRes.c ****             }
 597:../../MMI/Resource/WriteImgRes.c **** 
 598:../../MMI/Resource/WriteImgRes.c ****             if (is_need_convert && flag_file_exist)
 3510              	LM119:
 3511 11d3 83BDC8ED 		cmpl	$0, -4664(%ebp)
 3511      FFFF00
 3512 11da 746B     		je	L72
 3513 11dc 837DF000 		cmpl	$0, -16(%ebp)
 3514 11e0 7465     		je	L72
 599:../../MMI/Resource/WriteImgRes.c ****             {
 600:../../MMI/Resource/WriteImgRes.c ****                 S8 tempCommand[SHELL_CMD_BUFLEN];
 601:../../MMI/Resource/WriteImgRes.c ****                 //sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none png:
 602:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none png:%s
 3516              	LM120:
 3517              	LBB11:
 3518 11e2 8D85B8DD 		leal	-8776(%ebp), %eax
 3518      FFFF
 3519 11e8 8944240C 		movl	%eax, 12(%esp)
 3520 11ec 8D85E8EF 		leal	-4120(%ebp), %eax
 3520      FFFF
 3521 11f2 89442408 		movl	%eax, 8(%esp)
 3522 11f6 C7442404 		movl	$LC51, 4(%esp)
 3522      000C0000 
 3523 11fe 8D8548DB 		leal	-9400(%ebp), %eax
 3523      FFFF
 3524 1204 890424   		movl	%eax, (%esp)
 3525 1207 E8000000 		call	_sprintf
 3525      00
 603:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("%s\n", tempCommand);
 3527              	LM121:
 3528 120c 8D8548DB 		leal	-9400(%ebp), %eax
 3528      FFFF
 3529 1212 89442404 		movl	%eax, 4(%esp)
 3530 1216 C7042449 		movl	$LC52, (%esp)
 3530      0C0000
 3531 121d E8000000 		call	_MtkResgenTrace
 3531      00
 604:../../MMI/Resource/WriteImgRes.c ****                 ASSERT(SHELL_CMD_BUFLEN > strlen(tempCommand));
 3533              	LM122:
 3534 1222 8D8548DB 		leal	-9400(%ebp), %eax
 3534      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 36


 3535 1228 890424   		movl	%eax, (%esp)
 3536 122b E8000000 		call	_strlen
 3536      00
 3537 1230 3D630200 		cmpl	$611, %eax
 3537      00
 3538 1235 7602     		jbe	L77
 3539              	L74:
 3540 1237 EBFE     		jmp	L74
 3541              	L77:
 605:../../MMI/Resource/WriteImgRes.c **** 
 606:../../MMI/Resource/WriteImgRes.c ****                 system(tempCommand);
 3543              	LM123:
 3544 1239 8D8548DB 		leal	-9400(%ebp), %eax
 3544      FFFF
 3545 123f 890424   		movl	%eax, (%esp)
 3546 1242 E8000000 		call	_system
 3546      00
 3547              	L72:
 607:../../MMI/Resource/WriteImgRes.c ****             }
 608:../../MMI/Resource/WriteImgRes.c **** 
 609:../../MMI/Resource/WriteImgRes.c ****             /* convert 32-bits BMP to ABM */
 610:../../MMI/Resource/WriteImgRes.c ****             failure_flag = Write_Processed_Data(tempBMPFile, IMAGE_TYPE_ABM, output_image_names, pr
 3549              	LM124:
 3550              	LBE11:
 3551 1247 8D85D0ED 		leal	-4656(%ebp), %eax
 3551      FFFF
 3552 124d 89442428 		movl	%eax, 40(%esp)
 3553 1251 8B4514   		movl	20(%ebp), %eax
 3554 1254 89442424 		movl	%eax, 36(%esp)
 3555 1258 8D85D8ED 		leal	-4648(%ebp), %eax
 3555      FFFF
 3556 125e 89442420 		movl	%eax, 32(%esp)
 3557 1262 8B85D4ED 		movl	-4652(%ebp), %eax
 3557      FFFF
 3558 1268 8944241C 		movl	%eax, 28(%esp)
 3559 126c 8B4510   		movl	16(%ebp), %eax
 3560 126f 89442418 		movl	%eax, 24(%esp)
 3561 1273 8B85E4EF 		movl	-4124(%ebp), %eax
 3561      FFFF
 3562 1279 89442414 		movl	%eax, 20(%esp)
 3563 127d 8B450C   		movl	12(%ebp), %eax
 3564 1280 89442410 		movl	%eax, 16(%esp)
 3565 1284 8B4514   		movl	20(%ebp), %eax
 3566 1287 8B800402 		movl	516(%eax), %eax
 3566      0000
 3567 128d 8944240C 		movl	%eax, 12(%esp)
 3568 1291 8B45EC   		movl	-20(%ebp), %eax
 3569 1294 89442408 		movl	%eax, 8(%esp)
 3570 1298 C7442404 		movl	$40, 4(%esp)
 3570      28000000 
 3571 12a0 8D85B8DD 		leal	-8776(%ebp), %eax
 3571      FFFF
 3572 12a6 890424   		movl	%eax, (%esp)
 3573 12a9 E8900A00 		call	_Write_Processed_Data
 3573      00
 3574 12ae 8945F4   		movl	%eax, -12(%ebp)
 611:../../MMI/Resource/WriteImgRes.c ****             if(failure_flag == MMI_FALSE && proc_img_err_code ==  ABM_ENC_INPUT_BITMAP_ERROR)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 37


 3576              	LM125:
 3577 12b1 837DF400 		cmpl	$0, -12(%ebp)
 3578 12b5 0F85FE00 		jne	L66
 3578      0000
 3579 12bb 83BDD0ED 		cmpl	$-2, -4656(%ebp)
 3579      FFFFFE
 3580 12c2 0F85F100 		jne	L66
 3580      0000
 612:../../MMI/Resource/WriteImgRes.c ****             {
 613:../../MMI/Resource/WriteImgRes.c ****                   // Release resoruce before return
 614:../../MMI/Resource/WriteImgRes.c ****             	    if (extImageFlag == NFB_PROGRESS_IMAGE)
 3582              	LM126:
 3583 12c8 837D0C02 		cmpl	$2, 12(%ebp)
 3584 12cc 754D     		jne	L79
 615:../../MMI/Resource/WriteImgRes.c ****             	    {
 616:../../MMI/Resource/WriteImgRes.c ****             	        RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Il
 3586              	LM127:
 3587 12ce C7442408 		movl	$LC45, 8(%esp)
 3587      A00A0000 
 3588 12d6 C7442404 		movl	$LC34, 4(%esp)
 3588      64060000 
 3589 12de C7042401 		movl	$1, (%esp)
 3589      000000
 3590 12e5 E8000000 		call	_reslog_adaptor_log
 3590      00
 617:../../MMI/Resource/WriteImgRes.c ****                       fflush(stdout);
 3592              	LM128:
 3593 12ea A1000000 		movl	__imp___iob, %eax
 3593      00
 3594 12ef 83C020   		addl	$32, %eax
 3595 12f2 890424   		movl	%eax, (%esp)
 3596 12f5 E8000000 		call	_fflush
 3596      00
 618:../../MMI/Resource/WriteImgRes.c ****                       MYFCLOSE(nfb_img_res_file);
 3598              	LM129:
 3599 12fa 83BDD4ED 		cmpl	$0, -4652(%ebp)
 3599      FFFF00
 3600 1301 7418     		je	L79
 3601 1303 8B85D4ED 		movl	-4652(%ebp), %eax
 3601      FFFF
 3602 1309 890424   		movl	%eax, (%esp)
 3603 130c E8000000 		call	_fclose
 3603      00
 3604 1311 C785D4ED 		movl	$0, -4652(%ebp)
 3604      FFFF0000 
 3604      0000
 3605              	L79:
 619:../../MMI/Resource/WriteImgRes.c ****                   }
 620:../../MMI/Resource/WriteImgRes.c ****                   free(output_image_names);
 3607              	LM130:
 3608 131b 8B45EC   		movl	-20(%ebp), %eax
 3609 131e 890424   		movl	%eax, (%esp)
 3610 1321 E8000000 		call	_free
 3610      00
 621:../../MMI/Resource/WriteImgRes.c ****                   return MMI_FALSE;
 3612              	LM131:
 3613 1326 C78538DB 		movl	$0, -9416(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 38


 3613      FFFF0000 
 3613      0000
 3614 1330 E9A50700 		jmp	L45
 3614      00
 3615              	L67:
 622:../../MMI/Resource/WriteImgRes.c ****             }
 623:../../MMI/Resource/WriteImgRes.c ****         }
 624:../../MMI/Resource/WriteImgRes.c ****         else
 625:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) */
 626:../../MMI/Resource/WriteImgRes.c **** 
 627:../../MMI/Resource/WriteImgRes.c ****         /* If BMP/PBM, we will convert it to ABM conditionally */
 628:../../MMI/Resource/WriteImgRes.c ****         if ((ext_type_2 == IMAGE_TYPE_BMP) ||
 3617              	LM132:
 3618              	LBE10:
 3619 1335 83BDC4ED 		cmpl	$1, -4668(%ebp)
 3619      FFFF01
 3620 133c 740B     		je	L84
 3621 133e 83BDC4ED 		cmpl	$4, -4668(%ebp)
 3621      FFFF04
 3622 1345 7402     		je	L84
 3623 1347 EB70     		jmp	L66
 3624              	L84:
 629:../../MMI/Resource/WriteImgRes.c ****             (ext_type_2 == IMAGE_TYPE_DEVICE_BITMAP))
 630:../../MMI/Resource/WriteImgRes.c ****         {
 631:../../MMI/Resource/WriteImgRes.c ****             if (force_type != FORCE_BMP)
 3626              	LM133:
 3627 1349 837D1003 		cmpl	$3, 16(%ebp)
 3628 134d 746A     		je	L66
 632:../../MMI/Resource/WriteImgRes.c ****             {
 633:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Processed_Data(filename_buffer, IMAGE_TYPE_ABM, output_image_n
 3630              	LM134:
 3631 134f 8D85D0ED 		leal	-4656(%ebp), %eax
 3631      FFFF
 3632 1355 89442428 		movl	%eax, 40(%esp)
 3633 1359 8B4514   		movl	20(%ebp), %eax
 3634 135c 89442424 		movl	%eax, 36(%esp)
 3635 1360 8D85D8ED 		leal	-4648(%ebp), %eax
 3635      FFFF
 3636 1366 89442420 		movl	%eax, 32(%esp)
 3637 136a 8B85D4ED 		movl	-4652(%ebp), %eax
 3637      FFFF
 3638 1370 8944241C 		movl	%eax, 28(%esp)
 3639 1374 8B4510   		movl	16(%ebp), %eax
 3640 1377 89442418 		movl	%eax, 24(%esp)
 3641 137b 8B85E4EF 		movl	-4124(%ebp), %eax
 3641      FFFF
 3642 1381 89442414 		movl	%eax, 20(%esp)
 3643 1385 8B450C   		movl	12(%ebp), %eax
 3644 1388 89442410 		movl	%eax, 16(%esp)
 3645 138c 8B4514   		movl	20(%ebp), %eax
 3646 138f 8B800402 		movl	516(%eax), %eax
 3646      0000
 3647 1395 8944240C 		movl	%eax, 12(%esp)
 3648 1399 8B45EC   		movl	-20(%ebp), %eax
 3649 139c 89442408 		movl	%eax, 8(%esp)
 3650 13a0 C7442404 		movl	$40, 4(%esp)
 3650      28000000 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 39


 3651 13a8 8D85E8EF 		leal	-4120(%ebp), %eax
 3651      FFFF
 3652 13ae 890424   		movl	%eax, (%esp)
 3653 13b1 E8880900 		call	_Write_Processed_Data
 3653      00
 3654 13b6 8945F4   		movl	%eax, -12(%ebp)
 3655              	L66:
 634:../../MMI/Resource/WriteImgRes.c ****             }
 635:../../MMI/Resource/WriteImgRes.c ****         }
 636:../../MMI/Resource/WriteImgRes.c **** 
 637:../../MMI/Resource/WriteImgRes.c ****         /* all of the resource above may not be converted to ABM certainly
 638:../../MMI/Resource/WriteImgRes.c ****          * if not, it will be populated as usual */
 639:../../MMI/Resource/WriteImgRes.c ****     }
 640:../../MMI/Resource/WriteImgRes.c **** 
 641:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_FALSE)
 3657              	LM135:
 3658              	LBE9:
 3659 13b9 837DF400 		cmpl	$0, -12(%ebp)
 3660 13bd 0F85D404 		jne	L86
 3660      0000
 642:../../MMI/Resource/WriteImgRes.c ****     {
 643:../../MMI/Resource/WriteImgRes.c ****         S16 filenameLen_1;
 644:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_ALPHA_LAYER_SUPPORT__
 645:../../MMI/Resource/WriteImgRes.c ****         /* fetch PNG by GIF or BMP,
 646:../../MMI/Resource/WriteImgRes.c ****          * application can add PNG file directly without modifying Res_XXX.c */
 647:../../MMI/Resource/WriteImgRes.c ****         S32 ext_type_3 = -1;
 648:../../MMI/Resource/WriteImgRes.c ****         ext_type_3 = ExtractExtension(filename_buffer, RES_IMAGE);
 649:../../MMI/Resource/WriteImgRes.c ****         if (ext_type_3 == IMAGE_TYPE_GIF || ext_type_3 == IMAGE_TYPE_BMP)
 650:../../MMI/Resource/WriteImgRes.c ****         {
 651:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(filename_buffer, RES_IMAGE, IMAGE_TYPE_PNG);
 652:../../MMI/Resource/WriteImgRes.c ****         }
 653:../../MMI/Resource/WriteImgRes.c **** 
 654:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename_buffer))
 655:../../MMI/Resource/WriteImgRes.c ****         {
 656:../../MMI/Resource/WriteImgRes.c ****             strcpy(processData->real_filename, filename_buffer);
 657:../../MMI/Resource/WriteImgRes.c ****         }
 658:../../MMI/Resource/WriteImgRes.c ****         else
 659:../../MMI/Resource/WriteImgRes.c ****         {
 660:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(filename_buffer, RES_IMAGE, ext_type_3);
 661:../../MMI/Resource/WriteImgRes.c ****         }
 662:../../MMI/Resource/WriteImgRes.c **** #endif
 663:../../MMI/Resource/WriteImgRes.c **** 
 664:../../MMI/Resource/WriteImgRes.c ****         filenameLen_1 = strlen(filename_buffer);
 3662              	LM136:
 3663              	LBB12:
 3664 13c3 8D85E8EF 		leal	-4120(%ebp), %eax
 3664      FFFF
 3665 13c9 890424   		movl	%eax, (%esp)
 3666 13cc E8000000 		call	_strlen
 3666      00
 3667 13d1 66898546 		movw	%ax, -9402(%ebp)
 3667      DBFFFF
 665:../../MMI/Resource/WriteImgRes.c ****         if (filenameLen_1 <= 3)
 3669              	LM137:
 3670 13d8 6683BD46 		cmpw	$3, -9402(%ebp)
 3670      DBFFFF03 
 3671 13e0 7F38     		jg	L87
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 40


 666:../../MMI/Resource/WriteImgRes.c ****         {
 667:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Iload: filename_buffer too short");
 3673              	LM138:
 3674 13e2 C7442408 		movl	$LC53, 8(%esp)
 3674      600C0000 
 3675 13ea C7442404 		movl	$LC34, 4(%esp)
 3675      64060000 
 3676 13f2 C7042403 		movl	$3, (%esp)
 3676      000000
 3677 13f9 E8000000 		call	_reslog_adaptor_log
 3677      00
 668:../../MMI/Resource/WriteImgRes.c ****             assert(0);
 3679              	LM139:
 3680 13fe C7442408 		movl	$668, 8(%esp)
 3680      9C020000 
 3681 1406 C7442404 		movl	$LC35, 4(%esp)
 3681      80060000 
 3682 140e C70424A1 		movl	$LC36, (%esp)
 3682      060000
 3683 1415 E8000000 		call	__assert
 3683      00
 3684              	L87:
 669:../../MMI/Resource/WriteImgRes.c ****             exit(2);
 670:../../MMI/Resource/WriteImgRes.c ****         }
 671:../../MMI/Resource/WriteImgRes.c **** 
 672:../../MMI/Resource/WriteImgRes.c ****         /* process EMS image */
 673:../../MMI/Resource/WriteImgRes.c ****         if (isEmsImage(filename_buffer))
 3686              	LM140:
 3687 141a 8D85E8EF 		leal	-4120(%ebp), %eax
 3687      FFFF
 3688 1420 890424   		movl	%eax, (%esp)
 3689 1423 E8D30600 		call	_isEmsImage
 3689      00
 3690 1428 84C0     		testb	%al, %al
 3691 142a 0F84C100 		je	L88
 3691      0000
 674:../../MMI/Resource/WriteImgRes.c ****         {
 675:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(filename_buffer) )
 3693              	LM141:
 3694 1430 8D85E8EF 		leal	-4120(%ebp), %eax
 3694      FFFF
 3695 1436 890424   		movl	%eax, (%esp)
 3696 1439 E8000000 		call	_file_exist
 3696      00
 3697 143e 85C0     		testl	%eax, %eax
 3698 1440 0F849F00 		je	L89
 3698      0000
 676:../../MMI/Resource/WriteImgRes.c ****             {
 677:../../MMI/Resource/WriteImgRes.c ****                 int ret = 1;
 3700              	LM142:
 3701              	LBB13:
 3702 1446 C785C4ED 		movl	$1, -4668(%ebp)
 3702      FFFF0100 
 3702      0000
 678:../../MMI/Resource/WriteImgRes.c **** 
 679:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag == 0)
 3704              	LM143:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 41


 3705 1450 833D0000 		cmpl	$0, _toolFlag
 3705      000000
 3706 1457 7520     		jne	L90
 680:../../MMI/Resource/WriteImgRes.c ****                 {
 681:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(processData->outstream, "const U8 %s[] = ", output_image_n
 3708              	LM144:
 3709 1459 8B45EC   		movl	-20(%ebp), %eax
 3710 145c 89442408 		movl	%eax, 8(%esp)
 3711 1460 C7442404 		movl	$LC54, 4(%esp)
 3711      810C0000 
 3712 1468 8B4514   		movl	20(%ebp), %eax
 3713 146b 8B800402 		movl	516(%eax), %eax
 3713      0000
 3714 1471 890424   		movl	%eax, (%esp)
 3715 1474 E8000000 		call	_ImageOutStreamPrintf
 3715      00
 3716              	L90:
 682:../../MMI/Resource/WriteImgRes.c ****                 }
 683:../../MMI/Resource/WriteImgRes.c ****                 ret = bmp2ems(filename_buffer, processData->outstream, 1, 0, processData);
 3718              	LM145:
 3719 1479 8B4514   		movl	20(%ebp), %eax
 3720 147c 89442410 		movl	%eax, 16(%esp)
 3721 1480 C744240C 		movl	$0, 12(%esp)
 3721      00000000 
 3722 1488 C7442408 		movl	$1, 8(%esp)
 3722      01000000 
 3723 1490 8B4514   		movl	20(%ebp), %eax
 3724 1493 8B800402 		movl	516(%eax), %eax
 3724      0000
 3725 1499 89442404 		movl	%eax, 4(%esp)
 3726 149d 8D85E8EF 		leal	-4120(%ebp), %eax
 3726      FFFF
 3727 14a3 890424   		movl	%eax, (%esp)
 3728 14a6 E8000000 		call	_bmp2ems
 3728      00
 3729 14ab 8985C4ED 		movl	%eax, -4668(%ebp)
 3729      FFFF
 684:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag)
 3731              	LM146:
 3732 14b1 833D0000 		cmpl	$0, _toolFlag
 3732      000000
 3733 14b8 741F     		je	L91
 685:../../MMI/Resource/WriteImgRes.c ****                 {
 686:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 3735              	LM147:
 3736 14ba 83BDC4ED 		cmpl	$0, -4668(%ebp)
 3736      FFFF00
 3737 14c1 750C     		jne	L92
 687:../../MMI/Resource/WriteImgRes.c ****                     {
 688:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 3739              	LM148:
 3740 14c3 C7050000 		movl	$1, _resultFailFlag
 3740      00000100 
 3740      0000
 3741 14cd EB0A     		jmp	L91
 3742              	L92:
 689:../../MMI/Resource/WriteImgRes.c ****                     }
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 42


 690:../../MMI/Resource/WriteImgRes.c ****                     else
 691:../../MMI/Resource/WriteImgRes.c ****                     {
 692:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 3744              	LM149:
 3745 14cf C7050000 		movl	$0, _resultFailFlag
 3745      00000000 
 3745      0000
 3746              	L91:
 693:../../MMI/Resource/WriteImgRes.c ****                     }
 694:../../MMI/Resource/WriteImgRes.c ****                 }
 695:../../MMI/Resource/WriteImgRes.c **** 
 696:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_TRUE;
 3748              	LM150:
 3749 14d9 C745F401 		movl	$1, -12(%ebp)
 3749      000000
 3750              	LBE13:
 3751 14e0 E9B20300 		jmp	L86
 3751      00
 3752              	L89:
 697:../../MMI/Resource/WriteImgRes.c ****             }
 698:../../MMI/Resource/WriteImgRes.c ****             else
 699:../../MMI/Resource/WriteImgRes.c ****             {
 700:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 3754              	LM151:
 3755 14e5 C745F400 		movl	$0, -12(%ebp)
 3755      000000
 3756 14ec E9A60300 		jmp	L86
 3756      00
 3757              	L88:
 701:../../MMI/Resource/WriteImgRes.c ****             }
 702:../../MMI/Resource/WriteImgRes.c ****         }
 703:../../MMI/Resource/WriteImgRes.c ****         /* process PBM */
 704:../../MMI/Resource/WriteImgRes.c ****         else if ((filename_buffer[filenameLen_1 - 1] == 'M') &&
 3759              	LM152:
 3760 14f1 0FBF8546 		movswl	-9402(%ebp),%eax
 3760      DBFFFF
 3761 14f8 80BC05E7 		cmpb	$77, -4121(%ebp,%eax)
 3761      EFFFFF4D 
 3762 1500 0F859500 		jne	L96
 3762      0000
 3763 1506 0FBF8546 		movswl	-9402(%ebp),%eax
 3763      DBFFFF
 3764 150d 80BC05E6 		cmpb	$66, -4122(%ebp,%eax)
 3764      EFFFFF42 
 3765 1515 0F858000 		jne	L96
 3765      0000
 3766 151b 0FBF8546 		movswl	-9402(%ebp),%eax
 3766      DBFFFF
 3767 1522 80BC05E5 		cmpb	$80, -4123(%ebp,%eax)
 3767      EFFFFF50 
 3768 152a 756F     		jne	L96
 705:../../MMI/Resource/WriteImgRes.c ****                  (filename_buffer[filenameLen_1 - 2] == 'B') &&
 706:../../MMI/Resource/WriteImgRes.c ****                  (filename_buffer[filenameLen_1 - 3] == 'P'))
 707:../../MMI/Resource/WriteImgRes.c ****         {
 708:../../MMI/Resource/WriteImgRes.c ****             failure_flag = Write_Processed_Data(filename_buffer, IMAGE_TYPE_DEVICE_BITMAP, output_i
 3770              	LM153:
 3771 152c 8D85D0ED 		leal	-4656(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 43


 3771      FFFF
 3772 1532 89442428 		movl	%eax, 40(%esp)
 3773 1536 8B4514   		movl	20(%ebp), %eax
 3774 1539 89442424 		movl	%eax, 36(%esp)
 3775 153d 8D85D8ED 		leal	-4648(%ebp), %eax
 3775      FFFF
 3776 1543 89442420 		movl	%eax, 32(%esp)
 3777 1547 8B85D4ED 		movl	-4652(%ebp), %eax
 3777      FFFF
 3778 154d 8944241C 		movl	%eax, 28(%esp)
 3779 1551 8B4510   		movl	16(%ebp), %eax
 3780 1554 89442418 		movl	%eax, 24(%esp)
 3781 1558 8B85E4EF 		movl	-4124(%ebp), %eax
 3781      FFFF
 3782 155e 89442414 		movl	%eax, 20(%esp)
 3783 1562 8B450C   		movl	12(%ebp), %eax
 3784 1565 89442410 		movl	%eax, 16(%esp)
 3785 1569 8B4514   		movl	20(%ebp), %eax
 3786 156c 8B800402 		movl	516(%eax), %eax
 3786      0000
 3787 1572 8944240C 		movl	%eax, 12(%esp)
 3788 1576 8B45EC   		movl	-20(%ebp), %eax
 3789 1579 89442408 		movl	%eax, 8(%esp)
 3790 157d C7442404 		movl	$4, 4(%esp)
 3790      04000000 
 3791 1585 8D85E8EF 		leal	-4120(%ebp), %eax
 3791      FFFF
 3792 158b 890424   		movl	%eax, (%esp)
 3793 158e E8AB0700 		call	_Write_Processed_Data
 3793      00
 3794 1593 8945F4   		movl	%eax, -12(%ebp)
 3795 1596 E9FC0200 		jmp	L86
 3795      00
 3796              	L96:
 709:../../MMI/Resource/WriteImgRes.c ****         }
 710:../../MMI/Resource/WriteImgRes.c ****         else
 711:../../MMI/Resource/WriteImgRes.c ****         {
 712:../../MMI/Resource/WriteImgRes.c ****             U8 staticFlag = 1;  /* Non animated image */
 3798              	LM154:
 3799              	LBB14:
 3800 159b C68545DB 		movb	$1, -9403(%ebp)
 3800      FFFF01
 713:../../MMI/Resource/WriteImgRes.c ****             /* MTK Leo add, for read images with same filename but different in ".bmp" and ".gif" *
 714:../../MMI/Resource/WriteImgRes.c ****             if (!file_exist(filename_buffer) )
 3802              	LM155:
 3803 15a2 8D85E8EF 		leal	-4120(%ebp), %eax
 3803      FFFF
 3804 15a8 890424   		movl	%eax, (%esp)
 3805 15ab E8000000 		call	_file_exist
 3805      00
 3806 15b0 85C0     		testl	%eax, %eax
 3807 15b2 0F85C200 		jne	L98
 3807      0000
 715:../../MMI/Resource/WriteImgRes.c ****             {
 716:../../MMI/Resource/WriteImgRes.c ****                 if (filename_buffer[filenameLen_1 - 1] == 'P' &&
 3809              	LM156:
 3810 15b8 0FBF8546 		movswl	-9402(%ebp),%eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 44


 3810      DBFFFF
 3811 15bf 80BC05E7 		cmpb	$80, -4121(%ebp,%eax)
 3811      EFFFFF50 
 3812 15c7 7551     		jne	L99
 3813 15c9 0FBF8546 		movswl	-9402(%ebp),%eax
 3813      DBFFFF
 3814 15d0 80BC05E6 		cmpb	$77, -4122(%ebp,%eax)
 3814      EFFFFF4D 
 3815 15d8 7540     		jne	L99
 3816 15da 0FBF8546 		movswl	-9402(%ebp),%eax
 3816      DBFFFF
 3817 15e1 80BC05E5 		cmpb	$66, -4123(%ebp,%eax)
 3817      EFFFFF42 
 3818 15e9 752F     		jne	L99
 717:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] == 'M' &&
 718:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] == 'B')
 719:../../MMI/Resource/WriteImgRes.c ****                 {
 720:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 1] = 'F';
 3820              	LM157:
 3821 15eb 0FBF8546 		movswl	-9402(%ebp),%eax
 3821      DBFFFF
 3822 15f2 C68405E7 		movb	$70, -4121(%ebp,%eax)
 3822      EFFFFF46 
 721:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] = 'I';
 3824              	LM158:
 3825 15fa 0FBF8546 		movswl	-9402(%ebp),%eax
 3825      DBFFFF
 3826 1601 C68405E6 		movb	$73, -4122(%ebp,%eax)
 3826      EFFFFF49 
 722:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] = 'G';
 3828              	LM159:
 3829 1609 0FBF8546 		movswl	-9402(%ebp),%eax
 3829      DBFFFF
 3830 1610 C68405E5 		movb	$71, -4123(%ebp,%eax)
 3830      EFFFFF47 
 3831 1618 EB60     		jmp	L98
 3832              	L99:
 723:../../MMI/Resource/WriteImgRes.c ****                 }
 724:../../MMI/Resource/WriteImgRes.c ****                 else if (filename_buffer[filenameLen_1 - 1] == 'F' &&
 3834              	LM160:
 3835 161a 0FBF8546 		movswl	-9402(%ebp),%eax
 3835      DBFFFF
 3836 1621 80BC05E7 		cmpb	$70, -4121(%ebp,%eax)
 3836      EFFFFF46 
 3837 1629 754F     		jne	L98
 3838 162b 0FBF8546 		movswl	-9402(%ebp),%eax
 3838      DBFFFF
 3839 1632 80BC05E6 		cmpb	$73, -4122(%ebp,%eax)
 3839      EFFFFF49 
 3840 163a 753E     		jne	L98
 3841 163c 0FBF8546 		movswl	-9402(%ebp),%eax
 3841      DBFFFF
 3842 1643 80BC05E5 		cmpb	$71, -4123(%ebp,%eax)
 3842      EFFFFF47 
 3843 164b 752D     		jne	L98
 725:../../MMI/Resource/WriteImgRes.c ****                          filename_buffer[filenameLen_1 - 2] == 'I' &&
 726:../../MMI/Resource/WriteImgRes.c ****                          filename_buffer[filenameLen_1 - 3] == 'G')
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 45


 727:../../MMI/Resource/WriteImgRes.c ****                 {
 728:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 1] = 'P';
 3845              	LM161:
 3846 164d 0FBF8546 		movswl	-9402(%ebp),%eax
 3846      DBFFFF
 3847 1654 C68405E7 		movb	$80, -4121(%ebp,%eax)
 3847      EFFFFF50 
 729:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 2] = 'M';
 3849              	LM162:
 3850 165c 0FBF8546 		movswl	-9402(%ebp),%eax
 3850      DBFFFF
 3851 1663 C68405E6 		movb	$77, -4122(%ebp,%eax)
 3851      EFFFFF4D 
 730:../../MMI/Resource/WriteImgRes.c ****                     filename_buffer[filenameLen_1 - 3] = 'B';
 3853              	LM163:
 3854 166b 0FBF8546 		movswl	-9402(%ebp),%eax
 3854      DBFFFF
 3855 1672 C68405E5 		movb	$66, -4123(%ebp,%eax)
 3855      EFFFFF42 
 3856              	L98:
 731:../../MMI/Resource/WriteImgRes.c ****                 }
 732:../../MMI/Resource/WriteImgRes.c ****             }
 733:../../MMI/Resource/WriteImgRes.c **** 
 734:../../MMI/Resource/WriteImgRes.c ****             if (!file_exist(filename_buffer) )
 3858              	LM164:
 3859 167a 8D85E8EF 		leal	-4120(%ebp), %eax
 3859      FFFF
 3860 1680 890424   		movl	%eax, (%esp)
 3861 1683 E8000000 		call	_file_exist
 3861      00
 3862 1688 85C0     		testl	%eax, %eax
 3863 168a 0F85DD00 		jne	L102
 3863      0000
 735:../../MMI/Resource/WriteImgRes.c ****             {
 736:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag == 0)
 3865              	LM165:
 3866 1690 833D0000 		cmpl	$0, _toolFlag
 3866      000000
 3867 1697 7564     		jne	L103
 737:../../MMI/Resource/WriteImgRes.c ****                 {
 738:../../MMI/Resource/WriteImgRes.c ****                     FILE *fail = fopen(".\\\\debug\\\\fail.txt", "a+");
 3869              	LM166:
 3870              	LBB15:
 3871 1699 C7442404 		movl	$LC55, 4(%esp)
 3871      920C0000 
 3872 16a1 C7042495 		movl	$LC56, (%esp)
 3872      0C0000
 3873 16a8 E8000000 		call	_fopen
 3873      00
 3874 16ad 8985C4ED 		movl	%eax, -4668(%ebp)
 3874      FFFF
 739:../../MMI/Resource/WriteImgRes.c **** 
 740:../../MMI/Resource/WriteImgRes.c ****                     if (fail != NULL)
 3876              	LM167:
 3877 16b3 83BDC4ED 		cmpl	$0, -4668(%ebp)
 3877      FFFF00
 3878 16ba 7441     		je	L103
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 46


 741:../../MMI/Resource/WriteImgRes.c ****                     {
 742:../../MMI/Resource/WriteImgRes.c ****                         fprintf(fail, "%s\n", filename_buffer);
 3880              	LM168:
 3881 16bc 8D85E8EF 		leal	-4120(%ebp), %eax
 3881      FFFF
 3882 16c2 89442408 		movl	%eax, 8(%esp)
 3883 16c6 C7442404 		movl	$LC52, 4(%esp)
 3883      490C0000 
 3884 16ce 8B85C4ED 		movl	-4668(%ebp), %eax
 3884      FFFF
 3885 16d4 890424   		movl	%eax, (%esp)
 3886 16d7 E8000000 		call	_fprintf
 3886      00
 743:../../MMI/Resource/WriteImgRes.c ****                         MYFCLOSE(fail);
 3888              	LM169:
 3889 16dc 83BDC4ED 		cmpl	$0, -4668(%ebp)
 3889      FFFF00
 3890 16e3 7418     		je	L103
 3891 16e5 8B85C4ED 		movl	-4668(%ebp), %eax
 3891      FFFF
 3892 16eb 890424   		movl	%eax, (%esp)
 3893 16ee E8000000 		call	_fclose
 3893      00
 3894 16f3 C785C4ED 		movl	$0, -4668(%ebp)
 3894      FFFF0000 
 3894      0000
 3895              	L103:
 744:../../MMI/Resource/WriteImgRes.c ****                     }
 745:../../MMI/Resource/WriteImgRes.c ****                 }
 746:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("File %s not exist, trying to load sequential image",filename_buffer);
 3897              	LM170:
 3898              	LBE15:
 3899 16fd 8D85E8EF 		leal	-4120(%ebp), %eax
 3899      FFFF
 3900 1703 8944240C 		movl	%eax, 12(%esp)
 3901 1707 C7442408 		movl	$LC57, 8(%esp)
 3901      C00C0000 
 3902 170f C7442404 		movl	$LC34, 4(%esp)
 3902      64060000 
 3903 1717 C7042401 		movl	$1, (%esp)
 3903      000000
 3904 171e E8000000 		call	_reslog_adaptor_log
 3904      00
 747:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Sequential_Image(filename_buffer, output_image_names, processD
 3906              	LM171:
 3907 1723 8B4514   		movl	20(%ebp), %eax
 3908 1726 89442414 		movl	%eax, 20(%esp)
 3909 172a 8B4510   		movl	16(%ebp), %eax
 3910 172d 89442410 		movl	%eax, 16(%esp)
 3911 1731 8B85E4EF 		movl	-4124(%ebp), %eax
 3911      FFFF
 3912 1737 8944240C 		movl	%eax, 12(%esp)
 3913 173b 8B4514   		movl	20(%ebp), %eax
 3914 173e 8B800402 		movl	516(%eax), %eax
 3914      0000
 3915 1744 89442408 		movl	%eax, 8(%esp)
 3916 1748 8B45EC   		movl	-20(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 47


 3917 174b 89442404 		movl	%eax, 4(%esp)
 3918 174f 8D85E8EF 		leal	-4120(%ebp), %eax
 3918      FFFF
 3919 1755 890424   		movl	%eax, (%esp)
 3920 1758 E8411B00 		call	_Write_Sequential_Image
 3920      00
 3921 175d 8945F4   		movl	%eax, -12(%ebp)
 748:../../MMI/Resource/WriteImgRes.c ****                 if (failure_flag == MMI_TRUE)
 3923              	LM172:
 3924 1760 837DF401 		cmpl	$1, -12(%ebp)
 3925 1764 7507     		jne	L102
 749:../../MMI/Resource/WriteImgRes.c ****                 {
 750:../../MMI/Resource/WriteImgRes.c ****                     staticFlag = 0;
 3927              	LM173:
 3928 1766 C68545DB 		movb	$0, -9403(%ebp)
 3928      FFFF00
 3929              	L102:
 751:../../MMI/Resource/WriteImgRes.c ****                 }
 752:../../MMI/Resource/WriteImgRes.c ****             }
 753:../../MMI/Resource/WriteImgRes.c **** 
 754:../../MMI/Resource/WriteImgRes.c ****             /* process static image */
 755:../../MMI/Resource/WriteImgRes.c ****             if ((failure_flag == MMI_FALSE) && (staticFlag))
 3931              	LM174:
 3932 176d 837DF400 		cmpl	$0, -12(%ebp)
 3933 1771 0F852001 		jne	L86
 3933      0000
 3934 1777 80BD45DB 		cmpb	$0, -9403(%ebp)
 3934      FFFF00
 3935 177e 0F841301 		je	L86
 3935      0000
 756:../../MMI/Resource/WriteImgRes.c ****             {
 757:../../MMI/Resource/WriteImgRes.c ****                 FILE *image_data_file_4 = NULL;
 3937              	LM175:
 3938              	LBB16:
 3939 1784 C785C4ED 		movl	$0, -4668(%ebp)
 3939      FFFF0000 
 3939      0000
 758:../../MMI/Resource/WriteImgRes.c ****                 image_data_file_4 = fopen(filename_buffer, "rb");
 3941              	LM176:
 3942 178e C7442404 		movl	$LC58, 4(%esp)
 3942      F30C0000 
 3943 1796 8D85E8EF 		leal	-4120(%ebp), %eax
 3943      FFFF
 3944 179c 890424   		movl	%eax, (%esp)
 3945 179f E8000000 		call	_fopen
 3945      00
 3946 17a4 8985C4ED 		movl	%eax, -4668(%ebp)
 3946      FFFF
 759:../../MMI/Resource/WriteImgRes.c **** 
 760:../../MMI/Resource/WriteImgRes.c ****                 if (image_data_file_4 != NULL)
 3948              	LM177:
 3949 17aa 83BDC4ED 		cmpl	$0, -4668(%ebp)
 3949      FFFF00
 3950 17b1 0F84E000 		je	L86
 3950      0000
 761:../../MMI/Resource/WriteImgRes.c ****                 {
 762:../../MMI/Resource/WriteImgRes.c ****                     S32 nImageSize = 0;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 48


 3952              	LM178:
 3953              	LBB17:
 3954 17b7 C785C8ED 		movl	$0, -4664(%ebp)
 3954      FFFF0000 
 3954      0000
 763:../../MMI/Resource/WriteImgRes.c ****                     /* patch added by vikram for getting image file size */
 764:../../MMI/Resource/WriteImgRes.c ****                     fseek(image_data_file_4, 0, SEEK_END);
 3956              	LM179:
 3957 17c1 C7442408 		movl	$2, 8(%esp)
 3957      02000000 
 3958 17c9 C7442404 		movl	$0, 4(%esp)
 3958      00000000 
 3959 17d1 8B85C4ED 		movl	-4668(%ebp), %eax
 3959      FFFF
 3960 17d7 890424   		movl	%eax, (%esp)
 3961 17da E8000000 		call	_fseek
 3961      00
 765:../../MMI/Resource/WriteImgRes.c ****                     nImageSize = ftell(image_data_file_4);
 3963              	LM180:
 3964 17df 8B85C4ED 		movl	-4668(%ebp), %eax
 3964      FFFF
 3965 17e5 890424   		movl	%eax, (%esp)
 3966 17e8 E8000000 		call	_ftell
 3966      00
 3967 17ed 8985C8ED 		movl	%eax, -4664(%ebp)
 3967      FFFF
 766:../../MMI/Resource/WriteImgRes.c ****                     fseek(image_data_file_4, 0, SEEK_SET);
 3969              	LM181:
 3970 17f3 C7442408 		movl	$0, 8(%esp)
 3970      00000000 
 3971 17fb C7442404 		movl	$0, 4(%esp)
 3971      00000000 
 3972 1803 8B85C4ED 		movl	-4668(%ebp), %eax
 3972      FFFF
 3973 1809 890424   		movl	%eax, (%esp)
 3974 180c E8000000 		call	_fseek
 3974      00
 767:../../MMI/Resource/WriteImgRes.c **** 
 768:../../MMI/Resource/WriteImgRes.c ****                     failure_flag = Write_Unprocessed_Data(
 3976              	LM182:
 3977 1811 8B4514   		movl	20(%ebp), %eax
 3978 1814 89442424 		movl	%eax, 36(%esp)
 3979 1818 8B85D4ED 		movl	-4652(%ebp), %eax
 3979      FFFF
 3980 181e 89442420 		movl	%eax, 32(%esp)
 3981 1822 8D85D8ED 		leal	-4648(%ebp), %eax
 3981      FFFF
 3982 1828 8944241C 		movl	%eax, 28(%esp)
 3983 182c 8B85E4EF 		movl	-4124(%ebp), %eax
 3983      FFFF
 3984 1832 89442418 		movl	%eax, 24(%esp)
 3985 1836 8B450C   		movl	12(%ebp), %eax
 3986 1839 89442414 		movl	%eax, 20(%esp)
 3987 183d 8B4514   		movl	20(%ebp), %eax
 3988 1840 8B800402 		movl	516(%eax), %eax
 3988      0000
 3989 1846 89442410 		movl	%eax, 16(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 49


 3990 184a 8B45EC   		movl	-20(%ebp), %eax
 3991 184d 8944240C 		movl	%eax, 12(%esp)
 3992 1851 8B85C8ED 		movl	-4664(%ebp), %eax
 3992      FFFF
 3993 1857 89442408 		movl	%eax, 8(%esp)
 3994 185b 8B85C4ED 		movl	-4668(%ebp), %eax
 3994      FFFF
 3995 1861 89442404 		movl	%eax, 4(%esp)
 3996 1865 8D85E8EF 		leal	-4120(%ebp), %eax
 3996      FFFF
 3997 186b 890424   		movl	%eax, (%esp)
 3998 186e E8920C00 		call	_Write_Unprocessed_Data
 3998      00
 3999 1873 8945F4   		movl	%eax, -12(%ebp)
 769:../../MMI/Resource/WriteImgRes.c ****                             filename_buffer,
 770:../../MMI/Resource/WriteImgRes.c ****                             image_data_file_4,
 771:../../MMI/Resource/WriteImgRes.c ****                             nImageSize,
 772:../../MMI/Resource/WriteImgRes.c ****                             output_image_names,
 773:../../MMI/Resource/WriteImgRes.c ****                             processData->outstream,
 774:../../MMI/Resource/WriteImgRes.c ****                             extImageFlag,
 775:../../MMI/Resource/WriteImgRes.c ****                             is9slice,
 776:../../MMI/Resource/WriteImgRes.c ****                             _9slice_filename,
 777:../../MMI/Resource/WriteImgRes.c ****                             nfb_img_res_file,
 778:../../MMI/Resource/WriteImgRes.c ****                             processData);
 779:../../MMI/Resource/WriteImgRes.c **** 
 780:../../MMI/Resource/WriteImgRes.c ****                     MYFCLOSE(image_data_file_4);
 4001              	LM183:
 4002 1876 83BDC4ED 		cmpl	$0, -4668(%ebp)
 4002      FFFF00
 4003 187d 7418     		je	L86
 4004 187f 8B85C4ED 		movl	-4668(%ebp), %eax
 4004      FFFF
 4005 1885 890424   		movl	%eax, (%esp)
 4006 1888 E8000000 		call	_fclose
 4006      00
 4007 188d C785C4ED 		movl	$0, -4668(%ebp)
 4007      FFFF0000 
 4007      0000
 4008              	L86:
 781:../../MMI/Resource/WriteImgRes.c ****                 }
 782:../../MMI/Resource/WriteImgRes.c ****             }
 783:../../MMI/Resource/WriteImgRes.c ****         }
 784:../../MMI/Resource/WriteImgRes.c ****     }
 785:../../MMI/Resource/WriteImgRes.c **** 
 786:../../MMI/Resource/WriteImgRes.c ****     /* 120704 Calvin added for populating with .bmp or .gif but actually extsion name is not */
 787:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_FALSE)
 4010              	LM184:
 4011              	LBE17:
 4012              	LBE16:
 4013              	LBE14:
 4014              	LBE12:
 4015 1897 837DF400 		cmpl	$0, -12(%ebp)
 4016 189b 0F85D201 		jne	L112
 4016      0000
 788:../../MMI/Resource/WriteImgRes.c ****     {
 789:../../MMI/Resource/WriteImgRes.c ****         /* RES_PRINT_INFO("*************failed !!!********************\n"); */
 790:../../MMI/Resource/WriteImgRes.c ****         /* try each supported extension */
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 50


 791:../../MMI/Resource/WriteImgRes.c ****         S32 j;
 792:../../MMI/Resource/WriteImgRes.c ****         S16 filenameLen_2;
 793:../../MMI/Resource/WriteImgRes.c ****         filenameLen_2 = strlen(filename_buffer);
 4018              	LM185:
 4019              	LBB18:
 4020 18a1 8D85E8EF 		leal	-4120(%ebp), %eax
 4020      FFFF
 4021 18a7 890424   		movl	%eax, (%esp)
 4022 18aa E8000000 		call	_strlen
 4022      00
 4023 18af 66898546 		movw	%ax, -9402(%ebp)
 4023      DBFFFF
 794:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL has_file = MMI_FALSE;
 4025              	LM186:
 4026 18b6 C785C8ED 		movl	$0, -4664(%ebp)
 4026      FFFF0000 
 4026      0000
 795:../../MMI/Resource/WriteImgRes.c ****         for (j = 0; j < SUPPORT_N_MEDIA_TYPE; j++)
 4028              	LM187:
 4029 18c0 C785C4ED 		movl	$0, -4668(%ebp)
 4029      FFFF0000 
 4029      0000
 4030              	L113:
 4031 18ca 83BDC4ED 		cmpl	$5, -4668(%ebp)
 4031      FFFF05
 4032 18d1 7E05     		jle	L116
 4033 18d3 E9850000 		jmp	L114
 4033      00
 4034              	L116:
 796:../../MMI/Resource/WriteImgRes.c ****         {
 797:../../MMI/Resource/WriteImgRes.c ****             S32 l;
 798:../../MMI/Resource/WriteImgRes.c **** 
 799:../../MMI/Resource/WriteImgRes.c ****             ASSERT(filenameLen_2 >= 3);
 4036              	LM188:
 4037              	LBB19:
 4038 18d8 6683BD46 		cmpw	$2, -9402(%ebp)
 4038      DBFFFF02 
 4039 18e0 7F02     		jg	L121
 4040              	L118:
 4041 18e2 EBFE     		jmp	L118
 4042              	L121:
 800:../../MMI/Resource/WriteImgRes.c ****             for (l = 0; l < 3; l++)
 4044              	LM189:
 4045 18e4 C785CCED 		movl	$0, -4660(%ebp)
 4045      FFFF0000 
 4045      0000
 4046              	L122:
 4047 18ee 83BDCCED 		cmpl	$2, -4660(%ebp)
 4047      FFFF02
 4048 18f5 7E02     		jle	L125
 4049 18f7 EB39     		jmp	L123
 4050              	L125:
 801:../../MMI/Resource/WriteImgRes.c ****             {
 802:../../MMI/Resource/WriteImgRes.c ****                 filename_buffer[filenameLen_2 - 1 - l] = support_media_ext[j][2 - l];
 4052              	LM190:
 4053 18f9 0FBF8546 		movswl	-9402(%ebp),%eax
 4053      DBFFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 51


 4054 1900 89C1     		movl	%eax, %ecx
 4055 1902 2B8DCCED 		subl	-4660(%ebp), %ecx
 4055      FFFF
 4056 1908 8B85C4ED 		movl	-4668(%ebp), %eax
 4056      FFFF
 4057 190e 8B95CCED 		movl	-4660(%ebp), %edx
 4057      FFFF
 4058 1914 8B048500 		movl	_support_media_ext(,%eax,4), %eax
 4058      000000
 4059 191b 29D0     		subl	%edx, %eax
 4060 191d 0FB64002 		movzbl	2(%eax), %eax
 4061 1921 88840DE7 		movb	%al, -4121(%ebp,%ecx)
 4061      EFFFFF
 4063              	LM191:
 4064 1928 8D85CCED 		leal	-4660(%ebp), %eax
 4064      FFFF
 4065 192e FF00     		incl	(%eax)
 4066 1930 EBBC     		jmp	L122
 4067              	L123:
 803:../../MMI/Resource/WriteImgRes.c ****             }
 804:../../MMI/Resource/WriteImgRes.c **** 
 805:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(filename_buffer) )
 4069              	LM192:
 4070 1932 8D85E8EF 		leal	-4120(%ebp), %eax
 4070      FFFF
 4071 1938 890424   		movl	%eax, (%esp)
 4072 193b E8000000 		call	_file_exist
 4072      00
 4073 1940 85C0     		testl	%eax, %eax
 4074 1942 740C     		je	L115
 806:../../MMI/Resource/WriteImgRes.c ****             {
 807:../../MMI/Resource/WriteImgRes.c ****                 has_file = MMI_TRUE;
 4076              	LM193:
 4077 1944 C785C8ED 		movl	$1, -4664(%ebp)
 4077      FFFF0100 
 4077      0000
 808:../../MMI/Resource/WriteImgRes.c ****                 break;
 4079              	LM194:
 4080 194e EB0D     		jmp	L114
 4082              	LM195:
 4083              	L115:
 4084 1950 8D85C4ED 		leal	-4668(%ebp), %eax
 4084      FFFF
 4085              	LBE19:
 4086 1956 FF00     		incl	(%eax)
 4087 1958 E96DFFFF 		jmp	L113
 4087      FF
 4088              	L114:
 809:../../MMI/Resource/WriteImgRes.c ****             }
 810:../../MMI/Resource/WriteImgRes.c ****         }
 811:../../MMI/Resource/WriteImgRes.c **** 
 812:../../MMI/Resource/WriteImgRes.c ****         if (has_file)
 4090              	LM196:
 4091 195d 83BDC8ED 		cmpl	$0, -4664(%ebp)
 4091      FFFF00
 4092 1964 0F840901 		je	L112
 4092      0000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 52


 813:../../MMI/Resource/WriteImgRes.c ****         {
 814:../../MMI/Resource/WriteImgRes.c ****             FILE *image_data_file_5 = fopen(filename_buffer, "rb");
 4094              	LM197:
 4095              	LBB20:
 4096 196a C7442404 		movl	$LC58, 4(%esp)
 4096      F30C0000 
 4097 1972 8D85E8EF 		leal	-4120(%ebp), %eax
 4097      FFFF
 4098 1978 890424   		movl	%eax, (%esp)
 4099 197b E8000000 		call	_fopen
 4099      00
 4100 1980 898540DB 		movl	%eax, -9408(%ebp)
 4100      FFFF
 815:../../MMI/Resource/WriteImgRes.c ****             if (image_data_file_5 != NULL)
 4102              	LM198:
 4103 1986 83BD40DB 		cmpl	$0, -9408(%ebp)
 4103      FFFF00
 4104 198d 0F84E000 		je	L112
 4104      0000
 816:../../MMI/Resource/WriteImgRes.c ****             {
 817:../../MMI/Resource/WriteImgRes.c ****                 S32 nImageSize = 0;
 4106              	LM199:
 4107              	LBB21:
 4108 1993 C7853CDB 		movl	$0, -9412(%ebp)
 4108      FFFF0000 
 4108      0000
 818:../../MMI/Resource/WriteImgRes.c ****                 //failure_flag = MMI_TRUE;
 819:../../MMI/Resource/WriteImgRes.c **** 
 820:../../MMI/Resource/WriteImgRes.c ****                 fseek(image_data_file_5, 0, SEEK_END);
 4110              	LM200:
 4111 199d C7442408 		movl	$2, 8(%esp)
 4111      02000000 
 4112 19a5 C7442404 		movl	$0, 4(%esp)
 4112      00000000 
 4113 19ad 8B8540DB 		movl	-9408(%ebp), %eax
 4113      FFFF
 4114 19b3 890424   		movl	%eax, (%esp)
 4115 19b6 E8000000 		call	_fseek
 4115      00
 821:../../MMI/Resource/WriteImgRes.c ****                 nImageSize = ftell(image_data_file_5);
 4117              	LM201:
 4118 19bb 8B8540DB 		movl	-9408(%ebp), %eax
 4118      FFFF
 4119 19c1 890424   		movl	%eax, (%esp)
 4120 19c4 E8000000 		call	_ftell
 4120      00
 4121 19c9 89853CDB 		movl	%eax, -9412(%ebp)
 4121      FFFF
 822:../../MMI/Resource/WriteImgRes.c ****                 fseek(image_data_file_5, 0, SEEK_SET);
 4123              	LM202:
 4124 19cf C7442408 		movl	$0, 8(%esp)
 4124      00000000 
 4125 19d7 C7442404 		movl	$0, 4(%esp)
 4125      00000000 
 4126 19df 8B8540DB 		movl	-9408(%ebp), %eax
 4126      FFFF
 4127 19e5 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 53


 4128 19e8 E8000000 		call	_fseek
 4128      00
 823:../../MMI/Resource/WriteImgRes.c **** 
 824:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = Write_Unprocessed_Data(
 4130              	LM203:
 4131 19ed 8B4514   		movl	20(%ebp), %eax
 4132 19f0 89442424 		movl	%eax, 36(%esp)
 4133 19f4 8B85D4ED 		movl	-4652(%ebp), %eax
 4133      FFFF
 4134 19fa 89442420 		movl	%eax, 32(%esp)
 4135 19fe 8D85D8ED 		leal	-4648(%ebp), %eax
 4135      FFFF
 4136 1a04 8944241C 		movl	%eax, 28(%esp)
 4137 1a08 8B85E4EF 		movl	-4124(%ebp), %eax
 4137      FFFF
 4138 1a0e 89442418 		movl	%eax, 24(%esp)
 4139 1a12 8B450C   		movl	12(%ebp), %eax
 4140 1a15 89442414 		movl	%eax, 20(%esp)
 4141 1a19 8B4514   		movl	20(%ebp), %eax
 4142 1a1c 8B800402 		movl	516(%eax), %eax
 4142      0000
 4143 1a22 89442410 		movl	%eax, 16(%esp)
 4144 1a26 8B45EC   		movl	-20(%ebp), %eax
 4145 1a29 8944240C 		movl	%eax, 12(%esp)
 4146 1a2d 8B853CDB 		movl	-9412(%ebp), %eax
 4146      FFFF
 4147 1a33 89442408 		movl	%eax, 8(%esp)
 4148 1a37 8B8540DB 		movl	-9408(%ebp), %eax
 4148      FFFF
 4149 1a3d 89442404 		movl	%eax, 4(%esp)
 4150 1a41 8D85E8EF 		leal	-4120(%ebp), %eax
 4150      FFFF
 4151 1a47 890424   		movl	%eax, (%esp)
 4152 1a4a E8B60A00 		call	_Write_Unprocessed_Data
 4152      00
 4153 1a4f 8945F4   		movl	%eax, -12(%ebp)
 825:../../MMI/Resource/WriteImgRes.c ****                         filename_buffer,
 826:../../MMI/Resource/WriteImgRes.c ****                         image_data_file_5,
 827:../../MMI/Resource/WriteImgRes.c ****                         nImageSize,
 828:../../MMI/Resource/WriteImgRes.c ****                         output_image_names,
 829:../../MMI/Resource/WriteImgRes.c ****                         processData->outstream,
 830:../../MMI/Resource/WriteImgRes.c ****                         extImageFlag,
 831:../../MMI/Resource/WriteImgRes.c ****                         is9slice,
 832:../../MMI/Resource/WriteImgRes.c ****                         _9slice_filename,
 833:../../MMI/Resource/WriteImgRes.c ****                         nfb_img_res_file,
 834:../../MMI/Resource/WriteImgRes.c ****                         processData);
 835:../../MMI/Resource/WriteImgRes.c **** 
 836:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(image_data_file_5);
 4155              	LM204:
 4156 1a52 83BD40DB 		cmpl	$0, -9408(%ebp)
 4156      FFFF00
 4157 1a59 7418     		je	L112
 4158 1a5b 8B8540DB 		movl	-9408(%ebp), %eax
 4158      FFFF
 4159 1a61 890424   		movl	%eax, (%esp)
 4160 1a64 E8000000 		call	_fclose
 4160      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 54


 4161 1a69 C78540DB 		movl	$0, -9408(%ebp)
 4161      FFFF0000 
 4161      0000
 4162              	L112:
 837:../../MMI/Resource/WriteImgRes.c ****             }
 838:../../MMI/Resource/WriteImgRes.c ****         }
 839:../../MMI/Resource/WriteImgRes.c ****     }
 840:../../MMI/Resource/WriteImgRes.c **** 
 841:../../MMI/Resource/WriteImgRes.c ****     // Release resoruce before return
 842:../../MMI/Resource/WriteImgRes.c ****     if (extImageFlag == NFB_PROGRESS_IMAGE){
 4164              	LM205:
 4165              	LBE21:
 4166              	LBE20:
 4167              	LBE18:
 4168 1a73 837D0C02 		cmpl	$2, 12(%ebp)
 4169 1a77 754D     		jne	L131
 843:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_V("NFB_PROGRESS_IMAGE is set - Close CustNFBProgressImg.c before Iload return");
 4171              	LM206:
 4172 1a79 C7442408 		movl	$LC45, 8(%esp)
 4172      A00A0000 
 4173 1a81 C7442404 		movl	$LC34, 4(%esp)
 4173      64060000 
 4174 1a89 C7042401 		movl	$1, (%esp)
 4174      000000
 4175 1a90 E8000000 		call	_reslog_adaptor_log
 4175      00
 844:../../MMI/Resource/WriteImgRes.c ****         fflush(stdout);
 4177              	LM207:
 4178 1a95 A1000000 		movl	__imp___iob, %eax
 4178      00
 4179 1a9a 83C020   		addl	$32, %eax
 4180 1a9d 890424   		movl	%eax, (%esp)
 4181 1aa0 E8000000 		call	_fflush
 4181      00
 845:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(nfb_img_res_file);
 4183              	LM208:
 4184 1aa5 83BDD4ED 		cmpl	$0, -4652(%ebp)
 4184      FFFF00
 4185 1aac 7418     		je	L131
 4186 1aae 8B85D4ED 		movl	-4652(%ebp), %eax
 4186      FFFF
 4187 1ab4 890424   		movl	%eax, (%esp)
 4188 1ab7 E8000000 		call	_fclose
 4188      00
 4189 1abc C785D4ED 		movl	$0, -4652(%ebp)
 4189      FFFF0000 
 4189      0000
 4190              	L131:
 846:../../MMI/Resource/WriteImgRes.c ****     }
 847:../../MMI/Resource/WriteImgRes.c ****     free(output_image_names);
 4192              	LM209:
 4193 1ac6 8B45EC   		movl	-20(%ebp), %eax
 4194 1ac9 890424   		movl	%eax, (%esp)
 4195 1acc E8000000 		call	_free
 4195      00
 848:../../MMI/Resource/WriteImgRes.c **** 	
 849:../../MMI/Resource/WriteImgRes.c ****     return failure_flag;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 55


 4197              	LM210:
 4198 1ad1 8B45F4   		movl	-12(%ebp), %eax
 4199 1ad4 898538DB 		movl	%eax, -9416(%ebp)
 4199      FFFF
 850:../../MMI/Resource/WriteImgRes.c **** }
 4201              	LM211:
 4202              	L45:
 4203              	LBE6:
 4204 1ada 8B8538DB 		movl	-9416(%ebp), %eax
 4204      FFFF
 4205 1ae0 81C4F424 		addl	$9460, %esp
 4205      0000
 4206 1ae6 5B       		popl	%ebx
 4207 1ae7 5D       		popl	%ebp
 4208 1ae8 C3       		ret
 4268              	Lscope4:
 4270              	LC59:
 4271 1ae9 4D41494E 		.ascii "MAINLCD\\\\SMS\\\\PIC\0"
 4271      4C43445C 
 4271      5C534D53 
 4271      5C5C5049 
 4271      4300
 4275              	_isEmsImage:
 851:../../MMI/Resource/WriteImgRes.c **** 
 852:../../MMI/Resource/WriteImgRes.c **** 
 853:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 854:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 855:../../MMI/Resource/WriteImgRes.c ****  *  isEmsImage
 856:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 857:../../MMI/Resource/WriteImgRes.c ****  *  Decide if the iamge is used for EMS picture
 858:../../MMI/Resource/WriteImgRes.c ****  *
 859:../../MMI/Resource/WriteImgRes.c ****  *  use EMS_IMAGE_PATH (defined in CustDataRes.h) to decide if a EMS picture
 860:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 861:../../MMI/Resource/WriteImgRes.c ****  *  path        [IN]        -> string containing file name and path
 862:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 863:../../MMI/Resource/WriteImgRes.c ****  *  U8 --> 1: EMS picture, 0: Not EMS picture
 864:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 865:../../MMI/Resource/WriteImgRes.c **** static U8 isEmsImage(S8 *path)
 866:../../MMI/Resource/WriteImgRes.c **** {
 4277              	LM212:
 4278 1afb 55       		pushl	%ebp
 4279 1afc 89E5     		movl	%esp, %ebp
 4280 1afe 83EC48   		subl	$72, %esp
 867:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 868:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
 869:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 870:../../MMI/Resource/WriteImgRes.c ****     S8 ems_path[] = EMS_IMAGE_PATH;
 4282              	LM213:
 4283              	LBB22:
 4284 1b01 A1E91A00 		movl	LC59, %eax
 4284      00
 4285 1b06 8945D8   		movl	%eax, -40(%ebp)
 4286 1b09 A1ED1A00 		movl	LC59+4, %eax
 4286      00
 4287 1b0e 8945DC   		movl	%eax, -36(%ebp)
 4288 1b11 A1F11A00 		movl	LC59+8, %eax
 4288      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 56


 4289 1b16 8945E0   		movl	%eax, -32(%ebp)
 4290 1b19 A1F51A00 		movl	LC59+12, %eax
 4290      00
 4291 1b1e 8945E4   		movl	%eax, -28(%ebp)
 4292 1b21 0FB705F9 		movzwl	LC59+16, %eax
 4292      1A0000
 4293 1b28 668945E8 		movw	%ax, -24(%ebp)
 871:../../MMI/Resource/WriteImgRes.c ****     U8 pos = 0, ems_len = 0, i = 0;
 4295              	LM214:
 4296 1b2c C645D700 		movb	$0, -41(%ebp)
 4297 1b30 C645D600 		movb	$0, -42(%ebp)
 4298 1b34 C645D500 		movb	$0, -43(%ebp)
 872:../../MMI/Resource/WriteImgRes.c **** 
 873:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 874:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
 875:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
 876:../../MMI/Resource/WriteImgRes.c ****     ems_len = strlen(ems_path);
 4300              	LM215:
 4301 1b38 8D45D8   		leal	-40(%ebp), %eax
 4302 1b3b 890424   		movl	%eax, (%esp)
 4303 1b3e E8000000 		call	_strlen
 4303      00
 4304 1b43 8845D6   		movb	%al, -42(%ebp)
 877:../../MMI/Resource/WriteImgRes.c ****     pos = strlen(path) - 1;
 4306              	LM216:
 4307 1b46 8B4508   		movl	8(%ebp), %eax
 4308 1b49 890424   		movl	%eax, (%esp)
 4309 1b4c E8000000 		call	_strlen
 4309      00
 4310 1b51 FEC8     		decb	%al
 4311 1b53 8845D7   		movb	%al, -41(%ebp)
 878:../../MMI/Resource/WriteImgRes.c ****     while (path[pos] != '\\')
 4313              	LM217:
 4314              	L135:
 4315 1b56 0FB655D7 		movzbl	-41(%ebp), %edx
 4316 1b5a 8B4508   		movl	8(%ebp), %eax
 4317 1b5d 803C025C 		cmpb	$92, (%edx,%eax)
 4318 1b61 7502     		jne	L137
 4319 1b63 EB16     		jmp	L136
 4320              	L137:
 879:../../MMI/Resource/WriteImgRes.c ****     {
 880:../../MMI/Resource/WriteImgRes.c ****         /* __CUSTPACK_MULTIBIN Calvin BEGIN */
 881:../../MMI/Resource/WriteImgRes.c ****         if (pos == 0)   /* 040805 CustPack: Calvin added */
 4322              	LM218:
 4323 1b65 807DD700 		cmpb	$0, -41(%ebp)
 4324 1b69 7509     		jne	L138
 882:../../MMI/Resource/WriteImgRes.c ****         {
 883:../../MMI/Resource/WriteImgRes.c ****             return 0;
 4326              	LM219:
 4327 1b6b C745D000 		movl	$0, -48(%ebp)
 4327      000000
 4328 1b72 EB56     		jmp	L134
 4329              	L138:
 884:../../MMI/Resource/WriteImgRes.c ****         }
 885:../../MMI/Resource/WriteImgRes.c ****         /* __CUSTPACK_MULTIBIN Calvin END */
 886:../../MMI/Resource/WriteImgRes.c ****         pos--;
 4331              	LM220:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 57


 4332 1b74 8D45D7   		leal	-41(%ebp), %eax
 4333 1b77 FE08     		decb	(%eax)
 4334 1b79 EBDB     		jmp	L135
 4335              	L136:
 887:../../MMI/Resource/WriteImgRes.c ****     }
 888:../../MMI/Resource/WriteImgRes.c ****     pos -= ems_len + 1;
 4337              	LM221:
 4338 1b7b 0FB655D6 		movzbl	-42(%ebp), %edx
 4339 1b7f 0FB645D7 		movzbl	-41(%ebp), %eax
 4340 1b83 28D0     		subb	%dl, %al
 4341 1b85 FEC8     		decb	%al
 4342 1b87 8845D7   		movb	%al, -41(%ebp)
 889:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < ems_len; i++)
 4344              	LM222:
 4345 1b8a C645D500 		movb	$0, -43(%ebp)
 4346              	L139:
 4347 1b8e 0FB645D5 		movzbl	-43(%ebp), %eax
 4348 1b92 3A45D6   		cmpb	-42(%ebp), %al
 4349 1b95 7202     		jb	L142
 4350 1b97 EB2A     		jmp	L140
 4351              	L142:
 890:../../MMI/Resource/WriteImgRes.c ****     {
 891:../../MMI/Resource/WriteImgRes.c ****         if (ems_path[i] != path[pos])
 4353              	LM223:
 4354 1b99 0FB645D5 		movzbl	-43(%ebp), %eax
 4355 1b9d 0FB64DD7 		movzbl	-41(%ebp), %ecx
 4356 1ba1 8B5508   		movl	8(%ebp), %edx
 4357 1ba4 0FB64405 		movzbl	-40(%ebp,%eax), %eax
 4357      D8
 4358 1ba9 3A0411   		cmpb	(%ecx,%edx), %al
 4359 1bac 7409     		je	L143
 892:../../MMI/Resource/WriteImgRes.c ****         {
 893:../../MMI/Resource/WriteImgRes.c ****             return 0;
 4361              	LM224:
 4362 1bae C745D000 		movl	$0, -48(%ebp)
 4362      000000
 4363 1bb5 EB13     		jmp	L134
 4364              	L143:
 894:../../MMI/Resource/WriteImgRes.c ****         }
 895:../../MMI/Resource/WriteImgRes.c ****         else
 896:../../MMI/Resource/WriteImgRes.c ****         {
 897:../../MMI/Resource/WriteImgRes.c ****             pos++;
 4366              	LM225:
 4367 1bb7 8D45D7   		leal	-41(%ebp), %eax
 4368 1bba FE00     		incb	(%eax)
 4370              	LM226:
 4371 1bbc 8D45D5   		leal	-43(%ebp), %eax
 4372 1bbf FE00     		incb	(%eax)
 4373 1bc1 EBCB     		jmp	L139
 4374              	L140:
 898:../../MMI/Resource/WriteImgRes.c ****         }
 899:../../MMI/Resource/WriteImgRes.c ****     }
 900:../../MMI/Resource/WriteImgRes.c **** 
 901:../../MMI/Resource/WriteImgRes.c ****     return 1;
 4376              	LM227:
 4377 1bc3 C745D001 		movl	$1, -48(%ebp)
 4377      000000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 58


 902:../../MMI/Resource/WriteImgRes.c **** }
 4379              	LM228:
 4380              	L134:
 4381              	LBE22:
 4382 1bca 8B45D0   		movl	-48(%ebp), %eax
 4383 1bcd C9       		leave
 4384 1bce C3       		ret
 4391              	Lscope5:
 4393              	LC60:
 4394 1bcf 2E41424D 		.ascii ".ABM\0"
 4394      00
 4395              	LC61:
 4396 1bd4 5B25735D 		.ascii "[%s] no need convert\12\0"
 4396      206E6F20 
 4396      6E656564 
 4396      20636F6E 
 4396      76657274 
 4397              	LC62:
 4398 1bea 2E5C7465 		.ascii ".\\temp\\\0"
 4398      6D705C00 
 4399              	LC63:
 4400 1bf2 2E74656D 		.ascii ".temp\0"
 4400      7000
 4401              	LC64:
 4402 1bf8 5F5F616C 		.ascii "__align(4) const U8 %s[] =\12\0"
 4402      69676E28 
 4402      34292063 
 4402      6F6E7374 
 4402      20553820 
 4403 1c14 8DB60000 		.align 32
 4403      00008DBF 
 4403      00000000 
 4404              	LC65:
 4405 1c20 7B0A09   		.ascii "{\12\11"
 4406 1c23 30783030 		.ascii "0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\12};\12\0"
 4406      2C203078 
 4406      30312C20 
 4406      30783030 
 4406      2C203078 
 4407 1c56 8D76008D 		.align 32
 4407      BC270000 
 4407      0000
 4408              	LC66:
 4409 1c60 57726974 		.ascii "Write NFB_PROGRESS_IMAGE in Write_Processed_Data for empty bmp file\0"
 4409      65204E46 
 4409      425F5052 
 4409      4F475245 
 4409      53535F49 
 4410              	LC67:
 4411 1ca4 6F757470 		.ascii "output_name = %s\0"
 4411      75745F6E 
 4411      616D6520 
 4411      3D202573 
 4411      00
 4412              	LC68:
 4413 1cb5 2855382A 		.ascii "(U8*)&%s,\12\0"
 4413      29262573 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 59


 4413      2C0A00
 4414              	LC69:
 4415 1cc0 6F757470 		.ascii "output_name can't be NULL!!\0"
 4415      75745F6E 
 4415      616D6520 
 4415      63616E27 
 4415      74206265 
 4416              	LC70:
 4417 1cdc 6E66625F 		.ascii "nfb_img_res_file not opened\0"
 4417      696D675F 
 4417      7265735F 
 4417      66696C65 
 4417      206E6F74 
 4418 1cf8 908DB426 		.align 32
 4418      00000000 
 4419              	LC71:
 4420 1d00 57726974 		.ascii "Write NFB_PROGRESS_IMAGE in Write_Processed_Data, type = %d\0"
 4420      65204E46 
 4420      425F5052 
 4420      4F475245 
 4420      53535F49 
 4421              	LC72:
 4422 1d3c 0A00     		.ascii "\12\0"
 4436              	_Write_Processed_Data:
 903:../../MMI/Resource/WriteImgRes.c **** 
 904:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
 905:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
 906:../../MMI/Resource/WriteImgRes.c ****  *  Write_Processed_Data
 907:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
 908:../../MMI/Resource/WriteImgRes.c ****  *  write processed data
 909:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
 910:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
 911:../../MMI/Resource/WriteImgRes.c ****  *  type            [IN]        image type
 912:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
 913:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
 914:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
 915:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
 916:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
 917:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Processed_Data(
 918:../../MMI/Resource/WriteImgRes.c ****         char *filename,
 919:../../MMI/Resource/WriteImgRes.c ****         U8 type,
 920:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
 921:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
 922:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
 923:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
 924:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
 925:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
 926:../../MMI/Resource/WriteImgRes.c ****         U8 *_9slice_filename,
 927:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData,
 928:../../MMI/Resource/WriteImgRes.c ****         S32 *proc_img_err_code
 929:../../MMI/Resource/WriteImgRes.c ****         )
 930:../../MMI/Resource/WriteImgRes.c **** {
 4438              	LM229:
 4439 1d3e 55       		pushl	%ebp
 4440 1d3f 89E5     		movl	%esp, %ebp
 4441 1d41 B8781400 		movl	$5240, %eax
 4441      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 60


 4442 1d46 E8000000 		call	__alloca
 4442      00
 4443 1d4b 8B450C   		movl	12(%ebp), %eax
 4444 1d4e 8845F7   		movb	%al, -9(%ebp)
 931:../../MMI/Resource/WriteImgRes.c ****     *proc_img_err_code = 0;
 4446              	LM230:
 4447              	LBB23:
 4448 1d51 8B4530   		movl	48(%ebp), %eax
 4449 1d54 C7000000 		movl	$0, (%eax)
 4449      0000
 932:../../MMI/Resource/WriteImgRes.c ****     
 933:../../MMI/Resource/WriteImgRes.c ****     S8 tempDestFile[BUFFER_SIZE];
 934:../../MMI/Resource/WriteImgRes.c **** 
 935:../../MMI/Resource/WriteImgRes.c ****     BOOL is_need_convert = TRUE;
 4451              	LM231:
 4452 1d5a C785E4EF 		movl	$1, -4124(%ebp)
 4452      FFFF0100 
 4452      0000
 936:../../MMI/Resource/WriteImgRes.c **** 
 937:../../MMI/Resource/WriteImgRes.c ****     if (type == IMAGE_TYPE_ABM)
 4454              	LM232:
 4455 1d64 807DF728 		cmpb	$40, -9(%ebp)
 4456 1d68 7575     		jne	L146
 938:../../MMI/Resource/WriteImgRes.c ****     {
 939:../../MMI/Resource/WriteImgRes.c ****         strcpy(tempDestFile, filename);
 4458              	LM233:
 4459 1d6a 8B4508   		movl	8(%ebp), %eax
 4460 1d6d 89442404 		movl	%eax, 4(%esp)
 4461 1d71 8D85E8EF 		leal	-4120(%ebp), %eax
 4461      FFFF
 4462 1d77 890424   		movl	%eax, (%esp)
 4463 1d7a E8000000 		call	_strcpy
 4463      00
 940:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, ".ABM");
 4465              	LM234:
 4466 1d7f C7442404 		movl	$LC60, 4(%esp)
 4466      CF1B0000 
 4467 1d87 8D85E8EF 		leal	-4120(%ebp), %eax
 4467      FFFF
 4468 1d8d 890424   		movl	%eax, (%esp)
 4469 1d90 E8000000 		call	_strcat
 4469      00
 941:../../MMI/Resource/WriteImgRes.c **** 
 942:../../MMI/Resource/WriteImgRes.c **** #if !defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
 943:../../MMI/Resource/WriteImgRes.c ****         if (toolFlag != 1)
 4471              	LM235:
 4472 1d95 833D0000 		cmpl	$1, _toolFlag
 4472      000001
 4473 1d9c 0F849E00 		je	L149
 4473      0000
 944:../../MMI/Resource/WriteImgRes.c ****         {
 945:../../MMI/Resource/WriteImgRes.c ****             if (resgen_compare_file_time(tempDestFile, filename) == -1)
 4475              	LM236:
 4476 1da2 8B4508   		movl	8(%ebp), %eax
 4477 1da5 89442404 		movl	%eax, 4(%esp)
 4478 1da9 8D85E8EF 		leal	-4120(%ebp), %eax
 4478      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 61


 4479 1daf 890424   		movl	%eax, (%esp)
 4480 1db2 E8000000 		call	_resgen_compare_file_time
 4480      00
 4481 1db7 83F8FF   		cmpl	$-1, %eax
 4482 1dba 0F858000 		jne	L149
 4482      0000
 946:../../MMI/Resource/WriteImgRes.c ****             {
 947:../../MMI/Resource/WriteImgRes.c ****                 is_need_convert = FALSE;
 4484              	LM237:
 4485 1dc0 C785E4EF 		movl	$0, -4124(%ebp)
 4485      FFFF0000 
 4485      0000
 948:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("[%s] no need convert\n", filename);
 4487              	LM238:
 4488 1dca 8B4508   		movl	8(%ebp), %eax
 4489 1dcd 89442404 		movl	%eax, 4(%esp)
 4490 1dd1 C70424D4 		movl	$LC61, (%esp)
 4490      1B0000
 4491 1dd8 E8000000 		call	_MtkResgenTrace
 4491      00
 4492 1ddd EB61     		jmp	L149
 4493              	L146:
 949:../../MMI/Resource/WriteImgRes.c ****             }
 950:../../MMI/Resource/WriteImgRes.c ****         }
 951:../../MMI/Resource/WriteImgRes.c **** #endif /* #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__) */
 952:../../MMI/Resource/WriteImgRes.c ****     }
 953:../../MMI/Resource/WriteImgRes.c ****     else
 954:../../MMI/Resource/WriteImgRes.c ****     {
 955:../../MMI/Resource/WriteImgRes.c ****         char temp_filename[1024];
 956:../../MMI/Resource/WriteImgRes.c ****         Extract_Name(temp_filename, filename, SYSTEM_IMAGE);
 4495              	LM239:
 4496              	LBB24:
 4497 1ddf C7442408 		movl	$0, 8(%esp)
 4497      00000000 
 4498 1de7 8B4508   		movl	8(%ebp), %eax
 4499 1dea 89442404 		movl	%eax, 4(%esp)
 4500 1dee 8D85D8EB 		leal	-5160(%ebp), %eax
 4500      FFFF
 4501 1df4 890424   		movl	%eax, (%esp)
 4502 1df7 E8000000 		call	_Extract_Name
 4502      00
 957:../../MMI/Resource/WriteImgRes.c ****         strcpy(tempDestFile, ".\\temp\\");
 4504              	LM240:
 4505 1dfc C7442404 		movl	$LC62, 4(%esp)
 4505      EA1B0000 
 4506 1e04 8D85E8EF 		leal	-4120(%ebp), %eax
 4506      FFFF
 4507 1e0a 890424   		movl	%eax, (%esp)
 4508 1e0d E8000000 		call	_strcpy
 4508      00
 958:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, temp_filename);
 4510              	LM241:
 4511 1e12 8D85D8EB 		leal	-5160(%ebp), %eax
 4511      FFFF
 4512 1e18 89442404 		movl	%eax, 4(%esp)
 4513 1e1c 8D85E8EF 		leal	-4120(%ebp), %eax
 4513      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 62


 4514 1e22 890424   		movl	%eax, (%esp)
 4515 1e25 E8000000 		call	_strcat
 4515      00
 959:../../MMI/Resource/WriteImgRes.c ****         strcat(tempDestFile, ".temp");
 4517              	LM242:
 4518 1e2a C7442404 		movl	$LC63, 4(%esp)
 4518      F21B0000 
 4519 1e32 8D85E8EF 		leal	-4120(%ebp), %eax
 4519      FFFF
 4520 1e38 890424   		movl	%eax, (%esp)
 4521 1e3b E8000000 		call	_strcat
 4521      00
 4522              	L149:
 960:../../MMI/Resource/WriteImgRes.c ****     }
 961:../../MMI/Resource/WriteImgRes.c **** 
 962:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(filename) )
 4524              	LM243:
 4525              	LBE24:
 4526 1e40 8B4508   		movl	8(%ebp), %eax
 4527 1e43 890424   		movl	%eax, (%esp)
 4528 1e46 E8000000 		call	_file_exist
 4528      00
 4529 1e4b 85C0     		testl	%eax, %eax
 4530 1e4d 0F840105 		je	L150
 4530      0000
 963:../../MMI/Resource/WriteImgRes.c ****     {
 964:../../MMI/Resource/WriteImgRes.c ****         int ret;
 965:../../MMI/Resource/WriteImgRes.c ****         switch (type)
 4532              	LM244:
 4533              	LBB25:
 4534 1e53 0FB645F7 		movzbl	-9(%ebp), %eax
 4535 1e57 8985C0EB 		movl	%eax, -5184(%ebp)
 4535      FFFF
 4536 1e5d 83BDC0EB 		cmpl	$4, -5184(%ebp)
 4536      FFFF04
 4537 1e64 7450     		je	L154
 4538 1e66 83BDC0EB 		cmpl	$4, -5184(%ebp)
 4538      FFFF04
 4539 1e6d 7F0E     		jg	L180
 4540 1e6f 83BDC0EB 		cmpl	$3, -5184(%ebp)
 4540      FFFF03
 4541 1e76 7417     		je	L152
 4542 1e78 E9C90200 		jmp	L178
 4542      00
 4543              	L180:
 4544 1e7d 83BDC0EB 		cmpl	$40, -5184(%ebp)
 4544      FFFF28
 4545 1e84 0F849D01 		je	L167
 4545      0000
 4546 1e8a E9B70200 		jmp	L178
 4546      00
 4547              	L152:
 966:../../MMI/Resource/WriteImgRes.c ****         {
 967:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_GIF:
 968:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4549              	LM245:
 4550 1e8f 83BDE4EF 		cmpl	$0, -4124(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 63


 4550      FFFF00
 4551 1e96 0F84B902 		je	L151
 4551      0000
 969:../../MMI/Resource/WriteImgRes.c ****                 {
 970:../../MMI/Resource/WriteImgRes.c ****                     GIFLoader(filename, tempDestFile);
 4553              	LM246:
 4554              	LBB26:
 4555 1e9c 8D85E8EF 		leal	-4120(%ebp), %eax
 4555      FFFF
 4556 1ea2 89442404 		movl	%eax, 4(%esp)
 4557 1ea6 8B4508   		movl	8(%ebp), %eax
 4558 1ea9 890424   		movl	%eax, (%esp)
 4559 1eac E8000000 		call	_GIFLoader
 4559      00
 971:../../MMI/Resource/WriteImgRes.c ****                 }
 972:../../MMI/Resource/WriteImgRes.c ****                 break;
 4561              	LM247:
 4562              	LBE26:
 4563 1eb1 E99F0200 		jmp	L151
 4563      00
 4564              	L154:
 973:../../MMI/Resource/WriteImgRes.c **** 
 974:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_DEVICE_BITMAP:
 975:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4566              	LM248:
 4567 1eb6 83BDE4EF 		cmpl	$0, -4124(%ebp)
 4567      FFFF00
 4568 1ebd 743A     		je	L155
 976:../../MMI/Resource/WriteImgRes.c ****                 {
 977:../../MMI/Resource/WriteImgRes.c ****                     ret = BMPLoader(filename, tempDestFile, __MMI_DEVICE_BMP_FORMAT__, _9slice_file
 4570              	LM249:
 4571 1ebf 8B452C   		movl	44(%ebp), %eax
 4572 1ec2 89442414 		movl	%eax, 20(%esp)
 4573 1ec6 8B451C   		movl	28(%ebp), %eax
 4574 1ec9 89442410 		movl	%eax, 16(%esp)
 4575 1ecd 8B4528   		movl	40(%ebp), %eax
 4576 1ed0 8944240C 		movl	%eax, 12(%esp)
 4577 1ed4 C7442408 		movl	$16, 8(%esp)
 4577      10000000 
 4578 1edc 8D85E8EF 		leal	-4120(%ebp), %eax
 4578      FFFF
 4579 1ee2 89442404 		movl	%eax, 4(%esp)
 4580 1ee6 8B4508   		movl	8(%ebp), %eax
 4581 1ee9 890424   		movl	%eax, (%esp)
 4582 1eec E8000000 		call	_BMPLoader
 4582      00
 4583 1ef1 8985D4EB 		movl	%eax, -5164(%ebp)
 4583      FFFF
 4584 1ef7 EB0A     		jmp	L156
 4585              	L155:
 978:../../MMI/Resource/WriteImgRes.c ****                 }
 979:../../MMI/Resource/WriteImgRes.c ****                 else
 980:../../MMI/Resource/WriteImgRes.c ****                 {
 981:../../MMI/Resource/WriteImgRes.c ****                     ret = 1;
 4587              	LM250:
 4588 1ef9 C785D4EB 		movl	$1, -5164(%ebp)
 4588      FFFF0100 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 64


 4588      0000
 4589              	L156:
 982:../../MMI/Resource/WriteImgRes.c ****                 }
 983:../../MMI/Resource/WriteImgRes.c **** 
 984:../../MMI/Resource/WriteImgRes.c ****                 if (toolFlag)
 4591              	LM251:
 4592 1f03 833D0000 		cmpl	$0, _toolFlag
 4592      000000
 4593 1f0a 7427     		je	L157
 985:../../MMI/Resource/WriteImgRes.c ****                 {
 986:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 4595              	LM252:
 4596 1f0c 83BDD4EB 		cmpl	$0, -5164(%ebp)
 4596      FFFF00
 4597 1f13 750F     		jne	L158
 987:../../MMI/Resource/WriteImgRes.c ****                     {
 988:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 4599              	LM253:
 4600 1f15 C7050000 		movl	$1, _resultFailFlag
 4600      00000100 
 4600      0000
 4601 1f1f E9310200 		jmp	L151
 4601      00
 4602              	L158:
 989:../../MMI/Resource/WriteImgRes.c ****                     }
 990:../../MMI/Resource/WriteImgRes.c ****                     else
 991:../../MMI/Resource/WriteImgRes.c ****                     {
 992:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 4604              	LM254:
 4605 1f24 C7050000 		movl	$0, _resultFailFlag
 4605      00000000 
 4605      0000
 4606 1f2e E9220200 		jmp	L151
 4606      00
 4607              	L157:
 993:../../MMI/Resource/WriteImgRes.c ****                     }
 994:../../MMI/Resource/WriteImgRes.c ****                 }
 995:../../MMI/Resource/WriteImgRes.c ****                 else
 996:../../MMI/Resource/WriteImgRes.c ****                 {
 997:../../MMI/Resource/WriteImgRes.c ****                     /* we handle empty bmp file here, maybe we should handle it in Write_Unprocesse
 998:../../MMI/Resource/WriteImgRes.c ****                     if (ret == 0)
 4609              	LM255:
 4610 1f33 83BDD4EB 		cmpl	$0, -5164(%ebp)
 4610      FFFF00
 4611 1f3a 0F851502 		jne	L151
 4611      0000
 999:../../MMI/Resource/WriteImgRes.c ****                     {
1000:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamPrintf(outstream, "__align(4) const U8 %s[] =\n", output_name
 4613              	LM256:
 4614 1f40 8B4510   		movl	16(%ebp), %eax
 4615 1f43 89442408 		movl	%eax, 8(%esp)
 4616 1f47 C7442404 		movl	$LC64, 4(%esp)
 4616      F81B0000 
 4617 1f4f 8B4514   		movl	20(%ebp), %eax
 4618 1f52 890424   		movl	%eax, (%esp)
 4619 1f55 E8000000 		call	_ImageOutStreamPrintf
 4619      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 65


1001:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamPrintf(outstream, "{\n\t0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0
 4621              	LM257:
 4622 1f5a C7442404 		movl	$LC65, 4(%esp)
 4622      201C0000 
 4623 1f62 8B4514   		movl	20(%ebp), %eax
 4624 1f65 890424   		movl	%eax, (%esp)
 4625 1f68 E8000000 		call	_ImageOutStreamPrintf
 4625      00
1002:../../MMI/Resource/WriteImgRes.c ****                         if (extImageFlag == NFB_PROGRESS_IMAGE)
 4627              	LM258:
 4628 1f6d 837D1802 		cmpl	$2, 24(%ebp)
 4629 1f71 0F85A100 		jne	L162
 4629      0000
1003:../../MMI/Resource/WriteImgRes.c ****                         {
1004:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE in Write_Processed_Data for empt
 4631              	LM259:
 4632 1f77 C7442408 		movl	$LC66, 8(%esp)
 4632      601C0000 
 4633 1f7f C7442404 		movl	$LC34, 4(%esp)
 4633      64060000 
 4634 1f87 C7042401 		movl	$1, (%esp)
 4634      000000
 4635 1f8e E8000000 		call	_reslog_adaptor_log
 4635      00
1005:../../MMI/Resource/WriteImgRes.c ****                             if (nfb_img_res_file != NULL)
 4637              	LM260:
 4638 1f93 837D2400 		cmpl	$0, 36(%ebp)
 4639 1f97 7463     		je	L163
1006:../../MMI/Resource/WriteImgRes.c ****                             {
1007:../../MMI/Resource/WriteImgRes.c ****                                 if(output_name != NULL){							
 4641              	LM261:
 4642 1f99 837D1000 		cmpl	$0, 16(%ebp)
 4643 1f9d 743F     		je	L164
1008:../../MMI/Resource/WriteImgRes.c ****                                     RESIMG_LOG_V("output_name = %s", output_name);
 4645              	LM262:
 4646 1f9f 8B4510   		movl	16(%ebp), %eax
 4647 1fa2 8944240C 		movl	%eax, 12(%esp)
 4648 1fa6 C7442408 		movl	$LC67, 8(%esp)
 4648      A41C0000 
 4649 1fae C7442404 		movl	$LC34, 4(%esp)
 4649      64060000 
 4650 1fb6 C7042401 		movl	$1, (%esp)
 4650      000000
 4651 1fbd E8000000 		call	_reslog_adaptor_log
 4651      00
1009:../../MMI/Resource/WriteImgRes.c ****                                 fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 4653              	LM263:
 4654 1fc2 8B4510   		movl	16(%ebp), %eax
 4655 1fc5 89442408 		movl	%eax, 8(%esp)
 4656 1fc9 C7442404 		movl	$LC68, 4(%esp)
 4656      B51C0000 
 4657 1fd1 8B4524   		movl	36(%ebp), %eax
 4658 1fd4 890424   		movl	%eax, (%esp)
 4659 1fd7 E8000000 		call	_fprintf
 4659      00
 4660 1fdc EB3A     		jmp	L162
 4661              	L164:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 66


1010:../../MMI/Resource/WriteImgRes.c ****                                 }else{
1011:../../MMI/Resource/WriteImgRes.c ****                                     RESIMG_LOG_E("output_name can't be NULL!!");
 4663              	LM264:
 4664 1fde C7442408 		movl	$LC69, 8(%esp)
 4664      C01C0000 
 4665 1fe6 C7442404 		movl	$LC34, 4(%esp)
 4665      64060000 
 4666 1fee C7042403 		movl	$3, (%esp)
 4666      000000
 4667 1ff5 E8000000 		call	_reslog_adaptor_log
 4667      00
 4668 1ffa EB1C     		jmp	L162
 4669              	L163:
1012:../../MMI/Resource/WriteImgRes.c **** 								}
1013:../../MMI/Resource/WriteImgRes.c ****                             }
1014:../../MMI/Resource/WriteImgRes.c ****                             else
1015:../../MMI/Resource/WriteImgRes.c ****                             {
1016:../../MMI/Resource/WriteImgRes.c ****                                 RESIMG_LOG_E("nfb_img_res_file not opened");
 4671              	LM265:
 4672 1ffc C7442408 		movl	$LC70, 8(%esp)
 4672      DC1C0000 
 4673 2004 C7442404 		movl	$LC34, 4(%esp)
 4673      64060000 
 4674 200c C7042403 		movl	$3, (%esp)
 4674      000000
 4675 2013 E8000000 		call	_reslog_adaptor_log
 4675      00
 4676              	L162:
1017:../../MMI/Resource/WriteImgRes.c ****                             }
1018:../../MMI/Resource/WriteImgRes.c ****                         }
1019:../../MMI/Resource/WriteImgRes.c ****                         return MMI_TRUE;
 4678              	LM266:
 4679 2018 C785C4EB 		movl	$1, -5180(%ebp)
 4679      FFFF0100 
 4679      0000
 4680 2022 E9430300 		jmp	L145
 4680      00
 4681              	L167:
1020:../../MMI/Resource/WriteImgRes.c ****                     }
1021:../../MMI/Resource/WriteImgRes.c ****                 }
1022:../../MMI/Resource/WriteImgRes.c ****                 break;
1023:../../MMI/Resource/WriteImgRes.c **** 
1024:../../MMI/Resource/WriteImgRes.c ****             case IMAGE_TYPE_ABM:
1025:../../MMI/Resource/WriteImgRes.c ****                 if (is_need_convert)
 4683              	LM267:
 4684 2027 83BDE4EF 		cmpl	$0, -4124(%ebp)
 4684      FFFF00
 4685 202e 0F84BD00 		je	L168
 4685      0000
1026:../../MMI/Resource/WriteImgRes.c ****                 {
1027:../../MMI/Resource/WriteImgRes.c ****                     RG_SET_CPZ(TRUE);
1028:../../MMI/Resource/WriteImgRes.c ****                     if (force_type == FORCE_ABM)
 4687              	LM268:
 4688 2034 837D2001 		cmpl	$1, 32(%ebp)
 4689 2038 753D     		jne	L169
1029:../../MMI/Resource/WriteImgRes.c ****                     {
1030:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_ABM, is9slice, 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 67


 4691              	LM269:
 4692 203a 8B452C   		movl	44(%ebp), %eax
 4693 203d 89442414 		movl	%eax, 20(%esp)
 4694 2041 8B4528   		movl	40(%ebp), %eax
 4695 2044 89442410 		movl	%eax, 16(%esp)
 4696 2048 8B451C   		movl	28(%ebp), %eax
 4697 204b 8944240C 		movl	%eax, 12(%esp)
 4698 204f C7442408 		movl	$2, 8(%esp)
 4698      02000000 
 4699 2057 8D85E8EF 		leal	-4120(%ebp), %eax
 4699      FFFF
 4700 205d 89442404 		movl	%eax, 4(%esp)
 4701 2061 8B4508   		movl	8(%ebp), %eax
 4702 2064 890424   		movl	%eax, (%esp)
 4703 2067 E8000000 		call	_ABMLoader
 4703      00
 4704 206c 8985D4EB 		movl	%eax, -5164(%ebp)
 4704      FFFF
 4705 2072 E9840000 		jmp	L173
 4705      00
 4706              	L169:
1031:../../MMI/Resource/WriteImgRes.c ****                     }
1032:../../MMI/Resource/WriteImgRes.c ****                     else if(force_type == FORCE_AB2)
 4708              	LM270:
 4709 2077 837D2002 		cmpl	$2, 32(%ebp)
 4710 207b 753A     		jne	L171
1033:../../MMI/Resource/WriteImgRes.c ****                     {
1034:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_AB2, is9slice, 
 4712              	LM271:
 4713 207d 8B452C   		movl	44(%ebp), %eax
 4714 2080 89442414 		movl	%eax, 20(%esp)
 4715 2084 8B4528   		movl	40(%ebp), %eax
 4716 2087 89442410 		movl	%eax, 16(%esp)
 4717 208b 8B451C   		movl	28(%ebp), %eax
 4718 208e 8944240C 		movl	%eax, 12(%esp)
 4719 2092 C7442408 		movl	$4, 8(%esp)
 4719      04000000 
 4720 209a 8D85E8EF 		leal	-4120(%ebp), %eax
 4720      FFFF
 4721 20a0 89442404 		movl	%eax, 4(%esp)
 4722 20a4 8B4508   		movl	8(%ebp), %eax
 4723 20a7 890424   		movl	%eax, (%esp)
 4724 20aa E8000000 		call	_ABMLoader
 4724      00
 4725 20af 8985D4EB 		movl	%eax, -5164(%ebp)
 4725      FFFF
 4726 20b5 EB44     		jmp	L173
 4727              	L171:
1035:../../MMI/Resource/WriteImgRes.c ****                     }                	
1036:../../MMI/Resource/WriteImgRes.c ****                     else
1037:../../MMI/Resource/WriteImgRes.c ****                     {
1038:../../MMI/Resource/WriteImgRes.c ****                         ret = ABMLoader(filename, tempDestFile, ABM_ENC_OPTION_FLAG_ALL, is9slice, 
 4729              	LM272:
 4730 20b7 8B452C   		movl	44(%ebp), %eax
 4731 20ba 89442414 		movl	%eax, 20(%esp)
 4732 20be 8B4528   		movl	40(%ebp), %eax
 4733 20c1 89442410 		movl	%eax, 16(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 68


 4734 20c5 8B451C   		movl	28(%ebp), %eax
 4735 20c8 8944240C 		movl	%eax, 12(%esp)
 4736 20cc C7442408 		movl	$7, 8(%esp)
 4736      07000000 
 4737 20d4 8D85E8EF 		leal	-4120(%ebp), %eax
 4737      FFFF
 4738 20da 89442404 		movl	%eax, 4(%esp)
 4739 20de 8B4508   		movl	8(%ebp), %eax
 4740 20e1 890424   		movl	%eax, (%esp)
 4741 20e4 E8000000 		call	_ABMLoader
 4741      00
 4742 20e9 8985D4EB 		movl	%eax, -5164(%ebp)
 4742      FFFF
 4743 20ef EB0A     		jmp	L173
 4744              	L168:
1039:../../MMI/Resource/WriteImgRes.c ****                     }
1040:../../MMI/Resource/WriteImgRes.c ****                     RG_SET_CPZ(FALSE);
1041:../../MMI/Resource/WriteImgRes.c ****                 }
1042:../../MMI/Resource/WriteImgRes.c ****                 else
1043:../../MMI/Resource/WriteImgRes.c ****                 {
1044:../../MMI/Resource/WriteImgRes.c ****                     ret = ABM_ENC_RETURN_USE_ABM;
 4746              	LM273:
 4747 20f1 C785D4EB 		movl	$1, -5164(%ebp)
 4747      FFFF0100 
 4747      0000
 4748              	L173:
1045:../../MMI/Resource/WriteImgRes.c ****                 }
1046:../../MMI/Resource/WriteImgRes.c **** 
1047:../../MMI/Resource/WriteImgRes.c ****                 if (ret != ABM_ENC_RETURN_USE_ABM)
 4750              	LM274:
 4751 20fb 83BDD4EB 		cmpl	$1, -5164(%ebp)
 4751      FFFF01
 4752 2102 742D     		je	L174
1048:../../MMI/Resource/WriteImgRes.c ****                 {
1049:../../MMI/Resource/WriteImgRes.c ****                     if (toolFlag)
 4754              	LM275:
 4755 2104 833D0000 		cmpl	$0, _toolFlag
 4755      000000
 4756 210b 740A     		je	L175
1050:../../MMI/Resource/WriteImgRes.c ****                     {
1051:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 1;
 4758              	LM276:
 4759 210d C7050000 		movl	$1, _resultFailFlag
 4759      00000100 
 4759      0000
 4760              	L175:
1052:../../MMI/Resource/WriteImgRes.c ****                     }
1053:../../MMI/Resource/WriteImgRes.c ****                     *proc_img_err_code = ret;
 4762              	LM277:
 4763 2117 8B5530   		movl	48(%ebp), %edx
 4764 211a 8B85D4EB 		movl	-5164(%ebp), %eax
 4764      FFFF
 4765 2120 8902     		movl	%eax, (%edx)
1054:../../MMI/Resource/WriteImgRes.c ****                     
1055:../../MMI/Resource/WriteImgRes.c ****                     return MMI_FALSE;
 4767              	LM278:
 4768 2122 C785C4EB 		movl	$0, -5180(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 69


 4768      FFFF0000 
 4768      0000
 4769 212c E9390200 		jmp	L145
 4769      00
 4770              	L174:
1056:../../MMI/Resource/WriteImgRes.c ****                 }
1057:../../MMI/Resource/WriteImgRes.c ****                 else
1058:../../MMI/Resource/WriteImgRes.c ****                 {
1059:../../MMI/Resource/WriteImgRes.c ****                     if (toolFlag)
 4772              	LM279:
 4773 2131 833D0000 		cmpl	$0, _toolFlag
 4773      000000
 4774 2138 741B     		je	L151
1060:../../MMI/Resource/WriteImgRes.c ****                     {
1061:../../MMI/Resource/WriteImgRes.c ****                         resultFailFlag = 0;
 4776              	LM280:
 4777 213a C7050000 		movl	$0, _resultFailFlag
 4777      00000000 
 4777      0000
1062:../../MMI/Resource/WriteImgRes.c ****                     }
1063:../../MMI/Resource/WriteImgRes.c ****                 }
1064:../../MMI/Resource/WriteImgRes.c ****                 break;
 4779              	LM281:
 4780 2144 EB0F     		jmp	L151
 4781              	L178:
1065:../../MMI/Resource/WriteImgRes.c **** 
1066:../../MMI/Resource/WriteImgRes.c ****             default:
1067:../../MMI/Resource/WriteImgRes.c ****                 return MMI_FALSE;
 4783              	LM282:
 4784 2146 C785C4EB 		movl	$0, -5180(%ebp)
 4784      FFFF0000 
 4784      0000
 4785 2150 E9150200 		jmp	L145
 4785      00
 4786              	L151:
1068:../../MMI/Resource/WriteImgRes.c ****         }
1069:../../MMI/Resource/WriteImgRes.c **** 
1070:../../MMI/Resource/WriteImgRes.c ****         if (toolFlag == 0)
 4788              	LM283:
 4789 2155 833D0000 		cmpl	$0, _toolFlag
 4789      000000
 4790 215c 0F85FE01 		jne	L194
 4790      0000
1071:../../MMI/Resource/WriteImgRes.c ****         {
1072:../../MMI/Resource/WriteImgRes.c ****             FILE *fp;
1073:../../MMI/Resource/WriteImgRes.c **** 
1074:../../MMI/Resource/WriteImgRes.c ****             fp = fopen(tempDestFile, "rb");
 4792              	LM284:
 4793              	LBB27:
 4794 2162 C7442404 		movl	$LC58, 4(%esp)
 4794      F30C0000 
 4795 216a 8D85E8EF 		leal	-4120(%ebp), %eax
 4795      FFFF
 4796 2170 890424   		movl	%eax, (%esp)
 4797 2173 E8000000 		call	_fopen
 4797      00
 4798 2178 8985D0EB 		movl	%eax, -5168(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 70


 4798      FFFF
1075:../../MMI/Resource/WriteImgRes.c ****             if (fp != NULL)
 4800              	LM285:
 4801 217e 83BDD0EB 		cmpl	$0, -5168(%ebp)
 4801      FFFF00
 4802 2185 0F84D501 		je	L194
 4802      0000
1076:../../MMI/Resource/WriteImgRes.c ****             {
1077:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1078:../../MMI/Resource/WriteImgRes.c ****                 if (g_is_compressed)
1079:../../MMI/Resource/WriteImgRes.c ****                 {
1080:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) U8 %s[%d];\n", output_name, g_res_c
1081:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s_zip[] =\n", output_name
1082:../../MMI/Resource/WriteImgRes.c **** 
1083:../../MMI/Resource/WriteImgRes.c ****                     strcpy(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, output_
1084:../../MMI/Resource/WriteImgRes.c ****                     strcpy(g_res_compress_data_image[g_res_compress_count_image-1].zi_name, output_
1085:../../MMI/Resource/WriteImgRes.c ****                     strcat(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, "_zip")
1086:../../MMI/Resource/WriteImgRes.c ****                 }
1087:../../MMI/Resource/WriteImgRes.c ****                 else
1088:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_IMAGE_COMPRESS__ */
1089:../../MMI/Resource/WriteImgRes.c ****                 {
1090:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s[] =\n", output_name);
 4804              	LM286:
 4805              	LBB28:
 4806 218b 8B4510   		movl	16(%ebp), %eax
 4807 218e 89442408 		movl	%eax, 8(%esp)
 4808 2192 C7442404 		movl	$LC64, 4(%esp)
 4808      F81B0000 
 4809 219a 8B4514   		movl	20(%ebp), %eax
 4810 219d 890424   		movl	%eax, (%esp)
 4811 21a0 E8000000 		call	_ImageOutStreamPrintf
 4811      00
1091:../../MMI/Resource/WriteImgRes.c ****                 }
1092:../../MMI/Resource/WriteImgRes.c **** 
1093:../../MMI/Resource/WriteImgRes.c ****                 if (extImageFlag == NFB_PROGRESS_IMAGE)
 4813              	LM287:
 4814 21a5 837D1802 		cmpl	$2, 24(%ebp)
 4815 21a9 0F85AD00 		jne	L183
 4815      0000
1094:../../MMI/Resource/WriteImgRes.c ****                 {
1095:../../MMI/Resource/WriteImgRes.c ****                     if (nfb_img_res_file != NULL)
 4817              	LM288:
 4818 21af 837D2400 		cmpl	$0, 36(%ebp)
 4819 21b3 0F848700 		je	L184
 4819      0000
1096:../../MMI/Resource/WriteImgRes.c ****                     {
1097:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE in Write_Processed_Data, type = %d",
 4821              	LM289:
 4822 21b9 0FB645F7 		movzbl	-9(%ebp), %eax
 4823 21bd 8944240C 		movl	%eax, 12(%esp)
 4824 21c1 C7442408 		movl	$LC71, 8(%esp)
 4824      001D0000 
 4825 21c9 C7442404 		movl	$LC34, 4(%esp)
 4825      64060000 
 4826 21d1 C7042401 		movl	$1, (%esp)
 4826      000000
 4827 21d8 E8000000 		call	_reslog_adaptor_log
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 71


 4827      00
1098:../../MMI/Resource/WriteImgRes.c **** 
1099:../../MMI/Resource/WriteImgRes.c ****                         if(output_name != NULL){
 4829              	LM290:
 4830 21dd 837D1000 		cmpl	$0, 16(%ebp)
 4831 21e1 743F     		je	L185
1100:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_V("output_name = %s", output_name);
 4833              	LM291:
 4834 21e3 8B4510   		movl	16(%ebp), %eax
 4835 21e6 8944240C 		movl	%eax, 12(%esp)
 4836 21ea C7442408 		movl	$LC67, 8(%esp)
 4836      A41C0000 
 4837 21f2 C7442404 		movl	$LC34, 4(%esp)
 4837      64060000 
 4838 21fa C7042401 		movl	$1, (%esp)
 4838      000000
 4839 2201 E8000000 		call	_reslog_adaptor_log
 4839      00
1101:../../MMI/Resource/WriteImgRes.c ****                             fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 4841              	LM292:
 4842 2206 8B4510   		movl	16(%ebp), %eax
 4843 2209 89442408 		movl	%eax, 8(%esp)
 4844 220d C7442404 		movl	$LC68, 4(%esp)
 4844      B51C0000 
 4845 2215 8B4524   		movl	36(%ebp), %eax
 4846 2218 890424   		movl	%eax, (%esp)
 4847 221b E8000000 		call	_fprintf
 4847      00
 4848 2220 EB3A     		jmp	L183
 4849              	L185:
1102:../../MMI/Resource/WriteImgRes.c ****                         }
1103:../../MMI/Resource/WriteImgRes.c ****                         else
1104:../../MMI/Resource/WriteImgRes.c ****                         {
1105:../../MMI/Resource/WriteImgRes.c ****                             RESIMG_LOG_E("output_name can't be NULL!!");
 4851              	LM293:
 4852 2222 C7442408 		movl	$LC69, 8(%esp)
 4852      C01C0000 
 4853 222a C7442404 		movl	$LC34, 4(%esp)
 4853      64060000 
 4854 2232 C7042403 		movl	$3, (%esp)
 4854      000000
 4855 2239 E8000000 		call	_reslog_adaptor_log
 4855      00
 4856 223e EB1C     		jmp	L183
 4857              	L184:
1106:../../MMI/Resource/WriteImgRes.c ****                         }
1107:../../MMI/Resource/WriteImgRes.c ****                     }
1108:../../MMI/Resource/WriteImgRes.c ****                     else
1109:../../MMI/Resource/WriteImgRes.c ****                     {
1110:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_E("nfb_img_res_file not opened");
 4859              	LM294:
 4860 2240 C7442408 		movl	$LC70, 8(%esp)
 4860      DC1C0000 
 4861 2248 C7442404 		movl	$LC34, 4(%esp)
 4861      64060000 
 4862 2250 C7042403 		movl	$3, (%esp)
 4862      000000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 72


 4863 2257 E8000000 		call	_reslog_adaptor_log
 4863      00
 4864              	L183:
1111:../../MMI/Resource/WriteImgRes.c ****                     }
1112:../../MMI/Resource/WriteImgRes.c ****                 }
1113:../../MMI/Resource/WriteImgRes.c **** 
1114:../../MMI/Resource/WriteImgRes.c ****                 //const int buffer_size = 64 * 1024;
1115:../../MMI/Resource/WriteImgRes.c ****                 const int buffer_size = 200;
 4866              	LM295:
 4867 225c C785CCEB 		movl	$200, -5172(%ebp)
 4867      FFFFC800 
 4867      0000
1116:../../MMI/Resource/WriteImgRes.c ****                 while (!feof(fp))
 4869              	LM296:
 4870              	L188:
 4871 2266 8B85D0EB 		movl	-5168(%ebp), %eax
 4871      FFFF
 4872 226c 890424   		movl	%eax, (%esp)
 4873 226f E8000000 		call	_feof
 4873      00
 4874 2274 85C0     		testl	%eax, %eax
 4875 2276 7405     		je	L190
 4876 2278 E9A10000 		jmp	L189
 4876      00
 4877              	L190:
 4878              	LBB29:
 4879 227d 89A5BCEB 		movl	%esp, -5188(%ebp)
 4879      FFFF
1117:../../MMI/Resource/WriteImgRes.c ****                 {
1118:../../MMI/Resource/WriteImgRes.c ****                     S8 buffer[buffer_size];
 4881              	LM297:
 4882 2283 8B85CCEB 		movl	-5172(%ebp), %eax
 4882      FFFF
 4883 2289 83C00F   		addl	$15, %eax
 4884 228c C1E804   		shrl	$4, %eax
 4885 228f C1E004   		sall	$4, %eax
 4886 2292 8985B4EB 		movl	%eax, -5196(%ebp)
 4886      FFFF
 4887 2298 8B85B4EB 		movl	-5196(%ebp), %eax
 4887      FFFF
 4888 229e E8000000 		call	__alloca
 4888      00
 4889 22a3 8D442418 		leal	24(%esp), %eax
 4890 22a7 8985B8EB 		movl	%eax, -5192(%ebp)
 4890      FFFF
1119:../../MMI/Resource/WriteImgRes.c ****                     size_t size;
1120:../../MMI/Resource/WriteImgRes.c **** 
1121:../../MMI/Resource/WriteImgRes.c ****                     size = fread(buffer, 1, buffer_size, fp);
 4892              	LM298:
 4893 22ad 8B85D0EB 		movl	-5168(%ebp), %eax
 4893      FFFF
 4894 22b3 8944240C 		movl	%eax, 12(%esp)
 4895 22b7 8B85CCEB 		movl	-5172(%ebp), %eax
 4895      FFFF
 4896 22bd 89442408 		movl	%eax, 8(%esp)
 4897 22c1 C7442404 		movl	$1, 4(%esp)
 4897      01000000 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 73


 4898 22c9 8B85B8EB 		movl	-5192(%ebp), %eax
 4898      FFFF
 4899 22cf 890424   		movl	%eax, (%esp)
 4900 22d2 E8000000 		call	_fread
 4900      00
 4901 22d7 8985C8EB 		movl	%eax, -5176(%ebp)
 4901      FFFF
1122:../../MMI/Resource/WriteImgRes.c ****                     if (size > 0 && size <= buffer_size)
 4903              	LM299:
 4904 22dd 83BDC8EB 		cmpl	$0, -5176(%ebp)
 4904      FFFF00
 4905 22e4 742D     		je	L191
 4906 22e6 8B85C8EB 		movl	-5176(%ebp), %eax
 4906      FFFF
 4907 22ec 3B85CCEB 		cmpl	-5172(%ebp), %eax
 4907      FFFF
 4908 22f2 771F     		ja	L191
1123:../../MMI/Resource/WriteImgRes.c ****                     {
1124:../../MMI/Resource/WriteImgRes.c ****                         ImageOutStreamAppend(outstream, buffer, size);
 4910              	LM300:
 4911 22f4 8B85C8EB 		movl	-5176(%ebp), %eax
 4911      FFFF
 4912 22fa 89442408 		movl	%eax, 8(%esp)
 4913 22fe 8B85B8EB 		movl	-5192(%ebp), %eax
 4913      FFFF
 4914 2304 89442404 		movl	%eax, 4(%esp)
 4915 2308 8B4514   		movl	20(%ebp), %eax
 4916 230b 890424   		movl	%eax, (%esp)
 4917 230e E8000000 		call	_ImageOutStreamAppend
 4917      00
 4918              	L191:
 4919 2313 8BA5BCEB 		movl	-5188(%ebp), %esp
 4919      FFFF
 4920              	LBE29:
 4921 2319 E948FFFF 		jmp	L188
 4921      FF
 4922              	L189:
1125:../../MMI/Resource/WriteImgRes.c ****                     }
1126:../../MMI/Resource/WriteImgRes.c ****                 }
1127:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n");
 4924              	LM301:
 4925 231e C7442404 		movl	$LC72, 4(%esp)
 4925      3C1D0000 
 4926 2326 8B4514   		movl	20(%ebp), %eax
 4927 2329 890424   		movl	%eax, (%esp)
 4928 232c E8000000 		call	_ImageOutStreamPrintf
 4928      00
1128:../../MMI/Resource/WriteImgRes.c **** 
1129:../../MMI/Resource/WriteImgRes.c ****                 MYFCLOSE(fp);
 4930              	LM302:
 4931 2331 83BDD0EB 		cmpl	$0, -5168(%ebp)
 4931      FFFF00
 4932 2338 7426     		je	L194
 4933 233a 8B85D0EB 		movl	-5168(%ebp), %eax
 4933      FFFF
 4934 2340 890424   		movl	%eax, (%esp)
 4935 2343 E8000000 		call	_fclose
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 74


 4935      00
 4936 2348 C785D0EB 		movl	$0, -5168(%ebp)
 4936      FFFF0000 
 4936      0000
 4937              	LBE28:
 4938              	LBE27:
 4939              	LBE25:
 4940 2352 EB0C     		jmp	L194
 4941              	L150:
1130:../../MMI/Resource/WriteImgRes.c ****             }
1131:../../MMI/Resource/WriteImgRes.c ****         }
1132:../../MMI/Resource/WriteImgRes.c ****     }
1133:../../MMI/Resource/WriteImgRes.c ****     else
1134:../../MMI/Resource/WriteImgRes.c ****     {
1135:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 4943              	LM303:
 4944 2354 C785C4EB 		movl	$0, -5180(%ebp)
 4944      FFFF0000 
 4944      0000
 4945 235e EB0A     		jmp	L145
 4946              	L194:
1136:../../MMI/Resource/WriteImgRes.c ****     }
1137:../../MMI/Resource/WriteImgRes.c **** 
1138:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 4948              	LM304:
 4949 2360 C785C4EB 		movl	$1, -5180(%ebp)
 4949      FFFF0100 
 4949      0000
1139:../../MMI/Resource/WriteImgRes.c **** }
 4951              	LM305:
 4952              	L145:
 4953              	LBE23:
 4954 236a 8B85C4EB 		movl	-5180(%ebp), %eax
 4954      FFFF
 4955 2370 C9       		leave
 4956 2371 C3       		ret
 4978              	Lscope6:
 4980 2372 8DB42600 		.align 32
 4980      0000008D 
 4980      BC270000 
 4980      0000
 4981              	LC73:
 4982 2380 2A2A2A57 		.ascii "***Warning***\11PNG file is not populated successfully.\12\11%s\12\0"
 4982      61726E69 
 4982      6E672A2A 
 4982      2A09504E 
 4982      47206669 
 4983 23bb 908D7426 		.align 32
 4983      00
 4984              	LC74:
 4985 23c0 2A2A2A57 		.ascii "***Warning***\11PNG file is not populated successfully.\12\11%s\0"
 4985      61726E69 
 4985      6E672A2A 
 4985      2A09504E 
 4985      47206669 
 4986              	LC75:
 4987 23fa 0A476574 		.ascii "\12Get dimensions failed:\11%s\0"
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 75


 4987      2064696D 
 4987      656E7369 
 4987      6F6E7320 
 4987      6661696C 
 4988              	LC76:
 4989 2415 5F5F616C 		.ascii "__align(4) \0"
 4989      69676E28 
 4989      34292000 
 4990              	LC77:
 4991 2421 5B5D203D 		.ascii "[] =\12{\0"
 4991      0A7B00
 4992              	LC78:
 4993 2428 636F6E73 		.ascii "const U8 %s%s\0"
 4993      74205538 
 4993      20257325 
 4993      7300
 4994              	LC79:
 4995 2436 57726974 		.ascii "Write NFB_PROGRESS_IMAGE\0"
 4995      65204E46 
 4995      425F5052 
 4995      4F475245 
 4995      53535F49 
 4996 244f 90909090 		.align 32
 4996      90909090 
 4996      90909090 
 4996      90909090 
 4996      90
 4997              	LC80:
 4998 2460 57726974 		.ascii "Write output name to nfb_img_res_file: %s\0"
 4998      65206F75 
 4998      74707574 
 4998      206E616D 
 4998      6520746F 
 4999 248a 90909090 		.align 32
 4999      90909090 
 4999      90909090 
 4999      90909090 
 4999      90909090 
 5000              	LC81:
 5001 24a0 4F757470 		.ascii "Output name can't be NULL in Write_Unprocessed_Data\0"
 5001      7574206E 
 5001      616D6520 
 5001      63616E27 
 5001      74206265 
 5002 24d4 8DB60000 		.align 32
 5002      00008DBF 
 5002      00000000 
 5003              	LC82:
 5004 24e0 6E66625F 		.ascii "nfb_img_res_file is not opened\0"
 5004      696D675F 
 5004      7265735F 
 5004      66696C65 
 5004      20697320 
 5005              	LC83:
 5006 24ff 0A207D3B 		.ascii "\12 };\12\0"
 5006      0A00
 5019              	_Write_Unprocessed_Data:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 76


1140:../../MMI/Resource/WriteImgRes.c **** 
1141:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1142:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1143:../../MMI/Resource/WriteImgRes.c ****  *  Write_Unprocessed_Data
1144:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1145:../../MMI/Resource/WriteImgRes.c ****  *  write unprocessed data
1146:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1147:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
1148:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
1149:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
1150:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1151:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
1152:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1153:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Unprocessed_Data(
1154:../../MMI/Resource/WriteImgRes.c ****         char *filename,
1155:../../MMI/Resource/WriteImgRes.c ****         FILE *image_file,
1156:../../MMI/Resource/WriteImgRes.c ****         S32 nImageSize,
1157:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
1158:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1159:../../MMI/Resource/WriteImgRes.c ****         image_type_enum extImageFlag,
1160:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1161:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
1162:../../MMI/Resource/WriteImgRes.c ****         FILE *nfb_img_res_file,
1163:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1164:../../MMI/Resource/WriteImgRes.c **** {
 5021              	LM306:
 5022 2505 55       		pushl	%ebp
 5023 2506 89E5     		movl	%esp, %ebp
 5024 2508 53       		pushl	%ebx
 5025 2509 81EC9400 		subl	$148, %esp
 5025      0000
1165:../../MMI/Resource/WriteImgRes.c ****     U8 image_identifier;
1166:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL failure_flag = MMI_TRUE;
 5027              	LM307:
 5028              	LBB30:
 5029 250f C745F001 		movl	$1, -16(%ebp)
 5029      000000
1167:../../MMI/Resource/WriteImgRes.c ****     S32 n_frames = 0;
 5031              	LM308:
 5032 2516 C745EC00 		movl	$0, -20(%ebp)
 5032      000000
1168:../../MMI/Resource/WriteImgRes.c ****     U32 width = 0, height = 0;
 5034              	LM309:
 5035 251d C745E800 		movl	$0, -24(%ebp)
 5035      000000
 5036 2524 C745E400 		movl	$0, -28(%ebp)
 5036      000000
1169:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1170:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
1171:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
1172:../../MMI/Resource/WriteImgRes.c **** #endif
1173:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1174:../../MMI/Resource/WriteImgRes.c ****     U8 *dest_buf = NULL;
1175:../../MMI/Resource/WriteImgRes.c ****     U32 dest_size = 0;
1176:../../MMI/Resource/WriteImgRes.c ****     U32 file_size = 0;
1177:../../MMI/Resource/WriteImgRes.c **** #endif
1178:../../MMI/Resource/WriteImgRes.c ****     /* Currently assuming that all single files are BMP */
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 77


1179:../../MMI/Resource/WriteImgRes.c ****     if (nImageSize == 0)
 5038              	LM310:
 5039 252b 837D1000 		cmpl	$0, 16(%ebp)
 5040 252f 7506     		jne	L196
1180:../../MMI/Resource/WriteImgRes.c ****     {
1181:../../MMI/Resource/WriteImgRes.c ****         image_identifier = IMAGE_TYPE_INVALID;
 5042              	LM311:
 5043 2531 C645F700 		movb	$0, -9(%ebp)
 5044 2535 EB16     		jmp	L197
 5045              	L196:
1182:../../MMI/Resource/WriteImgRes.c ****     }
1183:../../MMI/Resource/WriteImgRes.c ****     else
1184:../../MMI/Resource/WriteImgRes.c ****     {
1185:../../MMI/Resource/WriteImgRes.c ****         /* for read images with same filename but different in ".bmp" and ".gif" */
1186:../../MMI/Resource/WriteImgRes.c ****         image_identifier = ExtractExtension(filename, RES_IMAGE);
 5047              	LM312:
 5048 2537 C7442404 		movl	$0, 4(%esp)
 5048      00000000 
 5049 253f 8B4508   		movl	8(%ebp), %eax
 5050 2542 890424   		movl	%eax, (%esp)
 5051 2545 E8000000 		call	_ExtractExtension
 5051      00
 5052 254a 8845F7   		movb	%al, -9(%ebp)
 5053              	L197:
1187:../../MMI/Resource/WriteImgRes.c ****     }
1188:../../MMI/Resource/WriteImgRes.c **** 
1189:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG)
1190:../../MMI/Resource/WriteImgRes.c ****     /* IMAGE_TYPE_PNG is only for future usage.
1191:../../MMI/Resource/WriteImgRes.c ****      * Currently, output PNG format for image resource is not allowed */
1192:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_PNG)
 5055              	LM313:
 5056 254d 807DF713 		cmpb	$19, -9(%ebp)
 5057 2551 754E     		jne	L198
1193:../../MMI/Resource/WriteImgRes.c ****     {
1194:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "***Warning***\tPNG file is not populated successfully.\n\t%s\n", filename)
 5059              	LM314:
 5060 2553 8B4508   		movl	8(%ebp), %eax
 5061 2556 89442408 		movl	%eax, 8(%esp)
 5062 255a C7442404 		movl	$LC73, 4(%esp)
 5062      80230000 
 5063 2562 A1000000 		movl	__imp___iob, %eax
 5063      00
 5064 2567 83C040   		addl	$64, %eax
 5065 256a 890424   		movl	%eax, (%esp)
 5066 256d E8000000 		call	_fprintf
 5066      00
1195:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("***Warning***\tPNG file is not populated successfully.\n\t%s", filename);
 5068              	LM315:
 5069 2572 8B4508   		movl	8(%ebp), %eax
 5070 2575 8944240C 		movl	%eax, 12(%esp)
 5071 2579 C7442408 		movl	$LC74, 8(%esp)
 5071      C0230000 
 5072 2581 C7442404 		movl	$LC34, 4(%esp)
 5072      64060000 
 5073 2589 C7042403 		movl	$3, (%esp)
 5073      000000
 5074 2590 E8000000 		call	_reslog_adaptor_log
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 78


 5074      00
1196:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 5076              	LM316:
 5077 2595 C7459C00 		movl	$0, -100(%ebp)
 5077      000000
 5078 259c E9070300 		jmp	L195
 5078      00
 5079              	L198:
1197:../../MMI/Resource/WriteImgRes.c ****     }
1198:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1199:../../MMI/Resource/WriteImgRes.c **** 
1200:../../MMI/Resource/WriteImgRes.c **** #ifdef GDI_USING_IMAGE_SINGLE_BANK_CACHE
1201:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_GIF ||
1202:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_JPG)
1203:../../MMI/Resource/WriteImgRes.c ****     {
1204:../../MMI/Resource/WriteImgRes.c ****         FILE *fp;
1205:../../MMI/Resource/WriteImgRes.c **** 
1206:../../MMI/Resource/WriteImgRes.c ****         fp = fopen(filename, "rb");
1207:../../MMI/Resource/WriteImgRes.c ****         if (fp != NULL)
1208:../../MMI/Resource/WriteImgRes.c ****         {
1209:../../MMI/Resource/WriteImgRes.c ****             S32 fs;
1210:../../MMI/Resource/WriteImgRes.c **** 
1211:../../MMI/Resource/WriteImgRes.c ****             fseek(fp, 0, SEEK_END);
1212:../../MMI/Resource/WriteImgRes.c ****             fs = ftell(fp);
1213:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(fp);
1214:../../MMI/Resource/WriteImgRes.c **** 
1215:../../MMI/Resource/WriteImgRes.c ****             if ((fs + 8/* header */) > GDI_IMAGE_SINGLE_BANK_CACHE_SIZE)
1216:../../MMI/Resource/WriteImgRes.c ****             {
1217:../../MMI/Resource/WriteImgRes.c ****                 fprintf(stderr, "[Single Bank]:\timage oversize,\t%s\n", filename);
1218:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("[Single Bank]:\timage oversize,\t%s\n", filename);
1219:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
1220:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
1221:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
1222:../../MMI/Resource/WriteImgRes.c ****             }
1223:../../MMI/Resource/WriteImgRes.c ****         }
1224:../../MMI/Resource/WriteImgRes.c ****         else
1225:../../MMI/Resource/WriteImgRes.c ****         {
1226:../../MMI/Resource/WriteImgRes.c ****             failure_flag = MMI_FALSE;
1227:../../MMI/Resource/WriteImgRes.c ****         }
1228:../../MMI/Resource/WriteImgRes.c ****     }
1229:../../MMI/Resource/WriteImgRes.c **** #endif
1230:../../MMI/Resource/WriteImgRes.c **** 
1231:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_TRUE)
 5081              	LM317:
 5082 25a1 837DF001 		cmpl	$1, -16(%ebp)
 5083 25a5 0F853E01 		jne	L199
 5083      0000
1232:../../MMI/Resource/WriteImgRes.c ****     {
1233:../../MMI/Resource/WriteImgRes.c ****         /* get frame count, width and height of the image */
1234:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_BMP ||
 5085              	LM318:
 5086 25ab 807DF701 		cmpb	$1, -9(%ebp)
 5087 25af 7414     		je	L201
 5088 25b1 807DF703 		cmpb	$3, -9(%ebp)
 5089 25b5 740E     		je	L201
 5090 25b7 807DF709 		cmpb	$9, -9(%ebp)
 5091 25bb 7408     		je	L201
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 79


 5092 25bd 807DF713 		cmpb	$19, -9(%ebp)
 5093 25c1 7402     		je	L201
 5094 25c3 EB45     		jmp	L200
 5095              	L201:
1235:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_GIF ||
1236:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_JPG ||
1237:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_PNG)
1238:../../MMI/Resource/WriteImgRes.c ****         {
1239:../../MMI/Resource/WriteImgRes.c ****             n_frames = Image_Get_Dimensions(filename, &width, &height);
 5097              	LM319:
 5098 25c5 8D45E4   		leal	-28(%ebp), %eax
 5099 25c8 89442408 		movl	%eax, 8(%esp)
 5100 25cc 8D45E8   		leal	-24(%ebp), %eax
 5101 25cf 89442404 		movl	%eax, 4(%esp)
 5102 25d3 8B4508   		movl	8(%ebp), %eax
 5103 25d6 890424   		movl	%eax, (%esp)
 5104 25d9 E8000000 		call	_Image_Get_Dimensions
 5104      00
 5105 25de 8945EC   		movl	%eax, -20(%ebp)
1240:../../MMI/Resource/WriteImgRes.c ****             if (n_frames <= 0)
 5107              	LM320:
 5108 25e1 837DEC00 		cmpl	$0, -20(%ebp)
 5109 25e5 0F8FFE00 		jg	L199
 5109      0000
1241:../../MMI/Resource/WriteImgRes.c ****             {
1242:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("\nGet dimensions failed:\t%s", filename);
 5111              	LM321:
 5112 25eb 8B4508   		movl	8(%ebp), %eax
 5113 25ee 89442404 		movl	%eax, 4(%esp)
 5114 25f2 C70424FA 		movl	$LC75, (%esp)
 5114      230000
 5115 25f9 E8000000 		call	_MtkResgenTrace
 5115      00
1243:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 5117              	LM322:
 5118 25fe C745F000 		movl	$0, -16(%ebp)
 5118      000000
 5119 2605 E9DF0000 		jmp	L199
 5119      00
 5120              	L200:
1244:../../MMI/Resource/WriteImgRes.c ****             }
1245:../../MMI/Resource/WriteImgRes.c ****         }
1246:../../MMI/Resource/WriteImgRes.c ****         else if (image_identifier == IMAGE_TYPE_KTX)
 5122              	LM323:
 5123 260a 807DF743 		cmpb	$67, -9(%ebp)
 5124 260e 0F85D500 		jne	L199
 5124      0000
1247:../../MMI/Resource/WriteImgRes.c ****         {
1248:../../MMI/Resource/WriteImgRes.c ****             FILE * fp = NULL;
 5126              	LM324:
 5127              	LBB31:
 5128 2614 C745E000 		movl	$0, -32(%ebp)
 5128      000000
1249:../../MMI/Resource/WriteImgRes.c ****             U8 tempBuffer[44];
1250:../../MMI/Resource/WriteImgRes.c ****             fp = fopen(filename, "rb");
 5130              	LM325:
 5131 261b C7442404 		movl	$LC58, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 80


 5131      F30C0000 
 5132 2623 8B4508   		movl	8(%ebp), %eax
 5133 2626 890424   		movl	%eax, (%esp)
 5134 2629 E8000000 		call	_fopen
 5134      00
 5135 262e 8945E0   		movl	%eax, -32(%ebp)
1251:../../MMI/Resource/WriteImgRes.c ****             if (fp != NULL)
 5137              	LM326:
 5138 2631 837DE000 		cmpl	$0, -32(%ebp)
 5139 2635 0F84AE00 		je	L199
 5139      0000
1252:../../MMI/Resource/WriteImgRes.c ****             {
1253:../../MMI/Resource/WriteImgRes.c ****                 U8 read_count = fread(tempBuffer, 1, 44, fp);
 5141              	LM327:
 5142              	LBB32:
 5143 263b 8B45E0   		movl	-32(%ebp), %eax
 5144 263e 8944240C 		movl	%eax, 12(%esp)
 5145 2642 C7442408 		movl	$44, 8(%esp)
 5145      2C000000 
 5146 264a C7442404 		movl	$1, 4(%esp)
 5146      01000000 
 5147 2652 8D45A8   		leal	-88(%ebp), %eax
 5148 2655 890424   		movl	%eax, (%esp)
 5149 2658 E8000000 		call	_fread
 5149      00
 5150 265d 8845A7   		movb	%al, -89(%ebp)
1254:../../MMI/Resource/WriteImgRes.c ****                 if (read_count == 44)
 5152              	LM328:
 5153 2660 807DA72C 		cmpb	$44, -89(%ebp)
 5154 2664 7578     		jne	L206
1255:../../MMI/Resource/WriteImgRes.c ****                 {
1256:../../MMI/Resource/WriteImgRes.c ****                     U8 *data_ptr = tempBuffer;
 5156              	LM329:
 5157              	LBB33:
 5158 2666 8D45A8   		leal	-88(%ebp), %eax
 5159 2669 8945A0   		movl	%eax, -96(%ebp)
1257:../../MMI/Resource/WriteImgRes.c ****                     data_ptr += 36;
 5161              	LM330:
 5162 266c 8D45A0   		leal	-96(%ebp), %eax
 5163 266f 830024   		addl	$36, (%eax)
1258:../../MMI/Resource/WriteImgRes.c ****                     width = (data_ptr[3] << 24) | (data_ptr[2] << 16) | (data_ptr[1] << 8) | (data_
 5165              	LM331:
 5166 2672 8B45A0   		movl	-96(%ebp), %eax
 5167 2675 83C003   		addl	$3, %eax
 5168 2678 0FB600   		movzbl	(%eax), %eax
 5169 267b 89C2     		movl	%eax, %edx
 5170 267d C1E218   		sall	$24, %edx
 5171 2680 8B45A0   		movl	-96(%ebp), %eax
 5172 2683 83C002   		addl	$2, %eax
 5173 2686 0FB600   		movzbl	(%eax), %eax
 5174 2689 C1E010   		sall	$16, %eax
 5175 268c 09C2     		orl	%eax, %edx
 5176 268e 8B45A0   		movl	-96(%ebp), %eax
 5177 2691 40       		incl	%eax
 5178 2692 0FB600   		movzbl	(%eax), %eax
 5179 2695 C1E008   		sall	$8, %eax
 5180 2698 09C2     		orl	%eax, %edx
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 81


 5181 269a 8B45A0   		movl	-96(%ebp), %eax
 5182 269d 0FB600   		movzbl	(%eax), %eax
 5183 26a0 09D0     		orl	%edx, %eax
 5184 26a2 8945E8   		movl	%eax, -24(%ebp)
1259:../../MMI/Resource/WriteImgRes.c ****                     data_ptr += 4;
 5186              	LM332:
 5187 26a5 8D45A0   		leal	-96(%ebp), %eax
 5188 26a8 830004   		addl	$4, (%eax)
1260:../../MMI/Resource/WriteImgRes.c ****                     height = (data_ptr[3] << 24) | (data_ptr[2] << 16) | (data_ptr[1] << 8) | (data
 5190              	LM333:
 5191 26ab 8B45A0   		movl	-96(%ebp), %eax
 5192 26ae 83C003   		addl	$3, %eax
 5193 26b1 0FB600   		movzbl	(%eax), %eax
 5194 26b4 89C2     		movl	%eax, %edx
 5195 26b6 C1E218   		sall	$24, %edx
 5196 26b9 8B45A0   		movl	-96(%ebp), %eax
 5197 26bc 83C002   		addl	$2, %eax
 5198 26bf 0FB600   		movzbl	(%eax), %eax
 5199 26c2 C1E010   		sall	$16, %eax
 5200 26c5 09C2     		orl	%eax, %edx
 5201 26c7 8B45A0   		movl	-96(%ebp), %eax
 5202 26ca 40       		incl	%eax
 5203 26cb 0FB600   		movzbl	(%eax), %eax
 5204 26ce C1E008   		sall	$8, %eax
 5205 26d1 09C2     		orl	%eax, %edx
 5206 26d3 8B45A0   		movl	-96(%ebp), %eax
 5207 26d6 0FB600   		movzbl	(%eax), %eax
 5208 26d9 09D0     		orl	%edx, %eax
 5209 26db 8945E4   		movl	%eax, -28(%ebp)
 5210              	L206:
1261:../../MMI/Resource/WriteImgRes.c ****                 }
1262:../../MMI/Resource/WriteImgRes.c ****                 fclose(fp);
 5212              	LM334:
 5213              	LBE33:
 5214 26de 8B45E0   		movl	-32(%ebp), %eax
 5215 26e1 890424   		movl	%eax, (%esp)
 5216 26e4 E8000000 		call	_fclose
 5216      00
 5217              	L199:
1263:../../MMI/Resource/WriteImgRes.c ****             }
1264:../../MMI/Resource/WriteImgRes.c ****         }
1265:../../MMI/Resource/WriteImgRes.c ****     }
1266:../../MMI/Resource/WriteImgRes.c **** 
1267:../../MMI/Resource/WriteImgRes.c ****     strcpy(processData->real_filename, filename);
 5219              	LM335:
 5220              	LBE32:
 5221              	LBE31:
 5222 26e9 8B4508   		movl	8(%ebp), %eax
 5223 26ec 89442404 		movl	%eax, 4(%esp)
 5224 26f0 8B452C   		movl	44(%ebp), %eax
 5225 26f3 890424   		movl	%eax, (%esp)
 5226 26f6 E8000000 		call	_strcpy
 5226      00
1268:../../MMI/Resource/WriteImgRes.c **** 
1269:../../MMI/Resource/WriteImgRes.c ****     if (failure_flag == MMI_TRUE)
 5228              	LM336:
 5229 26fb 837DF001 		cmpl	$1, -16(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 82


 5230 26ff 0F859D01 		jne	L207
 5230      0000
1270:../../MMI/Resource/WriteImgRes.c ****     {
1271:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
1272:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_BMP ||
1273:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_GIF ||
1274:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_JPG ||
1275:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_PNG)
1276:../../MMI/Resource/WriteImgRes.c ****         {
1277:../../MMI/Resource/WriteImgRes.c ****             U8 *buffer = NULL;
1278:../../MMI/Resource/WriteImgRes.c **** 
1279:../../MMI/Resource/WriteImgRes.c ****             fseek(image_file, 0, SEEK_END);
1280:../../MMI/Resource/WriteImgRes.c ****             file_size = ftell(image_file);
1281:../../MMI/Resource/WriteImgRes.c ****             fseek(image_file, 0, SEEK_SET);
1282:../../MMI/Resource/WriteImgRes.c **** 
1283:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_set_compress(TRUE);
1284:../../MMI/Resource/WriteImgRes.c ****             buffer = malloc(file_size);
1285:../../MMI/Resource/WriteImgRes.c ****             fread(buffer, 1, file_size, image_file);
1286:../../MMI/Resource/WriteImgRes.c ****             dest_buf = mmi_rg_compress_image(buffer, file_size, &dest_size, image_identifier, (((wi
1287:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_set_compress(FALSE);
1288:../../MMI/Resource/WriteImgRes.c ****         }
1289:../../MMI/Resource/WriteImgRes.c **** 
1290:../../MMI/Resource/WriteImgRes.c ****         if (g_is_compressed)
1291:../../MMI/Resource/WriteImgRes.c ****         {
1292:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "__align(4) U8 %s[%d];\n", output_name, g_res_compress_
1293:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "__align(4) const U8 %s_zip[] =\n{", output_name);
1294:../../MMI/Resource/WriteImgRes.c **** 
1295:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, output_name);
1296:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_res_compress_data_image[g_res_compress_count_image-1].zi_name, output_name);
1297:../../MMI/Resource/WriteImgRes.c ****             strcat(g_res_compress_data_image[g_res_compress_count_image-1].ro_name, "_zip");
1298:../../MMI/Resource/WriteImgRes.c **** 
1299:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_output_compressed_image(dest_buf, dest_size, outstream);
1300:../../MMI/Resource/WriteImgRes.c **** 
1301:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n };\n");
1302:../../MMI/Resource/WriteImgRes.c ****         }
1303:../../MMI/Resource/WriteImgRes.c ****         else
1304:../../MMI/Resource/WriteImgRes.c **** #endif
1305:../../MMI/Resource/WriteImgRes.c ****         {
1306:../../MMI/Resource/WriteImgRes.c ****             /* load the data */
1307:../../MMI/Resource/WriteImgRes.c ****             /* construct the data structure name */
1308:../../MMI/Resource/WriteImgRes.c ****             if (image_identifier == IMAGE_TYPE_GIF || image_identifier == IMAGE_TYPE_3GP ||
 5232              	LM337:
 5233 2705 807DF703 		cmpb	$3, -9(%ebp)
 5234 2709 7444     		je	L209
 5235 270b 807DF70E 		cmpb	$14, -9(%ebp)
 5236 270f 743E     		je	L209
 5237 2711 807DF710 		cmpb	$16, -9(%ebp)
 5238 2715 7438     		je	L209
 5239 2717 807DF70C 		cmpb	$12, -9(%ebp)
 5240 271b 7432     		je	L209
 5241 271d 807DF713 		cmpb	$19, -9(%ebp)
 5242 2721 742C     		je	L209
 5243 2723 807DF74A 		cmpb	$74, -9(%ebp)
 5244 2727 7426     		je	L209
 5245 2729 807DF74C 		cmpb	$76, -9(%ebp)
 5246 272d 7420     		je	L209
 5247 272f 807DF74E 		cmpb	$78, -9(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 83


 5248 2733 741A     		je	L209
 5249 2735 807DF719 		cmpb	$25, -9(%ebp)
 5250 2739 7414     		je	L209
 5251 273b 807DF71D 		cmpb	$29, -9(%ebp)
 5252 273f 740E     		je	L209
 5253 2741 807DF743 		cmpb	$67, -9(%ebp)
 5254 2745 7408     		je	L209
 5255 2747 807DF709 		cmpb	$9, -9(%ebp)
 5256 274b 7402     		je	L209
 5257 274d EB13     		jmp	L208
 5258              	L209:
1309:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_MP4 || image_identifier == IMAGE_TYPE_AVI ||
1310:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_PNG || image_identifier == IMAGE_TYPE_RV  ||
1311:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_RM  || image_identifier == IMAGE_TYPE_RMVB ||
1312:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_M3D || image_identifier == IMAGE_TYPE_SWFLASH ||
1313:../../MMI/Resource/WriteImgRes.c ****                 image_identifier == IMAGE_TYPE_KTX || image_identifier == IMAGE_TYPE_JPG)
1314:../../MMI/Resource/WriteImgRes.c ****             {
1315:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "__align(4) ");
 5260              	LM338:
 5261 274f C7442404 		movl	$LC76, 4(%esp)
 5261      15240000 
 5262 2757 8B4518   		movl	24(%ebp), %eax
 5263 275a 890424   		movl	%eax, (%esp)
 5264 275d E8000000 		call	_ImageOutStreamPrintf
 5264      00
 5265              	L208:
1316:../../MMI/Resource/WriteImgRes.c ****             }
1317:../../MMI/Resource/WriteImgRes.c **** 
1318:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "const U8 %s%s", output_name, OUTPUT_IMAGE_NAMES_END);
 5267              	LM339:
 5268 2762 C744240C 		movl	$LC77, 12(%esp)
 5268      21240000 
 5269 276a 8B4514   		movl	20(%ebp), %eax
 5270 276d 89442408 		movl	%eax, 8(%esp)
 5271 2771 C7442404 		movl	$LC78, 4(%esp)
 5271      28240000 
 5272 2779 8B4518   		movl	24(%ebp), %eax
 5273 277c 890424   		movl	%eax, (%esp)
 5274 277f E8000000 		call	_ImageOutStreamPrintf
 5274      00
1319:../../MMI/Resource/WriteImgRes.c **** 
1320:../../MMI/Resource/WriteImgRes.c **** 
1321:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1322:../../MMI/Resource/WriteImgRes.c ****             enfb_ret = Image_Test(filename, &enfb_width, &enfb_height, processData->disable_enfb);
1323:../../MMI/Resource/WriteImgRes.c ****             if (enfb_ret != ENFB_IMAGE_NONE)
1324:../../MMI/Resource/WriteImgRes.c ****             {
1325:../../MMI/Resource/WriteImgRes.c ****                 processData->enfb_flag = 1;
1326:../../MMI/Resource/WriteImgRes.c ****                 if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
1327:../../MMI/Resource/WriteImgRes.c ****                 {
1328:../../MMI/Resource/WriteImgRes.c ****                     ENFBAssociatedIDAdded = MMI_TRUE;
1329:../../MMI/Resource/WriteImgRes.c ****                 }
1330:../../MMI/Resource/WriteImgRes.c ****             }
1331:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
1332:../../MMI/Resource/WriteImgRes.c **** 
1333:../../MMI/Resource/WriteImgRes.c ****             processData->res_size = Load_Image_Data(outstream, image_file, image_identifier, n_fram
 5276              	LM340:
 5277 2784 8B5D2C   		movl	44(%ebp), %ebx
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 84


 5278 2787 8B452C   		movl	44(%ebp), %eax
 5279 278a 89442420 		movl	%eax, 32(%esp)
 5280 278e 8B4524   		movl	36(%ebp), %eax
 5281 2791 8944241C 		movl	%eax, 28(%esp)
 5282 2795 8B4520   		movl	32(%ebp), %eax
 5283 2798 89442418 		movl	%eax, 24(%esp)
 5284 279c 8B45E4   		movl	-28(%ebp), %eax
 5285 279f 89442414 		movl	%eax, 20(%esp)
 5286 27a3 8B45E8   		movl	-24(%ebp), %eax
 5287 27a6 89442410 		movl	%eax, 16(%esp)
 5288 27aa 8B45EC   		movl	-20(%ebp), %eax
 5289 27ad 8944240C 		movl	%eax, 12(%esp)
 5290 27b1 0FB645F7 		movzbl	-9(%ebp), %eax
 5291 27b5 89442408 		movl	%eax, 8(%esp)
 5292 27b9 8B450C   		movl	12(%ebp), %eax
 5293 27bc 89442404 		movl	%eax, 4(%esp)
 5294 27c0 8B4518   		movl	24(%ebp), %eax
 5295 27c3 890424   		movl	%eax, (%esp)
 5296 27c6 E88B1A00 		call	_Load_Image_Data
 5296      00
 5297 27cb 89830002 		movl	%eax, 512(%ebx)
 5297      0000
1334:../../MMI/Resource/WriteImgRes.c ****             if (processData->res_size == 0)
 5299              	LM341:
 5300 27d1 8B452C   		movl	44(%ebp), %eax
 5301 27d4 83B80002 		cmpl	$0, 512(%eax)
 5301      000000
 5302 27db 7507     		jne	L210
1335:../../MMI/Resource/WriteImgRes.c ****             {
1336:../../MMI/Resource/WriteImgRes.c ****                 failure_flag = MMI_FALSE;
 5304              	LM342:
 5305 27dd C745F000 		movl	$0, -16(%ebp)
 5305      000000
 5306              	L210:
1337:../../MMI/Resource/WriteImgRes.c ****             }
1338:../../MMI/Resource/WriteImgRes.c **** 
1339:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1340:../../MMI/Resource/WriteImgRes.c ****             processData->enfb_flag = 0;
1341:../../MMI/Resource/WriteImgRes.c **** #endif
1342:../../MMI/Resource/WriteImgRes.c **** 
1343:../../MMI/Resource/WriteImgRes.c ****             if (extImageFlag == NFB_PROGRESS_IMAGE)
 5308              	LM343:
 5309 27e4 837D1C02 		cmpl	$2, 28(%ebp)
 5310 27e8 0F85A100 		jne	L211
 5310      0000
1344:../../MMI/Resource/WriteImgRes.c ****             {
1345:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_V("Write NFB_PROGRESS_IMAGE");
 5312              	LM344:
 5313 27ee C7442408 		movl	$LC79, 8(%esp)
 5313      36240000 
 5314 27f6 C7442404 		movl	$LC34, 4(%esp)
 5314      64060000 
 5315 27fe C7042401 		movl	$1, (%esp)
 5315      000000
 5316 2805 E8000000 		call	_reslog_adaptor_log
 5316      00
1346:../../MMI/Resource/WriteImgRes.c ****    			
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 85


1347:../../MMI/Resource/WriteImgRes.c ****                 if (nfb_img_res_file != NULL)
 5318              	LM345:
 5319 280a 837D2800 		cmpl	$0, 40(%ebp)
 5320 280e 7463     		je	L212
1348:../../MMI/Resource/WriteImgRes.c ****                 {
1349:../../MMI/Resource/WriteImgRes.c ****                     if(output_name != NULL)
 5322              	LM346:
 5323 2810 837D1400 		cmpl	$0, 20(%ebp)
 5324 2814 743F     		je	L213
1350:../../MMI/Resource/WriteImgRes.c ****                     {
1351:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_V("Write output name to nfb_img_res_file: %s",output_name);
 5326              	LM347:
 5327 2816 8B4514   		movl	20(%ebp), %eax
 5328 2819 8944240C 		movl	%eax, 12(%esp)
 5329 281d C7442408 		movl	$LC80, 8(%esp)
 5329      60240000 
 5330 2825 C7442404 		movl	$LC34, 4(%esp)
 5330      64060000 
 5331 282d C7042401 		movl	$1, (%esp)
 5331      000000
 5332 2834 E8000000 		call	_reslog_adaptor_log
 5332      00
1352:../../MMI/Resource/WriteImgRes.c ****                         fprintf(nfb_img_res_file, "(U8*)&%s,\n", output_name);
 5334              	LM348:
 5335 2839 8B4514   		movl	20(%ebp), %eax
 5336 283c 89442408 		movl	%eax, 8(%esp)
 5337 2840 C7442404 		movl	$LC68, 4(%esp)
 5337      B51C0000 
 5338 2848 8B4528   		movl	40(%ebp), %eax
 5339 284b 890424   		movl	%eax, (%esp)
 5340 284e E8000000 		call	_fprintf
 5340      00
 5341 2853 EB3A     		jmp	L211
 5342              	L213:
1353:../../MMI/Resource/WriteImgRes.c ****                     }
1354:../../MMI/Resource/WriteImgRes.c ****                     else
1355:../../MMI/Resource/WriteImgRes.c ****                     {
1356:../../MMI/Resource/WriteImgRes.c ****                         RESIMG_LOG_E("Output name can't be NULL in Write_Unprocessed_Data");
 5344              	LM349:
 5345 2855 C7442408 		movl	$LC81, 8(%esp)
 5345      A0240000 
 5346 285d C7442404 		movl	$LC34, 4(%esp)
 5346      64060000 
 5347 2865 C7042403 		movl	$3, (%esp)
 5347      000000
 5348 286c E8000000 		call	_reslog_adaptor_log
 5348      00
 5349 2871 EB1C     		jmp	L211
 5350              	L212:
1357:../../MMI/Resource/WriteImgRes.c ****                     }
1358:../../MMI/Resource/WriteImgRes.c ****                 }
1359:../../MMI/Resource/WriteImgRes.c ****                 else
1360:../../MMI/Resource/WriteImgRes.c ****                 {
1361:../../MMI/Resource/WriteImgRes.c ****                     RESIMG_LOG_E("nfb_img_res_file is not opened");
 5352              	LM350:
 5353 2873 C7442408 		movl	$LC82, 8(%esp)
 5353      E0240000 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 86


 5354 287b C7442404 		movl	$LC34, 4(%esp)
 5354      64060000 
 5355 2883 C7042403 		movl	$3, (%esp)
 5355      000000
 5356 288a E8000000 		call	_reslog_adaptor_log
 5356      00
 5357              	L211:
1362:../../MMI/Resource/WriteImgRes.c ****                 }
1363:../../MMI/Resource/WriteImgRes.c ****             }
1364:../../MMI/Resource/WriteImgRes.c **** 
1365:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n };\n");
 5359              	LM351:
 5360 288f C7442404 		movl	$LC83, 4(%esp)
 5360      FF240000 
 5361 2897 8B4518   		movl	24(%ebp), %eax
 5362 289a 890424   		movl	%eax, (%esp)
 5363 289d E8000000 		call	_ImageOutStreamPrintf
 5363      00
 5364              	L207:
1366:../../MMI/Resource/WriteImgRes.c ****         }
1367:../../MMI/Resource/WriteImgRes.c ****     }
1368:../../MMI/Resource/WriteImgRes.c ****     return failure_flag;
 5366              	LM352:
 5367 28a2 8B45F0   		movl	-16(%ebp), %eax
 5368 28a5 89459C   		movl	%eax, -100(%ebp)
1369:../../MMI/Resource/WriteImgRes.c **** }
 5370              	LM353:
 5371              	L195:
 5372              	LBE30:
 5373 28a8 8B459C   		movl	-100(%ebp), %eax
 5374 28ab 81C49400 		addl	$148, %esp
 5374      0000
 5375 28b1 5B       		popl	%ebx
 5376 28b2 5D       		popl	%ebp
 5377 28b3 C3       		ret
 5395              	Lscope7:
 5397              	LC84:
 5398 28b4 25632563 		.ascii "%c%c%c%c%c%c%c%c\0"
 5398      25632563 
 5398      25632563 
 5398      25632563 
 5398      00
 5399              	LC85:
 5400 28c5 25632563 		.ascii "%c%c%c%c\0"
 5400      25632563 
 5400      00
 5401 28ce 90909090 		.align 32
 5401      90909090 
 5401      90909090 
 5401      90909090 
 5401      9090
 5402              	LC86:
 5403 28e0 0A09     		.ascii "\12\11"
 5404 28e2 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 5404      32582C20 
 5404      30782530 
 5404      32582C20 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 87


 5404      30782530 
 5405 2924 90909090 		.align 32
 5405      90909090 
 5405      90909090 
 5405      90909090 
 5405      90909090 
 5406              	LC87:
 5407 2940 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, \0"
 5407      32582C20 
 5407      30782530 
 5407      32582C20 
 5407      30782530 
 5408 2961 90909090 		.align 32
 5408      90909090 
 5408      90909090 
 5408      90909090 
 5408      90909090 
 5409              	LC88:
 5410 2980 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 5410      32582C20 
 5410      30782530 
 5410      32582C20 
 5410      30782530 
 5423              	_Write_Sequential_Image_Header:
1370:../../MMI/Resource/WriteImgRes.c **** 
1371:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1372:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1373:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image_Header
1374:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1375:../../MMI/Resource/WriteImgRes.c ****  *  construct the header for sequential images
1376:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1377:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        output file handle
1378:../../MMI/Resource/WriteImgRes.c ****  *  image_identifier        [IN]        sequential image type
1379:../../MMI/Resource/WriteImgRes.c ****  *  n_frames                [IN]        the number of the frames
1380:../../MMI/Resource/WriteImgRes.c ****  *  play_count              [IN]        number of playing times
1381:../../MMI/Resource/WriteImgRes.c ****  *  seq_filesize            [IN]        pointer to a list of file sizes
1382:../../MMI/Resource/WriteImgRes.c ****  *  seq_offset              [OUT]       pointer to a list of offsets
1383:../../MMI/Resource/WriteImgRes.c ****  *  width                   [IN]        maximun width
1384:../../MMI/Resource/WriteImgRes.c ****  *  height                  [IN]        maximun height
1385:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1386:../../MMI/Resource/WriteImgRes.c ****  *  void
1387:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1388:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_Header(
1389:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1390:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
1391:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
1392:../../MMI/Resource/WriteImgRes.c ****         U8 play_count,
1393:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_filesize,
1394:../../MMI/Resource/WriteImgRes.c ****         S32 *seq_offset,
1395:../../MMI/Resource/WriteImgRes.c ****         U32 width,
1396:../../MMI/Resource/WriteImgRes.c ****         U32 height,
1397:../../MMI/Resource/WriteImgRes.c ****         S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME],
1398:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1399:../../MMI/Resource/WriteImgRes.c **** {
 5425              	LM354:
 5426 29a2 55       		pushl	%ebp
 5427 29a3 89E5     		movl	%esp, %ebp
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 88


 5428 29a5 53       		pushl	%ebx
 5429 29a6 83EC44   		subl	$68, %esp
 5430 29a9 8B450C   		movl	12(%ebp), %eax
 5431 29ac 8B5514   		movl	20(%ebp), %edx
 5432 29af 8845FB   		movb	%al, -5(%ebp)
 5433 29b2 8855FA   		movb	%dl, -6(%ebp)
1400:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1401:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1402:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1403:../../MMI/Resource/WriteImgRes.c ****     S32 i;
1404:../../MMI/Resource/WriteImgRes.c ****     S32 offset = 8;
 5435              	LM355:
 5436              	LBB34:
 5437 29b5 C745F008 		movl	$8, -16(%ebp)
 5437      000000
1405:../../MMI/Resource/WriteImgRes.c ****     S32 real_size;
1406:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
1407:../../MMI/Resource/WriteImgRes.c **** 
1408:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1409:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1410:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1411:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 5439              	LM356:
 5440 29bc 8B4520   		movl	32(%ebp), %eax
 5441 29bf 25FF0F00 		andl	$4095, %eax
 5441      00
 5442 29c4 89C2     		movl	%eax, %edx
 5443 29c6 C1E20C   		sall	$12, %edx
 5444 29c9 8B4524   		movl	36(%ebp), %eax
 5445 29cc 25FF0F00 		andl	$4095, %eax
 5445      00
 5446 29d1 09D0     		orl	%edx, %eax
 5447 29d3 8945E8   		movl	%eax, -24(%ebp)
1412:../../MMI/Resource/WriteImgRes.c **** 
1413:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag == 1)
 5449              	LM357:
 5450 29d6 833D0000 		cmpl	$1, _toolFlag
 5450      000001
 5451 29dd 0F851002 		jne	L217
 5451      0000
1414:../../MMI/Resource/WriteImgRes.c ****     {
1415:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1416:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c%c%c%c%c%c%c",
 5453              	LM358:
 5454 29e3 8B45E8   		movl	-24(%ebp), %eax
 5455 29e6 250000FF 		andl	$16711680, %eax
 5455      00
 5456 29eb C1E810   		shrl	$16, %eax
 5457 29ee 89442424 		movl	%eax, 36(%esp)
 5458 29f2 8B45E8   		movl	-24(%ebp), %eax
 5459 29f5 2500FF00 		andl	$65280, %eax
 5459      00
 5460 29fa C1E808   		shrl	$8, %eax
 5461 29fd 89442420 		movl	%eax, 32(%esp)
 5462 2a01 0FB645E8 		movzbl	-24(%ebp),%eax
 5463 2a05 8944241C 		movl	%eax, 28(%esp)
 5464 2a09 C7442418 		movl	$0, 24(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 89


 5464      00000000 
 5465 2a11 C7442414 		movl	$0, 20(%esp)
 5465      00000000 
 5466 2a19 0FB645FA 		movzbl	-6(%ebp), %eax
 5467 2a1d 89442410 		movl	%eax, 16(%esp)
 5468 2a21 8B4510   		movl	16(%ebp), %eax
 5469 2a24 8944240C 		movl	%eax, 12(%esp)
 5470 2a28 0FB645FB 		movzbl	-5(%ebp), %eax
 5471 2a2c 89442408 		movl	%eax, 8(%esp)
 5472 2a30 C7442404 		movl	$LC84, 4(%esp)
 5472      B4280000 
 5473 2a38 A1000000 		movl	_dest_file, %eax
 5473      00
 5474 2a3d 890424   		movl	%eax, (%esp)
 5475 2a40 E8000000 		call	_fprintf
 5475      00
1417:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
1418:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
1419:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1420:../../MMI/Resource/WriteImgRes.c ****                 0, 0,    /* file size (not used) */
1421:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1422:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1423:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
1424:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
 5477              	LM359:
 5478 2a45 C745F400 		movl	$0, -12(%ebp)
 5478      000000
 5479              	L218:
 5480 2a4c 8B45F4   		movl	-12(%ebp), %eax
 5481 2a4f 3B4510   		cmpl	16(%ebp), %eax
 5482 2a52 7C05     		jl	L221
 5483 2a54 E9DC0300 		jmp	L216
 5483      00
 5484              	L221:
1425:../../MMI/Resource/WriteImgRes.c ****         {
1426:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
 5486              	LM360:
 5487              	LBB35:
 5488 2a59 8B45F4   		movl	-12(%ebp), %eax
 5489 2a5c 8D148500 		leal	0(,%eax,4), %edx
 5489      000000
 5490 2a63 8B4528   		movl	40(%ebp), %eax
 5491 2a66 8B0410   		movl	(%eax,%edx), %eax
 5492 2a69 8945E4   		movl	%eax, -28(%ebp)
1427:../../MMI/Resource/WriteImgRes.c **** 
1428:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
 5494              	LM361:
 5495 2a6c 8B45F4   		movl	-12(%ebp), %eax
 5496 2a6f 8D0C8500 		leal	0(,%eax,4), %ecx
 5496      000000
 5497 2a76 8B551C   		movl	28(%ebp), %edx
 5498 2a79 8B45F0   		movl	-16(%ebp), %eax
 5499 2a7c 89040A   		movl	%eax, (%edx,%ecx)
1429:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
 5501              	LM362:
 5502 2a7f 8B45F4   		movl	-12(%ebp), %eax
 5503 2a82 8D148500 		leal	0(,%eax,4), %edx
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 90


 5503      000000
 5504 2a89 8B4518   		movl	24(%ebp), %eax
 5505 2a8c 8B0410   		movl	(%eax,%edx), %eax
 5506 2a8f 83C003   		addl	$3, %eax
 5507 2a92 C1F802   		sarl	$2, %eax
 5508 2a95 C1E002   		sall	$2, %eax
 5509 2a98 8945EC   		movl	%eax, -20(%ebp)
1430:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", seq_offset[i] & 0xff, (seq_offset[i] & 0xff00) >> 8, (se
 5511              	LM363:
 5512 2a9b 8B45F4   		movl	-12(%ebp), %eax
 5513 2a9e 8D148500 		leal	0(,%eax,4), %edx
 5513      000000
 5514 2aa5 8B451C   		movl	28(%ebp), %eax
 5515 2aa8 8B0410   		movl	(%eax,%edx), %eax
 5516 2aab 25000000 		andl	$-16777216, %eax
 5516      FF
 5517 2ab0 C1E818   		shrl	$24, %eax
 5518 2ab3 89442414 		movl	%eax, 20(%esp)
 5519 2ab7 8B45F4   		movl	-12(%ebp), %eax
 5520 2aba 8D148500 		leal	0(,%eax,4), %edx
 5520      000000
 5521 2ac1 8B451C   		movl	28(%ebp), %eax
 5522 2ac4 8B0410   		movl	(%eax,%edx), %eax
 5523 2ac7 250000FF 		andl	$16711680, %eax
 5523      00
 5524 2acc C1F810   		sarl	$16, %eax
 5525 2acf 89442410 		movl	%eax, 16(%esp)
 5526 2ad3 8B45F4   		movl	-12(%ebp), %eax
 5527 2ad6 8D148500 		leal	0(,%eax,4), %edx
 5527      000000
 5528 2add 8B451C   		movl	28(%ebp), %eax
 5529 2ae0 8B0410   		movl	(%eax,%edx), %eax
 5530 2ae3 2500FF00 		andl	$65280, %eax
 5530      00
 5531 2ae8 C1F808   		sarl	$8, %eax
 5532 2aeb 8944240C 		movl	%eax, 12(%esp)
 5533 2aef 8B45F4   		movl	-12(%ebp), %eax
 5534 2af2 8D148500 		leal	0(,%eax,4), %edx
 5534      000000
 5535 2af9 8B451C   		movl	28(%ebp), %eax
 5536 2afc 0FB60410 		movzbl	(%eax,%edx),%eax
 5537 2b00 89442408 		movl	%eax, 8(%esp)
 5538 2b04 C7442404 		movl	$LC85, 4(%esp)
 5538      C5280000 
 5539 2b0c A1000000 		movl	_dest_file, %eax
 5539      00
 5540 2b11 890424   		movl	%eax, (%esp)
 5541 2b14 E8000000 		call	_fprintf
 5541      00
1431:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", seq_filesize[i] & 0xff, (seq_filesize[i] & 0xff00) >> 8,
 5543              	LM364:
 5544 2b19 8B45F4   		movl	-12(%ebp), %eax
 5545 2b1c 8D148500 		leal	0(,%eax,4), %edx
 5545      000000
 5546 2b23 8B4518   		movl	24(%ebp), %eax
 5547 2b26 8B0410   		movl	(%eax,%edx), %eax
 5548 2b29 25000000 		andl	$-16777216, %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 91


 5548      FF
 5549 2b2e C1E818   		shrl	$24, %eax
 5550 2b31 89442414 		movl	%eax, 20(%esp)
 5551 2b35 8B45F4   		movl	-12(%ebp), %eax
 5552 2b38 8D148500 		leal	0(,%eax,4), %edx
 5552      000000
 5553 2b3f 8B4518   		movl	24(%ebp), %eax
 5554 2b42 8B0410   		movl	(%eax,%edx), %eax
 5555 2b45 250000FF 		andl	$16711680, %eax
 5555      00
 5556 2b4a C1F810   		sarl	$16, %eax
 5557 2b4d 89442410 		movl	%eax, 16(%esp)
 5558 2b51 8B45F4   		movl	-12(%ebp), %eax
 5559 2b54 8D148500 		leal	0(,%eax,4), %edx
 5559      000000
 5560 2b5b 8B4518   		movl	24(%ebp), %eax
 5561 2b5e 8B0410   		movl	(%eax,%edx), %eax
 5562 2b61 2500FF00 		andl	$65280, %eax
 5562      00
 5563 2b66 C1F808   		sarl	$8, %eax
 5564 2b69 8944240C 		movl	%eax, 12(%esp)
 5565 2b6d 8B45F4   		movl	-12(%ebp), %eax
 5566 2b70 8D148500 		leal	0(,%eax,4), %edx
 5566      000000
 5567 2b77 8B4518   		movl	24(%ebp), %eax
 5568 2b7a 0FB60410 		movzbl	(%eax,%edx),%eax
 5569 2b7e 89442408 		movl	%eax, 8(%esp)
 5570 2b82 C7442404 		movl	$LC85, 4(%esp)
 5570      C5280000 
 5571 2b8a A1000000 		movl	_dest_file, %eax
 5571      00
 5572 2b8f 890424   		movl	%eax, (%esp)
 5573 2b92 E8000000 		call	_fprintf
 5573      00
1432:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c%c%c%c", interval & 0xff, (interval & 0xff00) >> 8, (interval & 0
 5575              	LM365:
 5576 2b97 8B45E4   		movl	-28(%ebp), %eax
 5577 2b9a 25000000 		andl	$-16777216, %eax
 5577      FF
 5578 2b9f C1E818   		shrl	$24, %eax
 5579 2ba2 89442414 		movl	%eax, 20(%esp)
 5580 2ba6 8B45E4   		movl	-28(%ebp), %eax
 5581 2ba9 250000FF 		andl	$16711680, %eax
 5581      00
 5582 2bae C1F810   		sarl	$16, %eax
 5583 2bb1 89442410 		movl	%eax, 16(%esp)
 5584 2bb5 8B45E4   		movl	-28(%ebp), %eax
 5585 2bb8 2500FF00 		andl	$65280, %eax
 5585      00
 5586 2bbd C1F808   		sarl	$8, %eax
 5587 2bc0 8944240C 		movl	%eax, 12(%esp)
 5588 2bc4 0FB645E4 		movzbl	-28(%ebp),%eax
 5589 2bc8 89442408 		movl	%eax, 8(%esp)
 5590 2bcc C7442404 		movl	$LC85, 4(%esp)
 5590      C5280000 
 5591 2bd4 A1000000 		movl	_dest_file, %eax
 5591      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 92


 5592 2bd9 890424   		movl	%eax, (%esp)
 5593 2bdc E8000000 		call	_fprintf
 5593      00
1433:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
 5595              	LM366:
 5596 2be1 8B55EC   		movl	-20(%ebp), %edx
 5597 2be4 8D45F0   		leal	-16(%ebp), %eax
 5598 2be7 0110     		addl	%edx, (%eax)
 5600              	LM367:
 5601 2be9 8D45F4   		leal	-12(%ebp), %eax
 5602              	LBE35:
 5603 2bec FF00     		incl	(%eax)
 5604 2bee E959FEFF 		jmp	L218
 5604      FF
 5605              	L217:
1434:../../MMI/Resource/WriteImgRes.c ****         }
1435:../../MMI/Resource/WriteImgRes.c ****     }
1436:../../MMI/Resource/WriteImgRes.c **** 
1437:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1438:../../MMI/Resource/WriteImgRes.c ****     /* write ENFB header to CustImgDataxxx.h and image header/data to ENFB image data file */
1439:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1)
1440:../../MMI/Resource/WriteImgRes.c ****     {
1441:../../MMI/Resource/WriteImgRes.c ****         S32 data_size = 0;
1442:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
1443:../../MMI/Resource/WriteImgRes.c ****         {
1444:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
1445:../../MMI/Resource/WriteImgRes.c ****             data_size += real_size;
1446:../../MMI/Resource/WriteImgRes.c ****         }
1447:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + 12*n_frames + data_size;
1448:../../MMI/Resource/WriteImgRes.c **** 
1449:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
1450:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
1451:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
1452:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
1453:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
1454:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
1455:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
1456:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
1457:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
1458:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
1459:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
1460:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
1461:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
1462:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
1463:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
1464:../../MMI/Resource/WriteImgRes.c **** 
1465:../../MMI/Resource/WriteImgRes.c ****         /* image header/data to ENFB image data file */
1466:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1467:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c%c%c%c%c%c%c",
1468:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
1469:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
1470:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1471:../../MMI/Resource/WriteImgRes.c ****                 0, 0,    /* file size (not used) */
1472:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1473:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1474:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
1475:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 93


1476:../../MMI/Resource/WriteImgRes.c ****         {
1477:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
1478:../../MMI/Resource/WriteImgRes.c **** 
1479:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
1480:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
1481:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", seq_offset[i] & 0xff, (seq_offset[i] & 0xff00) 
1482:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", seq_filesize[i] & 0xff, (seq_filesize[i] & 0xff
1483:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c%c%c%c", interval & 0xff, (interval & 0xff00) >> 8, (int
1484:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
1485:../../MMI/Resource/WriteImgRes.c ****         }
1486:../../MMI/Resource/WriteImgRes.c **** 
1487:../../MMI/Resource/WriteImgRes.c ****         enfb_offset += enfb_size;
1488:../../MMI/Resource/WriteImgRes.c ****         processData->res_size += enfb_size;
1489:../../MMI/Resource/WriteImgRes.c ****     }
1490:../../MMI/Resource/WriteImgRes.c **** #endif
1491:../../MMI/Resource/WriteImgRes.c **** 
1492:../../MMI/Resource/WriteImgRes.c ****     else
1493:../../MMI/Resource/WriteImgRes.c ****     {
1494:../../MMI/Resource/WriteImgRes.c ****         /* the major header */
1495:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream, 
 5607              	LM368:
 5608 2bf3 8B45E8   		movl	-24(%ebp), %eax
 5609 2bf6 250000FF 		andl	$16711680, %eax
 5609      00
 5610 2bfb C1E810   		shrl	$16, %eax
 5611 2bfe 89442424 		movl	%eax, 36(%esp)
 5612 2c02 8B45E8   		movl	-24(%ebp), %eax
 5613 2c05 2500FF00 		andl	$65280, %eax
 5613      00
 5614 2c0a C1E808   		shrl	$8, %eax
 5615 2c0d 89442420 		movl	%eax, 32(%esp)
 5616 2c11 0FB645E8 		movzbl	-24(%ebp),%eax
 5617 2c15 8944241C 		movl	%eax, 28(%esp)
 5618 2c19 C7442418 		movl	$0, 24(%esp)
 5618      00000000 
 5619 2c21 C7442414 		movl	$0, 20(%esp)
 5619      00000000 
 5620 2c29 0FB645FA 		movzbl	-6(%ebp), %eax
 5621 2c2d 89442410 		movl	%eax, 16(%esp)
 5622 2c31 8B4510   		movl	16(%ebp), %eax
 5623 2c34 8944240C 		movl	%eax, 12(%esp)
 5624 2c38 0FB645FB 		movzbl	-5(%ebp), %eax
 5625 2c3c 89442408 		movl	%eax, 8(%esp)
 5626 2c40 C7442404 		movl	$LC86, 4(%esp)
 5626      E0280000 
 5627 2c48 8B4508   		movl	8(%ebp), %eax
 5628 2c4b 890424   		movl	%eax, (%esp)
 5629 2c4e E8000000 		call	_ImageOutStreamPrintf
 5629      00
1496:../../MMI/Resource/WriteImgRes.c ****                 "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t",
1497:../../MMI/Resource/WriteImgRes.c ****                 image_identifier,
1498:../../MMI/Resource/WriteImgRes.c ****                 n_frames,
1499:../../MMI/Resource/WriteImgRes.c ****                 play_count,
1500:../../MMI/Resource/WriteImgRes.c ****                 0, 0,
1501:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
1502:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
1503:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 94


1504:../../MMI/Resource/WriteImgRes.c ****         processData->res_size += 8;
 5631              	LM369:
 5632 2c53 8B552C   		movl	44(%ebp), %edx
 5633 2c56 8B452C   		movl	44(%ebp), %eax
 5634 2c59 8B800002 		movl	512(%eax), %eax
 5634      0000
 5635 2c5f 83C008   		addl	$8, %eax
 5636 2c62 89820002 		movl	%eax, 512(%edx)
 5636      0000
1505:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < n_frames; i++)
 5638              	LM370:
 5639 2c68 C745F400 		movl	$0, -12(%ebp)
 5639      000000
 5640              	L223:
 5641 2c6f 8B45F4   		movl	-12(%ebp), %eax
 5642 2c72 3B4510   		cmpl	16(%ebp), %eax
 5643 2c75 7C05     		jl	L226
 5644 2c77 E9B90100 		jmp	L216
 5644      00
 5645              	L226:
1506:../../MMI/Resource/WriteImgRes.c ****         {
1507:../../MMI/Resource/WriteImgRes.c ****             int interval = sequential_interval[i];
 5647              	LM371:
 5648              	LBB36:
 5649 2c7c 8B45F4   		movl	-12(%ebp), %eax
 5650 2c7f 8D148500 		leal	0(,%eax,4), %edx
 5650      000000
 5651 2c86 8B4528   		movl	40(%ebp), %eax
 5652 2c89 8B0410   		movl	(%eax,%edx), %eax
 5653 2c8c 8945E4   		movl	%eax, -28(%ebp)
1508:../../MMI/Resource/WriteImgRes.c **** 
1509:../../MMI/Resource/WriteImgRes.c ****             seq_offset[i] = offset;
 5655              	LM372:
 5656 2c8f 8B45F4   		movl	-12(%ebp), %eax
 5657 2c92 8D0C8500 		leal	0(,%eax,4), %ecx
 5657      000000
 5658 2c99 8B551C   		movl	28(%ebp), %edx
 5659 2c9c 8B45F0   		movl	-16(%ebp), %eax
 5660 2c9f 89040A   		movl	%eax, (%edx,%ecx)
1510:../../MMI/Resource/WriteImgRes.c ****             real_size = ((seq_filesize[i] + 3) >> 2) << 2;
 5662              	LM373:
 5663 2ca2 8B45F4   		movl	-12(%ebp), %eax
 5664 2ca5 8D148500 		leal	0(,%eax,4), %edx
 5664      000000
 5665 2cac 8B4518   		movl	24(%ebp), %eax
 5666 2caf 8B0410   		movl	(%eax,%edx), %eax
 5667 2cb2 83C003   		addl	$3, %eax
 5668 2cb5 C1F802   		sarl	$2, %eax
 5669 2cb8 C1E002   		sall	$2, %eax
 5670 2cbb 8945EC   		movl	%eax, -20(%ebp)
1511:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X, ", seq_offset[i] & 0xf
 5672              	LM374:
 5673 2cbe 8B45F4   		movl	-12(%ebp), %eax
 5674 2cc1 8D148500 		leal	0(,%eax,4), %edx
 5674      000000
 5675 2cc8 8B451C   		movl	28(%ebp), %eax
 5676 2ccb 8B0410   		movl	(%eax,%edx), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 95


 5677 2cce 25000000 		andl	$-16777216, %eax
 5677      FF
 5678 2cd3 C1E818   		shrl	$24, %eax
 5679 2cd6 89442414 		movl	%eax, 20(%esp)
 5680 2cda 8B45F4   		movl	-12(%ebp), %eax
 5681 2cdd 8D148500 		leal	0(,%eax,4), %edx
 5681      000000
 5682 2ce4 8B451C   		movl	28(%ebp), %eax
 5683 2ce7 8B0410   		movl	(%eax,%edx), %eax
 5684 2cea 250000FF 		andl	$16711680, %eax
 5684      00
 5685 2cef C1F810   		sarl	$16, %eax
 5686 2cf2 89442410 		movl	%eax, 16(%esp)
 5687 2cf6 8B45F4   		movl	-12(%ebp), %eax
 5688 2cf9 8D148500 		leal	0(,%eax,4), %edx
 5688      000000
 5689 2d00 8B451C   		movl	28(%ebp), %eax
 5690 2d03 8B0410   		movl	(%eax,%edx), %eax
 5691 2d06 2500FF00 		andl	$65280, %eax
 5691      00
 5692 2d0b C1F808   		sarl	$8, %eax
 5693 2d0e 8944240C 		movl	%eax, 12(%esp)
 5694 2d12 8B45F4   		movl	-12(%ebp), %eax
 5695 2d15 8D148500 		leal	0(,%eax,4), %edx
 5695      000000
 5696 2d1c 8B451C   		movl	28(%ebp), %eax
 5697 2d1f 0FB60410 		movzbl	(%eax,%edx),%eax
 5698 2d23 89442408 		movl	%eax, 8(%esp)
 5699 2d27 C7442404 		movl	$LC87, 4(%esp)
 5699      40290000 
 5700 2d2f 8B4508   		movl	8(%ebp), %eax
 5701 2d32 890424   		movl	%eax, (%esp)
 5702 2d35 E8000000 		call	_ImageOutStreamPrintf
 5702      00
1512:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X, ", seq_filesize[i] & 0
 5704              	LM375:
 5705 2d3a 8B45F4   		movl	-12(%ebp), %eax
 5706 2d3d 8D148500 		leal	0(,%eax,4), %edx
 5706      000000
 5707 2d44 8B4518   		movl	24(%ebp), %eax
 5708 2d47 8B0410   		movl	(%eax,%edx), %eax
 5709 2d4a 25000000 		andl	$-16777216, %eax
 5709      FF
 5710 2d4f C1E818   		shrl	$24, %eax
 5711 2d52 89442414 		movl	%eax, 20(%esp)
 5712 2d56 8B45F4   		movl	-12(%ebp), %eax
 5713 2d59 8D148500 		leal	0(,%eax,4), %edx
 5713      000000
 5714 2d60 8B4518   		movl	24(%ebp), %eax
 5715 2d63 8B0410   		movl	(%eax,%edx), %eax
 5716 2d66 250000FF 		andl	$16711680, %eax
 5716      00
 5717 2d6b C1F810   		sarl	$16, %eax
 5718 2d6e 89442410 		movl	%eax, 16(%esp)
 5719 2d72 8B45F4   		movl	-12(%ebp), %eax
 5720 2d75 8D148500 		leal	0(,%eax,4), %edx
 5720      000000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 96


 5721 2d7c 8B4518   		movl	24(%ebp), %eax
 5722 2d7f 8B0410   		movl	(%eax,%edx), %eax
 5723 2d82 2500FF00 		andl	$65280, %eax
 5723      00
 5724 2d87 C1F808   		sarl	$8, %eax
 5725 2d8a 8944240C 		movl	%eax, 12(%esp)
 5726 2d8e 8B45F4   		movl	-12(%ebp), %eax
 5727 2d91 8D148500 		leal	0(,%eax,4), %edx
 5727      000000
 5728 2d98 8B4518   		movl	24(%ebp), %eax
 5729 2d9b 0FB60410 		movzbl	(%eax,%edx),%eax
 5730 2d9f 89442408 		movl	%eax, 8(%esp)
 5731 2da3 C7442404 		movl	$LC87, 4(%esp)
 5731      40290000 
 5732 2dab 8B4508   		movl	8(%ebp), %eax
 5733 2dae 890424   		movl	%eax, (%esp)
 5734 2db1 E8000000 		call	_ImageOutStreamPrintf
 5734      00
1513:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t", interval & 0xff,
 5736              	LM376:
 5737 2db6 8B45E4   		movl	-28(%ebp), %eax
 5738 2db9 25000000 		andl	$-16777216, %eax
 5738      FF
 5739 2dbe C1E818   		shrl	$24, %eax
 5740 2dc1 89442414 		movl	%eax, 20(%esp)
 5741 2dc5 8B45E4   		movl	-28(%ebp), %eax
 5742 2dc8 250000FF 		andl	$16711680, %eax
 5742      00
 5743 2dcd C1F810   		sarl	$16, %eax
 5744 2dd0 89442410 		movl	%eax, 16(%esp)
 5745 2dd4 8B45E4   		movl	-28(%ebp), %eax
 5746 2dd7 2500FF00 		andl	$65280, %eax
 5746      00
 5747 2ddc C1F808   		sarl	$8, %eax
 5748 2ddf 8944240C 		movl	%eax, 12(%esp)
 5749 2de3 0FB645E4 		movzbl	-28(%ebp),%eax
 5750 2de7 89442408 		movl	%eax, 8(%esp)
 5751 2deb C7442404 		movl	$LC88, 4(%esp)
 5751      80290000 
 5752 2df3 8B4508   		movl	8(%ebp), %eax
 5753 2df6 890424   		movl	%eax, (%esp)
 5754 2df9 E8000000 		call	_ImageOutStreamPrintf
 5754      00
1514:../../MMI/Resource/WriteImgRes.c ****             offset += real_size;
 5756              	LM377:
 5757 2dfe 8B55EC   		movl	-20(%ebp), %edx
 5758 2e01 8D45F0   		leal	-16(%ebp), %eax
 5759 2e04 0110     		addl	%edx, (%eax)
1515:../../MMI/Resource/WriteImgRes.c **** 
1516:../../MMI/Resource/WriteImgRes.c ****             processData->res_size += 12 + seq_filesize[i];
 5761              	LM378:
 5762 2e06 8B5D2C   		movl	44(%ebp), %ebx
 5763 2e09 8B4D2C   		movl	44(%ebp), %ecx
 5764 2e0c 8B45F4   		movl	-12(%ebp), %eax
 5765 2e0f 8D148500 		leal	0(,%eax,4), %edx
 5765      000000
 5766 2e16 8B4518   		movl	24(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 97


 5767 2e19 8B0410   		movl	(%eax,%edx), %eax
 5768 2e1c 03810002 		addl	512(%ecx), %eax
 5768      0000
 5769 2e22 83C00C   		addl	$12, %eax
 5770 2e25 89830002 		movl	%eax, 512(%ebx)
 5770      0000
 5772              	LM379:
 5773 2e2b 8D45F4   		leal	-12(%ebp), %eax
 5774              	LBE36:
 5775 2e2e FF00     		incl	(%eax)
 5776 2e30 E93AFEFF 		jmp	L223
 5776      FF
1517:../../MMI/Resource/WriteImgRes.c ****         }
1518:../../MMI/Resource/WriteImgRes.c ****     }
1519:../../MMI/Resource/WriteImgRes.c **** }
 5778              	LM380:
 5779              	L216:
 5780 2e35 83C444   		addl	$68, %esp
 5781 2e38 5B       		popl	%ebx
 5782 2e39 5D       		popl	%ebp
 5783 2e3a C3       		ret
 5784              	LBE34:
 5799              	Lscope8:
 5801              	LC89:
 5802 2e3b 256300   		.ascii "%c\0"
 5803              	LC90:
 5804 2e3e 30782530 		.ascii "0x%02X, \0"
 5804      32582C20 
 5804      00
 5805              	LC91:
 5806 2e47 0A0900   		.ascii "\12\11\0"
 5807              	LC92:
 5808 2e4a 30783030 		.ascii "0x00, \0"
 5808      2C2000
 5815              	_Write_Sequential_Image_File:
1520:../../MMI/Resource/WriteImgRes.c **** 
1521:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1522:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1523:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image_File
1524:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1525:../../MMI/Resource/WriteImgRes.c ****  *  write raw date from a frame of an image to the output file
1526:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1527:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [IN]        output file handle
1528:../../MMI/Resource/WriteImgRes.c ****  *  input_file      [IN]        input file handle
1529:../../MMI/Resource/WriteImgRes.c ****  *  filesize        [IN]        the input file size
1530:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1531:../../MMI/Resource/WriteImgRes.c ****  *  void
1532:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1533:../../MMI/Resource/WriteImgRes.c **** static void Write_Sequential_Image_File(
1534:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1535:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
1536:../../MMI/Resource/WriteImgRes.c ****         S32 filesize,
1537:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1538:../../MMI/Resource/WriteImgRes.c **** {
 5817              	LM381:
 5818 2e51 55       		pushl	%ebp
 5819 2e52 89E5     		movl	%esp, %ebp
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 98


 5820 2e54 83EC38   		subl	$56, %esp
1539:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1540:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1541:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1542:../../MMI/Resource/WriteImgRes.c ****     U32 i;
1543:../../MMI/Resource/WriteImgRes.c ****     U32 o = 0;
 5822              	LM382:
 5823              	LBB37:
 5824 2e57 C745F800 		movl	$0, -8(%ebp)
 5824      000000
1544:../../MMI/Resource/WriteImgRes.c ****     U8 ch;
1545:../../MMI/Resource/WriteImgRes.c **** 
1546:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1547:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1548:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1549:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag == 1)
 5826              	LM383:
 5827 2e5e 833D0000 		cmpl	$1, _toolFlag
 5827      000001
 5828 2e65 757C     		jne	L228
1550:../../MMI/Resource/WriteImgRes.c ****     {
1551:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
 5830              	LM384:
 5831 2e67 C745FC00 		movl	$0, -4(%ebp)
 5831      000000
 5832              	L229:
 5833 2e6e 8B45FC   		movl	-4(%ebp), %eax
 5834 2e71 3B4510   		cmpl	16(%ebp), %eax
 5835 2e74 7202     		jb	L232
 5836 2e76 EB32     		jmp	L230
 5837              	L232:
1552:../../MMI/Resource/WriteImgRes.c ****         {
1553:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
 5839              	LM385:
 5840 2e78 8B450C   		movl	12(%ebp), %eax
 5841 2e7b 890424   		movl	%eax, (%esp)
 5842 2e7e E8000000 		call	_fgetc
 5842      00
 5843 2e83 8845F7   		movb	%al, -9(%ebp)
1554:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c", ch);
 5845              	LM386:
 5846 2e86 0FB645F7 		movzbl	-9(%ebp), %eax
 5847 2e8a 89442408 		movl	%eax, 8(%esp)
 5848 2e8e C7442404 		movl	$LC89, 4(%esp)
 5848      3B2E0000 
 5849 2e96 A1000000 		movl	_dest_file, %eax
 5849      00
 5850 2e9b 890424   		movl	%eax, (%esp)
 5851 2e9e E8000000 		call	_fprintf
 5851      00
 5853              	LM387:
 5854 2ea3 8D45FC   		leal	-4(%ebp), %eax
 5855 2ea6 FF00     		incl	(%eax)
 5856 2ea8 EBC4     		jmp	L229
 5857              	L230:
1555:../../MMI/Resource/WriteImgRes.c ****         }
1556:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 99


1557:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
 5859              	LM388:
 5860 2eaa 8B4510   		movl	16(%ebp), %eax
 5861 2ead 8945FC   		movl	%eax, -4(%ebp)
 5862              	L233:
 5863 2eb0 8B45FC   		movl	-4(%ebp), %eax
 5864 2eb3 83E003   		andl	$3, %eax
 5865 2eb6 85C0     		testl	%eax, %eax
 5866 2eb8 7505     		jne	L236
 5867 2eba E9270100 		jmp	L227
 5867      00
 5868              	L236:
1558:../../MMI/Resource/WriteImgRes.c ****         {
1559:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1560:../../MMI/Resource/WriteImgRes.c ****             fprintf(dest_file, "%c", 0);
 5870              	LM389:
 5871 2ebf C7442408 		movl	$0, 8(%esp)
 5871      00000000 
 5872 2ec7 C7442404 		movl	$LC89, 4(%esp)
 5872      3B2E0000 
 5873 2ecf A1000000 		movl	_dest_file, %eax
 5873      00
 5874 2ed4 890424   		movl	%eax, (%esp)
 5875 2ed7 E8000000 		call	_fprintf
 5875      00
 5877              	LM390:
 5878 2edc 8D45FC   		leal	-4(%ebp), %eax
 5879 2edf FF00     		incl	(%eax)
 5880 2ee1 EBCD     		jmp	L233
 5881              	L228:
1561:../../MMI/Resource/WriteImgRes.c ****         }
1562:../../MMI/Resource/WriteImgRes.c ****     }
1563:../../MMI/Resource/WriteImgRes.c **** 
1564:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1565:../../MMI/Resource/WriteImgRes.c ****     /* write ENFB header to CustImgDataxxx.h and image header/data to ENFB image data file */
1566:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1)
1567:../../MMI/Resource/WriteImgRes.c ****     {
1568:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
1569:../../MMI/Resource/WriteImgRes.c ****         {
1570:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
1571:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c", ch);
1572:../../MMI/Resource/WriteImgRes.c ****         }
1573:../../MMI/Resource/WriteImgRes.c **** 
1574:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
1575:../../MMI/Resource/WriteImgRes.c ****         {
1576:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1577:../../MMI/Resource/WriteImgRes.c ****             fprintf(enfb_img_data_file, "%c", 0);
1578:../../MMI/Resource/WriteImgRes.c ****         }
1579:../../MMI/Resource/WriteImgRes.c ****     }
1580:../../MMI/Resource/WriteImgRes.c **** #endif
1581:../../MMI/Resource/WriteImgRes.c **** 
1582:../../MMI/Resource/WriteImgRes.c ****     else
1583:../../MMI/Resource/WriteImgRes.c ****     {
1584:../../MMI/Resource/WriteImgRes.c ****         /*
1585:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < filesize; i++)
1586:../../MMI/Resource/WriteImgRes.c ****         {
1587:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 100


1588:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x%02X, ", ch);
1589:../../MMI/Resource/WriteImgRes.c ****             o++;
1590:../../MMI/Resource/WriteImgRes.c ****             if ((o % 16) == 0)
1591:../../MMI/Resource/WriteImgRes.c ****             {
1592:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n\t");
1593:../../MMI/Resource/WriteImgRes.c ****             }
1594:../../MMI/Resource/WriteImgRes.c ****         }
1595:../../MMI/Resource/WriteImgRes.c ****         */
1596:../../MMI/Resource/WriteImgRes.c ****         const int buffer_size = 16 * 1024;
 5883              	LM391:
 5884              	LBB38:
 5885 2ee3 C745F000 		movl	$16384, -16(%ebp)
 5885      400000
1597:../../MMI/Resource/WriteImgRes.c ****         while (1)
 5887              	LM392:
 5888              	L238:
 5889              	LBB39:
 5890 2eea 8965E8   		movl	%esp, -24(%ebp)
1598:../../MMI/Resource/WriteImgRes.c ****         {
1599:../../MMI/Resource/WriteImgRes.c ****             U8 buffer[buffer_size];
 5892              	LM393:
 5893 2eed 8B45F0   		movl	-16(%ebp), %eax
 5894 2ef0 83C00F   		addl	$15, %eax
 5895 2ef3 C1E804   		shrl	$4, %eax
 5896 2ef6 C1E004   		sall	$4, %eax
 5897 2ef9 8945E0   		movl	%eax, -32(%ebp)
 5898 2efc 8B45E0   		movl	-32(%ebp), %eax
 5899 2eff E8000000 		call	__alloca
 5899      00
 5900 2f04 8D542410 		leal	16(%esp), %edx
 5901 2f08 8955E4   		movl	%edx, -28(%ebp)
1600:../../MMI/Resource/WriteImgRes.c ****             U32 size = fread(buffer, 1, buffer_size, input_file);
 5903              	LM394:
 5904 2f0b 8B450C   		movl	12(%ebp), %eax
 5905 2f0e 8944240C 		movl	%eax, 12(%esp)
 5906 2f12 8B45F0   		movl	-16(%ebp), %eax
 5907 2f15 89442408 		movl	%eax, 8(%esp)
 5908 2f19 C7442404 		movl	$1, 4(%esp)
 5908      01000000 
 5909 2f21 8B45E4   		movl	-28(%ebp), %eax
 5910 2f24 890424   		movl	%eax, (%esp)
 5911 2f27 E8000000 		call	_fread
 5911      00
 5912 2f2c 8945EC   		movl	%eax, -20(%ebp)
1601:../../MMI/Resource/WriteImgRes.c ****             if (size == 0)
 5914              	LM395:
 5915 2f2f 837DEC00 		cmpl	$0, -20(%ebp)
 5916 2f33 7505     		jne	L241
1602:../../MMI/Resource/WriteImgRes.c ****             {
1603:../../MMI/Resource/WriteImgRes.c ****                 break;
 5918              	LM396:
 5919              	LBB40:
 5920 2f35 8B65E8   		movl	-24(%ebp), %esp
 5921              	LBE40:
 5922 2f38 EB63     		jmp	L239
 5923              	L241:
1604:../../MMI/Resource/WriteImgRes.c ****             }
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 101


1605:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < size; i++)
 5925              	LM397:
 5926 2f3a C745FC00 		movl	$0, -4(%ebp)
 5926      000000
 5927              	L242:
 5928 2f41 8B45FC   		movl	-4(%ebp), %eax
 5929 2f44 3B45EC   		cmpl	-20(%ebp), %eax
 5930 2f47 7202     		jb	L245
 5931 2f49 EB4A     		jmp	L243
 5932              	L245:
1606:../../MMI/Resource/WriteImgRes.c ****             {
1607:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "0x%02X, ", buffer[i]);
 5934              	LM398:
 5935 2f4b 8B45FC   		movl	-4(%ebp), %eax
 5936 2f4e 8B55E4   		movl	-28(%ebp), %edx
 5937 2f51 0FB60402 		movzbl	(%edx,%eax), %eax
 5938 2f55 89442408 		movl	%eax, 8(%esp)
 5939 2f59 C7442404 		movl	$LC90, 4(%esp)
 5939      3E2E0000 
 5940 2f61 8B4508   		movl	8(%ebp), %eax
 5941 2f64 890424   		movl	%eax, (%esp)
 5942 2f67 E8000000 		call	_ImageOutStreamPrintf
 5942      00
1608:../../MMI/Resource/WriteImgRes.c ****                 if ((++o % 16) == 0)
 5944              	LM399:
 5945 2f6c 8D45F8   		leal	-8(%ebp), %eax
 5946 2f6f FF00     		incl	(%eax)
 5947 2f71 8B45F8   		movl	-8(%ebp), %eax
 5948 2f74 83E00F   		andl	$15, %eax
 5949 2f77 85C0     		testl	%eax, %eax
 5950 2f79 7513     		jne	L244
1609:../../MMI/Resource/WriteImgRes.c ****                 {
1610:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "\n\t");
 5952              	LM400:
 5953 2f7b C7442404 		movl	$LC91, 4(%esp)
 5953      472E0000 
 5954 2f83 8B4508   		movl	8(%ebp), %eax
 5955 2f86 890424   		movl	%eax, (%esp)
 5956 2f89 E8000000 		call	_ImageOutStreamPrintf
 5956      00
 5958              	LM401:
 5959              	L244:
 5960 2f8e 8D45FC   		leal	-4(%ebp), %eax
 5961 2f91 FF00     		incl	(%eax)
 5962 2f93 EBAC     		jmp	L242
 5963              	L243:
 5964 2f95 8B65E8   		movl	-24(%ebp), %esp
 5965              	LBE39:
 5966 2f98 E94DFFFF 		jmp	L238
 5966      FF
 5967              	L239:
1611:../../MMI/Resource/WriteImgRes.c ****                 }
1612:../../MMI/Resource/WriteImgRes.c ****             }
1613:../../MMI/Resource/WriteImgRes.c ****         }
1614:../../MMI/Resource/WriteImgRes.c **** 
1615:../../MMI/Resource/WriteImgRes.c ****         for (i = filesize; i % 4 != 0; i++)
 5969              	LM402:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 102


 5970 2f9d 8B4510   		movl	16(%ebp), %eax
 5971 2fa0 8945FC   		movl	%eax, -4(%ebp)
 5972              	L247:
 5973 2fa3 8B45FC   		movl	-4(%ebp), %eax
 5974 2fa6 83E003   		andl	$3, %eax
 5975 2fa9 85C0     		testl	%eax, %eax
 5976 2fab 7502     		jne	L250
 5977 2fad EB1A     		jmp	L248
 5978              	L250:
1616:../../MMI/Resource/WriteImgRes.c ****         {
1617:../../MMI/Resource/WriteImgRes.c ****             /* for 4 byte alignment */
1618:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "0x00, ");
 5980              	LM403:
 5981 2faf C7442404 		movl	$LC92, 4(%esp)
 5981      4A2E0000 
 5982 2fb7 8B4508   		movl	8(%ebp), %eax
 5983 2fba 890424   		movl	%eax, (%esp)
 5984 2fbd E8000000 		call	_ImageOutStreamPrintf
 5984      00
 5986              	LM404:
 5987 2fc2 8D45FC   		leal	-4(%ebp), %eax
 5988 2fc5 FF00     		incl	(%eax)
 5989 2fc7 EBDA     		jmp	L247
 5990              	L248:
1619:../../MMI/Resource/WriteImgRes.c ****         }
1620:../../MMI/Resource/WriteImgRes.c **** 
1621:../../MMI/Resource/WriteImgRes.c ****         if ((o % 16) != 0)
 5992              	LM405:
 5993 2fc9 8B45F8   		movl	-8(%ebp), %eax
 5994 2fcc 83E00F   		andl	$15, %eax
 5995 2fcf 85C0     		testl	%eax, %eax
 5996 2fd1 7413     		je	L227
1622:../../MMI/Resource/WriteImgRes.c ****         {
1623:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t");
 5998              	LM406:
 5999 2fd3 C7442404 		movl	$LC91, 4(%esp)
 5999      472E0000 
 6000 2fdb 8B4508   		movl	8(%ebp), %eax
 6001 2fde 890424   		movl	%eax, (%esp)
 6002 2fe1 E8000000 		call	_ImageOutStreamPrintf
 6002      00
1624:../../MMI/Resource/WriteImgRes.c ****         }
1625:../../MMI/Resource/WriteImgRes.c ****     }
1626:../../MMI/Resource/WriteImgRes.c **** }
 6004              	LM407:
 6005              	L227:
 6006 2fe6 C9       		leave
 6007 2fe7 C3       		ret
 6008              	LBE38:
 6009              	LBE37:
 6022              	Lscope9:
 6024              	LC93:
 6025 2fe8 25735C5C 		.ascii "%s\\\\0.%s\0"
 6025      302E2573 
 6025      00
 6026              	LC94:
 6027 2ff1 25735C5C 		.ascii "%s\\\\interval.txt\0"
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 103


 6027      696E7465 
 6027      7276616C 
 6027      2E747874 
 6027      00
 6028              	LC95:
 6029 3002 7200     		.ascii "r\0"
 6030              	LC96:
 6031 3004 4552523A 		.ascii "ERR: Can't find %s\12\0"
 6031      2043616E 
 6031      27742066 
 6031      696E6420 
 6031      25730A00 
 6032              	LC97:
 6033 3018 20256400 		.ascii " %d\0"
 6034              	LC98:
 6035 301c 204C4F4F 		.ascii " LOOP %d\0"
 6035      50202564 
 6035      00
 6036              	LC99:
 6037 3025 25735C5C 		.ascii "%s\\\\%d.%s\0"
 6037      25642E25 
 6037      7300
 6038              	LC100:
 6039 302f 61626D73 		.ascii "abms\0"
 6039      00
 6040 3034 8DB60000 		.align 32
 6040      00008DBF 
 6040      00000000 
 6041              	LC101:
 6042 3040 57726974 		.ascii "Write_Sequential_image: buffer == NULL\12\0"
 6042      655F5365 
 6042      7175656E 
 6042      7469616C 
 6042      5F696D61 
 6043              	LC102:
 6044 3068 77622B00 		.ascii "wb+\0"
 6045 306c 90909090 		.align 32
 6045      90909090 
 6045      90909090 
 6045      90909090 
 6045      90909090 
 6046              	LC103:
 6047 3080 5B424D50 		.ascii "[BMP->ABM sequence] size not match:\11%s\12\0"
 6047      2D3E4142 
 6047      4D207365 
 6047      7175656E 
 6047      63655D20 
 6048 30a8 90909090 		.align 32
 6048      90909090 
 6048      90909090 
 6048      90909090 
 6048      90909090 
 6049              	LC104:
 6050 30c0 5B424D50 		.ascii "[BMP->ABM sequence] read size not match:\11%s\12\0"
 6050      2D3E4142 
 6050      4D207365 
 6050      7175656E 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 104


 6050      63655D20 
 6051 30ed 90909090 		.align 32
 6051      90909090 
 6051      90909090 
 6051      90909090 
 6051      909090
 6052              	LC105:
 6053 3100 5B424D50 		.ascii "[BMP->ABM sequence] write size not match:\11%s\12\0"
 6053      2D3E4142 
 6053      4D207365 
 6053      7175656E 
 6053      63655D20 
 6054 312e 90909090 		.align 32
 6054      90909090 
 6054      90909090 
 6054      90909090 
 6054      9090
 6055              	LC106:
 6056 3140 5B424D50 		.ascii "[BMP->ABM sequence] err encode format:\11%s\12\0"
 6056      2D3E4142 
 6056      4D207365 
 6056      7175656E 
 6056      63655D20 
 6057              	LC107:
 6058 316b 61623273 		.ascii "ab2s\0"
 6058      00
 6059 3170 90909090 		.align 32
 6059      90909090 
 6059      90909090 
 6059      90909090 
 6060              	LC108:
 6061 3180 2E5C5C63 		.ascii ".\\\\convert.exe -channel Alpha -negate -compress none %s %s > NUL\0"
 6061      6F6E7665 
 6061      72742E65 
 6061      7865202D 
 6061      6368616E 
 6062 31c1 90909090 		.align 32
 6062      90909090 
 6062      90909090 
 6062      90909090 
 6062      90909090 
 6063              	LC109:
 6064 31e0 5B41424D 		.ascii "[ABM sequence] size not match:\11%s\12\0"
 6064      20736571 
 6064      75656E63 
 6064      655D2073 
 6064      697A6520 
 6065 3203 90909090 		.align 32
 6065      90909090 
 6065      90909090 
 6065      90909090 
 6065      90909090 
 6066              	LC110:
 6067 3220 5B41424D 		.ascii "[ABM sequence] err encode format:\11%s\12\0"
 6067      20736571 
 6067      75656E63 
 6067      655D2065 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 105


 6067      72722065 
 6068              	LC111:
 6069 3246 5F5F616C 		.ascii "__align(4) const U8 %s%s\0"
 6069      69676E28 
 6069      34292063 
 6069      6F6E7374 
 6069      20553820 
 6070 325f 90       		.align 32
 6071              	LC112:
 6072 3260 496D6167 		.ascii "Image get dimensions failed:\11%s\12\0"
 6072      65206765 
 6072      74206469 
 6072      6D656E73 
 6072      696F6E73 
 6073              	LC113:
 6074 3281 25735C5C 		.ascii "%s\\\\%d.abms\0"
 6074      25642E61 
 6074      626D7300 
 6075              	LC114:
 6076 328d 25735C5C 		.ascii "%s\\\\%d.ab2s\0"
 6076      25642E61 
 6076      62327300 
 6077              	LC115:
 6078 3299 0A7D3B0A 		.ascii "\12};\12\0"
 6078      00
 6087              	_Write_Sequential_Image:
1627:../../MMI/Resource/WriteImgRes.c **** 
1628:../../MMI/Resource/WriteImgRes.c **** 
1629:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
1630:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
1631:../../MMI/Resource/WriteImgRes.c ****  *  Write_Sequential_Image
1632:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
1633:../../MMI/Resource/WriteImgRes.c ****  *  write sequential image
1634:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
1635:../../MMI/Resource/WriteImgRes.c ****  *  pathname        [IN]        path name for sequential image
1636:../../MMI/Resource/WriteImgRes.c ****  *  output_name     [IN]        output variable name
1637:../../MMI/Resource/WriteImgRes.c ****  *  output_file     [OUT]       output file handle
1638:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
1639:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
1640:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
1641:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL Write_Sequential_Image(
1642:../../MMI/Resource/WriteImgRes.c ****         char *pathname,
1643:../../MMI/Resource/WriteImgRes.c ****         char *output_name,
1644:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
1645:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1646:../../MMI/Resource/WriteImgRes.c ****         S32 force_type,
1647:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
1648:../../MMI/Resource/WriteImgRes.c **** {
 6089              	LM408:
 6090 329e 55       		pushl	%ebp
 6091 329f 89E5     		movl	%esp, %ebp
 6092 32a1 53       		pushl	%ebx
 6093 32a2 B8343B00 		movl	$15156, %eax
 6093      00
 6094 32a7 E8000000 		call	__alloca
 6094      00
1649:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 106


1650:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
1651:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1652:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_filesize[MAX_SEQUENTIAL_IMAGE_FRAME];
1653:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_offset[MAX_SEQUENTIAL_IMAGE_FRAME];
1654:../../MMI/Resource/WriteImgRes.c ****     S8 filename[BUFFER_SIZE];
1655:../../MMI/Resource/WriteImgRes.c ****     FILE *imgfp;
1656:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_frame;
1657:../../MMI/Resource/WriteImgRes.c ****     S32 sequence_counter;
1658:../../MMI/Resource/WriteImgRes.c ****     S32 n_frames;
1659:../../MMI/Resource/WriteImgRes.c ****     S32 type = -1;
 6096              	LM409:
 6097              	LBB41:
 6098 32ac C785E4DF 		movl	$-1, -8220(%ebp)
 6098      FFFFFFFF 
 6098      FFFF
1660:../../MMI/Resource/WriteImgRes.c ****     U32 width = 0, height = 0;
 6100              	LM410:
 6101 32b6 C785E0DF 		movl	$0, -8224(%ebp)
 6101      FFFF0000 
 6101      0000
 6102 32c0 C785DCDF 		movl	$0, -8228(%ebp)
 6102      FFFF0000 
 6102      0000
1661:../../MMI/Resource/WriteImgRes.c ****     U32 seq_max_width = 0, seq_max_height = 0;
 6104              	LM411:
 6105 32ca C785D8DF 		movl	$0, -8232(%ebp)
 6105      FFFF0000 
 6105      0000
 6106 32d4 C785D4DF 		movl	$0, -8236(%ebp)
 6106      FFFF0000 
 6106      0000
1662:../../MMI/Resource/WriteImgRes.c ****     S32 j;
1663:../../MMI/Resource/WriteImgRes.c ****     U8 play_count = 0;
 6108              	LM412:
 6109 32de C685CFDF 		movb	$0, -8241(%ebp)
 6109      FFFF00
1664:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1665:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
1666:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
1667:../../MMI/Resource/WriteImgRes.c **** #endif
1668:../../MMI/Resource/WriteImgRes.c ****     S32 sequential_interval[MAX_SEQUENTIAL_IMAGE_FRAME];
1669:../../MMI/Resource/WriteImgRes.c **** 
1670:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1671:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
1672:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
1673:../../MMI/Resource/WriteImgRes.c ****     /* find the right extension file name */
1674:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__)
1675:../../MMI/Resource/WriteImgRes.c ****     for (j = SUPPORT_N_SEQUENTIAL_IMAGE_TYPE - 1; j >= 0; j--)  /* search from PNG */
 6111              	LM413:
 6112 32e5 C785D0DF 		movl	$2, -8240(%ebp)
 6112      FFFF0200 
 6112      0000
 6113              	L253:
 6114 32ef 83BDD0DF 		cmpl	$0, -8240(%ebp)
 6114      FFFF00
 6115 32f6 7902     		jns	L256
 6116 32f8 EB58     		jmp	L254
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 107


 6117              	L256:
1676:../../MMI/Resource/WriteImgRes.c **** #else /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
1677:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < SUPPORT_N_SEQUENTIAL_IMAGE_TYPE; j++)       /* search from BMP */
1678:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
1679:../../MMI/Resource/WriteImgRes.c ****     {
1680:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\0.%s", pathname, sequential_image[j].filename_ext);
 6119              	LM414:
 6120 32fa 8B85D0DF 		movl	-8240(%ebp), %eax
 6120      FFFF
 6121 3300 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6121      000000
 6122 3307 8944240C 		movl	%eax, 12(%esp)
 6123 330b 8B4508   		movl	8(%ebp), %eax
 6124 330e 89442408 		movl	%eax, 8(%esp)
 6125 3312 C7442404 		movl	$LC93, 4(%esp)
 6125      E82F0000 
 6126 331a 8D85F8DF 		leal	-8200(%ebp), %eax
 6126      FFFF
 6127 3320 890424   		movl	%eax, (%esp)
 6128 3323 E8000000 		call	_sprintf
 6128      00
1681:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename) )
 6130              	LM415:
 6131 3328 8D85F8DF 		leal	-8200(%ebp), %eax
 6131      FFFF
 6132 332e 890424   		movl	%eax, (%esp)
 6133 3331 E8000000 		call	_file_exist
 6133      00
 6134 3336 85C0     		testl	%eax, %eax
 6135 3338 740E     		je	L255
1682:../../MMI/Resource/WriteImgRes.c ****         {
1683:../../MMI/Resource/WriteImgRes.c ****             type = j;
 6137              	LM416:
 6138 333a 8B85D0DF 		movl	-8240(%ebp), %eax
 6138      FFFF
 6139 3340 8985E4DF 		movl	%eax, -8220(%ebp)
 6139      FFFF
1684:../../MMI/Resource/WriteImgRes.c ****             break;
 6141              	LM417:
 6142 3346 EB0A     		jmp	L254
 6144              	LM418:
 6145              	L255:
 6146 3348 8D85D0DF 		leal	-8240(%ebp), %eax
 6146      FFFF
 6147 334e FF08     		decl	(%eax)
 6148 3350 EB9D     		jmp	L253
 6149              	L254:
1685:../../MMI/Resource/WriteImgRes.c ****         }
1686:../../MMI/Resource/WriteImgRes.c ****     }
1687:../../MMI/Resource/WriteImgRes.c ****     if (type == -1)
 6151              	LM419:
 6152 3352 83BDE4DF 		cmpl	$-1, -8220(%ebp)
 6152      FFFFFF
 6153 3359 750F     		jne	L258
1688:../../MMI/Resource/WriteImgRes.c ****     {
1689:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 6155              	LM420:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 108


 6156 335b C78508C5 		movl	$0, -15096(%ebp)
 6156      FFFF0000 
 6156      0000
 6157 3365 E95A0C00 		jmp	L252
 6157      00
 6158              	L258:
1690:../../MMI/Resource/WriteImgRes.c ****     }
1691:../../MMI/Resource/WriteImgRes.c **** 
1692:../../MMI/Resource/WriteImgRes.c ****     /* read during & find how many files are in sequence */
1693:../../MMI/Resource/WriteImgRes.c ****     sprintf(filename, "%s\\\\interval.txt", pathname);
 6160              	LM421:
 6161 336a 8B4508   		movl	8(%ebp), %eax
 6162 336d 89442408 		movl	%eax, 8(%esp)
 6163 3371 C7442404 		movl	$LC94, 4(%esp)
 6163      F12F0000 
 6164 3379 8D85F8DF 		leal	-8200(%ebp), %eax
 6164      FFFF
 6165 337f 890424   		movl	%eax, (%esp)
 6166 3382 E8000000 		call	_sprintf
 6166      00
1694:../../MMI/Resource/WriteImgRes.c ****     imgfp = fopen(filename, "r");
 6168              	LM422:
 6169 3387 C7442404 		movl	$LC95, 4(%esp)
 6169      02300000 
 6170 338f 8D85F8DF 		leal	-8200(%ebp), %eax
 6170      FFFF
 6171 3395 890424   		movl	%eax, (%esp)
 6172 3398 E8000000 		call	_fopen
 6172      00
 6173 339d 8985F4DF 		movl	%eax, -8204(%ebp)
 6173      FFFF
1695:../../MMI/Resource/WriteImgRes.c ****     if (imgfp == NULL)
 6175              	LM423:
 6176 33a3 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6176      FFFF00
 6177 33aa 7525     		jne	L259
1696:../../MMI/Resource/WriteImgRes.c ****     {
1697:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("ERR: Can't find %s\n", filename);
 6179              	LM424:
 6180 33ac 8D85F8DF 		leal	-8200(%ebp), %eax
 6180      FFFF
 6181 33b2 89442404 		movl	%eax, 4(%esp)
 6182 33b6 C7042404 		movl	$LC96, (%esp)
 6182      300000
 6183 33bd E8000000 		call	_MtkResgenTrace
 6183      00
1698:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 6185              	LM425:
 6186 33c2 C78508C5 		movl	$0, -15096(%ebp)
 6186      FFFF0000 
 6186      0000
 6187 33cc E9F30B00 		jmp	L252
 6187      00
 6188              	L259:
1699:../../MMI/Resource/WriteImgRes.c ****     }
1700:../../MMI/Resource/WriteImgRes.c ****     else
1701:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 109


1702:../../MMI/Resource/WriteImgRes.c ****         S32 count = 0;
 6190              	LM426:
 6191              	LBB42:
 6192 33d1 C785C4D7 		movl	$0, -10300(%ebp)
 6192      FFFF0000 
 6192      0000
1703:../../MMI/Resource/WriteImgRes.c ****         S32 duration;
1704:../../MMI/Resource/WriteImgRes.c **** 
1705:../../MMI/Resource/WriteImgRes.c ****         sequence_counter = 0;
 6194              	LM427:
 6195 33db C785ECDF 		movl	$0, -8212(%ebp)
 6195      FFFF0000 
 6195      0000
1706:../../MMI/Resource/WriteImgRes.c ****         while(fscanf(imgfp, " %d", &duration) == 1)
 6197              	LM428:
 6198              	L261:
 6199 33e5 8D85C0D7 		leal	-10304(%ebp), %eax
 6199      FFFF
 6200 33eb 89442408 		movl	%eax, 8(%esp)
 6201 33ef C7442404 		movl	$LC97, 4(%esp)
 6201      18300000 
 6202 33f7 8B85F4DF 		movl	-8204(%ebp), %eax
 6202      FFFF
 6203 33fd 890424   		movl	%eax, (%esp)
 6204 3400 E8000000 		call	_fscanf
 6204      00
 6205 3405 83F801   		cmpl	$1, %eax
 6206 3408 7402     		je	L263
 6207 340a EB1F     		jmp	L262
 6208              	L263:
1707:../../MMI/Resource/WriteImgRes.c ****         {
1708:../../MMI/Resource/WriteImgRes.c ****             sequential_interval[sequence_counter++] = duration;
 6210              	LM429:
 6211 340c 8B85ECDF 		movl	-8212(%ebp), %eax
 6211      FFFF
 6212 3412 89C2     		movl	%eax, %edx
 6213 3414 8B85C0D7 		movl	-10304(%ebp), %eax
 6213      FFFF
 6214 341a 898495C8 		movl	%eax, -10296(%ebp,%edx,4)
 6214      D7FFFF
 6215 3421 8D85ECDF 		leal	-8212(%ebp), %eax
 6215      FFFF
 6216 3427 FF00     		incl	(%eax)
 6217 3429 EBBA     		jmp	L261
 6218              	L262:
1709:../../MMI/Resource/WriteImgRes.c ****         }
1710:../../MMI/Resource/WriteImgRes.c **** 
1711:../../MMI/Resource/WriteImgRes.c ****         /* we will recognize "LOOP " as prefix */
1712:../../MMI/Resource/WriteImgRes.c ****         play_count = (fscanf(imgfp, " LOOP %d", &count) == 1) ? ((U8)count) : (0);
 6220              	LM430:
 6221 342b 8D85C4D7 		leal	-10300(%ebp), %eax
 6221      FFFF
 6222 3431 89442408 		movl	%eax, 8(%esp)
 6223 3435 C7442404 		movl	$LC98, 4(%esp)
 6223      1C300000 
 6224 343d 8B85F4DF 		movl	-8204(%ebp), %eax
 6224      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 110


 6225 3443 890424   		movl	%eax, (%esp)
 6226 3446 E8000000 		call	_fscanf
 6226      00
 6227 344b 83F801   		cmpl	$1, %eax
 6228 344e 750F     		jne	L264
 6229 3450 0FB685C4 		movzbl	-10300(%ebp), %eax
 6229      D7FFFF
 6230 3457 888507C5 		movb	%al, -15097(%ebp)
 6230      FFFF
 6231 345d EB07     		jmp	L265
 6232              	L264:
 6233 345f C68507C5 		movb	$0, -15097(%ebp)
 6233      FFFF00
 6234              	L265:
 6235 3466 0FB68507 		movzbl	-15097(%ebp), %eax
 6235      C5FFFF
 6236 346d 8885CFDF 		movb	%al, -8241(%ebp)
 6236      FFFF
1713:../../MMI/Resource/WriteImgRes.c **** 
1714:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(imgfp);
 6238              	LM431:
 6239 3473 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6239      FFFF00
 6240 347a 7418     		je	L260
 6241 347c 8B85F4DF 		movl	-8204(%ebp), %eax
 6241      FFFF
 6242 3482 890424   		movl	%eax, (%esp)
 6243 3485 E8000000 		call	_fclose
 6243      00
 6244 348a C785F4DF 		movl	$0, -8204(%ebp)
 6244      FFFF0000 
 6244      0000
 6245              	L260:
1715:../../MMI/Resource/WriteImgRes.c ****     }
1716:../../MMI/Resource/WriteImgRes.c **** 
1717:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 6247              	LM432:
 6248              	LBE42:
 6249 3494 C785D0DF 		movl	$0, -8240(%ebp)
 6249      FFFF0000 
 6249      0000
 6250              	L268:
 6251 349e 8B85D0DF 		movl	-8240(%ebp), %eax
 6251      FFFF
 6252 34a4 3B85ECDF 		cmpl	-8212(%ebp), %eax
 6252      FFFF
 6253 34aa 7C05     		jl	L271
 6254 34ac E90A0700 		jmp	L269
 6254      00
 6255              	L271:
1718:../../MMI/Resource/WriteImgRes.c ****     {
1719:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 6257              	LM433:
 6258 34b1 8B85E4DF 		movl	-8220(%ebp), %eax
 6258      FFFF
 6259 34b7 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6259      000000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 111


 6260 34be 89442410 		movl	%eax, 16(%esp)
 6261 34c2 8B85D0DF 		movl	-8240(%ebp), %eax
 6261      FFFF
 6262 34c8 8944240C 		movl	%eax, 12(%esp)
 6263 34cc 8B4508   		movl	8(%ebp), %eax
 6264 34cf 89442408 		movl	%eax, 8(%esp)
 6265 34d3 C7442404 		movl	$LC99, 4(%esp)
 6265      25300000 
 6266 34db 8D85F8DF 		leal	-8200(%ebp), %eax
 6266      FFFF
 6267 34e1 890424   		movl	%eax, (%esp)
 6268 34e4 E8000000 		call	_sprintf
 6268      00
1720:../../MMI/Resource/WriteImgRes.c ****         imgfp = fopen(filename, "rb");
 6270              	LM434:
 6271 34e9 C7442404 		movl	$LC58, 4(%esp)
 6271      F30C0000 
 6272 34f1 8D85F8DF 		leal	-8200(%ebp), %eax
 6272      FFFF
 6273 34f7 890424   		movl	%eax, (%esp)
 6274 34fa E8000000 		call	_fopen
 6274      00
 6275 34ff 8985F4DF 		movl	%eax, -8204(%ebp)
 6275      FFFF
1721:../../MMI/Resource/WriteImgRes.c ****         if (imgfp != NULL)
 6277              	LM435:
 6278 3505 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6278      FFFF00
 6279 350c 0F848D06 		je	L272
 6279      0000
1722:../../MMI/Resource/WriteImgRes.c ****         {
1723:../../MMI/Resource/WriteImgRes.c ****             if (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_
 6281              	LM436:
 6282 3512 8B85E4DF 		movl	-8220(%ebp), %eax
 6282      FFFF
 6283 3518 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 6283      00000002 
 6284 3520 0F856003 		jne	L273
 6284      0000
 6285 3526 837D1804 		cmpl	$4, 24(%ebp)
 6286 352a 0F855603 		jne	L273
 6286      0000
1724:../../MMI/Resource/WriteImgRes.c ****             {
1725:../../MMI/Resource/WriteImgRes.c ****                 U8 *buffer;
1726:../../MMI/Resource/WriteImgRes.c ****                 S32 size, width, height, ret;
1727:../../MMI/Resource/WriteImgRes.c ****                 FILE *outfp = NULL;
 6288              	LM437:
 6289              	LBB43:
 6290 3530 C785A8D7 		movl	$0, -10328(%ebp)
 6290      FFFF0000 
 6290      0000
1728:../../MMI/Resource/WriteImgRes.c **** 
1729:../../MMI/Resource/WriteImgRes.c ****                 const char *ext = "abms";
 6292              	LM438:
 6293 353a C785A4D7 		movl	$LC100, -10332(%ebp)
 6293      FFFF2F30 
 6293      0000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 112


1730:../../MMI/Resource/WriteImgRes.c ****                 U32 encode_option = ABM_ENC_OPTION_FLAG_ABM; /* ABM exactly */
 6295              	LM439:
 6296 3544 C785A0D7 		movl	$2, -10336(%ebp)
 6296      FFFF0200 
 6296      0000
1731:../../MMI/Resource/WriteImgRes.c ****                 U32 want_ret = ABM_ENC_RETURN_USE_ABM;
 6298              	LM440:
 6299 354e C7859CD7 		movl	$1, -10340(%ebp)
 6299      FFFF0100 
 6299      0000
1732:../../MMI/Resource/WriteImgRes.c **** 
1733:../../MMI/Resource/WriteImgRes.c ****                 /* convert BMP to ABM */
1734:../../MMI/Resource/WriteImgRes.c ****                 buffer = (U8*)malloc(ABMENC_BMP_FILE_BUFFER_SIZE*sizeof(U8));
 6301              	LM441:
 6302 3558 C7042400 		movl	$16777216, (%esp)
 6302      000001
 6303 355f E8000000 		call	_malloc
 6303      00
 6304 3564 8985BCD7 		movl	%eax, -10308(%ebp)
 6304      FFFF
1735:../../MMI/Resource/WriteImgRes.c ****                 if (buffer == NULL)
 6306              	LM442:
 6307 356a 83BDBCD7 		cmpl	$0, -10308(%ebp)
 6307      FFFF00
 6308 3571 7538     		jne	L274
1736:../../MMI/Resource/WriteImgRes.c ****                 {
1737:../../MMI/Resource/WriteImgRes.c ****                     RESIMG_LOG_E("Write_Sequential_image: buffer == NULL\n");
 6310              	LM443:
 6311 3573 C7442408 		movl	$LC101, 8(%esp)
 6311      40300000 
 6312 357b C7442404 		movl	$LC34, 4(%esp)
 6312      64060000 
 6313 3583 C7042403 		movl	$3, (%esp)
 6313      000000
 6314 358a E8000000 		call	_reslog_adaptor_log
 6314      00
1738:../../MMI/Resource/WriteImgRes.c ****                     assert(0);
 6316              	LM444:
 6317 358f C7442408 		movl	$1738, 8(%esp)
 6317      CA060000 
 6318 3597 C7442404 		movl	$LC35, 4(%esp)
 6318      80060000 
 6319 359f C70424A1 		movl	$LC36, (%esp)
 6319      060000
 6320 35a6 E8000000 		call	__assert
 6320      00
 6321              	L274:
1739:../../MMI/Resource/WriteImgRes.c ****                     exit(2);
1740:../../MMI/Resource/WriteImgRes.c ****                 }
1741:../../MMI/Resource/WriteImgRes.c **** 
1742:../../MMI/Resource/WriteImgRes.c ****                 ret = ABM_load(filename,
 6323              	LM445:
 6324 35ab 8B451C   		movl	28(%ebp), %eax
 6325 35ae 89442424 		movl	%eax, 36(%esp)
 6326 35b2 8B4514   		movl	20(%ebp), %eax
 6327 35b5 89442420 		movl	%eax, 32(%esp)
 6328 35b9 8D85B0D7 		leal	-10320(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 113


 6328      FFFF
 6329 35bf 8944241C 		movl	%eax, 28(%esp)
 6330 35c3 8D85B4D7 		leal	-10316(%ebp), %eax
 6330      FFFF
 6331 35c9 89442418 		movl	%eax, 24(%esp)
 6332 35cd 8D85B8D7 		leal	-10312(%ebp), %eax
 6332      FFFF
 6333 35d3 89442414 		movl	%eax, 20(%esp)
 6334 35d7 8B85BCD7 		movl	-10308(%ebp), %eax
 6334      FFFF
 6335 35dd 89442410 		movl	%eax, 16(%esp)
 6336 35e1 8B85A0D7 		movl	-10336(%ebp), %eax
 6336      FFFF
 6337 35e7 8944240C 		movl	%eax, 12(%esp)
 6338 35eb C7442408 		movl	$1, 8(%esp)
 6338      01000000 
 6339 35f3 C7442404 		movl	$16, 4(%esp)
 6339      10000000 
 6340 35fb 8D85F8DF 		leal	-8200(%ebp), %eax
 6340      FFFF
 6341 3601 890424   		movl	%eax, (%esp)
 6342 3604 E8000000 		call	_ABM_load
 6342      00
 6343 3609 8985ACD7 		movl	%eax, -10324(%ebp)
 6343      FFFF
1743:../../MMI/Resource/WriteImgRes.c ****                         __MMI_DEVICE_BMP_FORMAT__,
1744:../../MMI/Resource/WriteImgRes.c ****                         IMAGE_TYPE_BMP, /* non PBM */
1745:../../MMI/Resource/WriteImgRes.c ****                         encode_option,
1746:../../MMI/Resource/WriteImgRes.c ****                         buffer,
1747:../../MMI/Resource/WriteImgRes.c ****                         &size, &width, &height, is9slice, processData);
1748:../../MMI/Resource/WriteImgRes.c **** 
1749:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = size;
 6345              	LM446:
 6346 360f 8B95D0DF 		movl	-8240(%ebp), %edx
 6346      FFFF
 6347 3615 8B85B8D7 		movl	-10312(%ebp), %eax
 6347      FFFF
 6348 361b 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6348      F7FFFF
1750:../../MMI/Resource/WriteImgRes.c **** 
1751:../../MMI/Resource/WriteImgRes.c ****                 sprintf(filename, "%s\\\\%d.%s", pathname, j, ext);
 6350              	LM447:
 6351 3622 8B85A4D7 		movl	-10332(%ebp), %eax
 6351      FFFF
 6352 3628 89442410 		movl	%eax, 16(%esp)
 6353 362c 8B85D0DF 		movl	-8240(%ebp), %eax
 6353      FFFF
 6354 3632 8944240C 		movl	%eax, 12(%esp)
 6355 3636 8B4508   		movl	8(%ebp), %eax
 6356 3639 89442408 		movl	%eax, 8(%esp)
 6357 363d C7442404 		movl	$LC99, 4(%esp)
 6357      25300000 
 6358 3645 8D85F8DF 		leal	-8200(%ebp), %eax
 6358      FFFF
 6359 364b 890424   		movl	%eax, (%esp)
 6360 364e E8000000 		call	_sprintf
 6360      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 114


1752:../../MMI/Resource/WriteImgRes.c ****                 if (ret == want_ret)
 6362              	LM448:
 6363 3653 8B85ACD7 		movl	-10324(%ebp), %eax
 6363      FFFF
 6364 3659 3B859CD7 		cmpl	-10340(%ebp), %eax
 6364      FFFF
 6365 365f 0F859000 		jne	L275
 6365      0000
1753:../../MMI/Resource/WriteImgRes.c ****                 {
1754:../../MMI/Resource/WriteImgRes.c ****                     outfp = fopen(filename, "wb+");
 6367              	LM449:
 6368 3665 C7442404 		movl	$LC102, 4(%esp)
 6368      68300000 
 6369 366d 8D85F8DF 		leal	-8200(%ebp), %eax
 6369      FFFF
 6370 3673 890424   		movl	%eax, (%esp)
 6371 3676 E8000000 		call	_fopen
 6371      00
 6372 367b 8985A8D7 		movl	%eax, -10328(%ebp)
 6372      FFFF
1755:../../MMI/Resource/WriteImgRes.c ****                     if (outfp != NULL)
 6374              	LM450:
 6375 3681 83BDA8D7 		cmpl	$0, -10328(%ebp)
 6375      FFFF00
 6376 3688 0F84E501 		je	L278
 6376      0000
1756:../../MMI/Resource/WriteImgRes.c ****                     {
1757:../../MMI/Resource/WriteImgRes.c ****                         S32 wsize;
1758:../../MMI/Resource/WriteImgRes.c **** 
1759:../../MMI/Resource/WriteImgRes.c ****                         wsize = fwrite(buffer, sizeof(U8), size, outfp);
 6378              	LM451:
 6379              	LBB44:
 6380 368e 8B85A8D7 		movl	-10328(%ebp), %eax
 6380      FFFF
 6381 3694 8944240C 		movl	%eax, 12(%esp)
 6382 3698 8B85B8D7 		movl	-10312(%ebp), %eax
 6382      FFFF
 6383 369e 89442408 		movl	%eax, 8(%esp)
 6384 36a2 C7442404 		movl	$1, 4(%esp)
 6384      01000000 
 6385 36aa 8B85BCD7 		movl	-10308(%ebp), %eax
 6385      FFFF
 6386 36b0 890424   		movl	%eax, (%esp)
 6387 36b3 E8000000 		call	_fwrite
 6387      00
 6388 36b8 898598D7 		movl	%eax, -10344(%ebp)
 6388      FFFF
1760:../../MMI/Resource/WriteImgRes.c ****                         if (wsize != size)
 6390              	LM452:
 6391 36be 8B8598D7 		movl	-10344(%ebp), %eax
 6391      FFFF
 6392 36c4 3B85B8D7 		cmpl	-10312(%ebp), %eax
 6392      FFFF
 6393 36ca 7416     		je	L277
1761:../../MMI/Resource/WriteImgRes.c ****                         {
1762:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[BMP->ABM sequence] size not match:\t%s\n", filename);
 6395              	LM453:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 115


 6396 36cc 8D85F8DF 		leal	-8200(%ebp), %eax
 6396      FFFF
 6397 36d2 89442404 		movl	%eax, 4(%esp)
 6398 36d6 C7042480 		movl	$LC103, (%esp)
 6398      300000
 6399 36dd E8000000 		call	_MtkResgenTrace
 6399      00
 6400              	L277:
1763:../../MMI/Resource/WriteImgRes.c ****                         }
1764:../../MMI/Resource/WriteImgRes.c ****                         fclose(outfp);
 6402              	LM454:
 6403 36e2 8B85A8D7 		movl	-10328(%ebp), %eax
 6403      FFFF
 6404 36e8 890424   		movl	%eax, (%esp)
 6405 36eb E8000000 		call	_fclose
 6405      00
 6406              	LBE44:
 6407 36f0 E97E0100 		jmp	L278
 6407      00
 6408              	L275:
1765:../../MMI/Resource/WriteImgRes.c ****                     }
1766:../../MMI/Resource/WriteImgRes.c ****                 }
1767:../../MMI/Resource/WriteImgRes.c ****                 else
1768:../../MMI/Resource/WriteImgRes.c ****                 {
1769:../../MMI/Resource/WriteImgRes.c ****                     if(ABM_ENC_RETURN_KEEP_ORIGINAL == ret) /* add for CMCC TD */
 6410              	LM455:
 6411 36f5 83BDACD7 		cmpl	$0, -10324(%ebp)
 6411      FFFF00
 6412 36fc 0F855B01 		jne	L279
 6412      0000
1770:../../MMI/Resource/WriteImgRes.c ****                     {
1771:../../MMI/Resource/WriteImgRes.c ****                         S32 isize = 0, risize = 0;
 6414              	LM456:
 6415              	LBB45:
 6416 3702 C78598D7 		movl	$0, -10344(%ebp)
 6416      FFFF0000 
 6416      0000
 6417 370c C78594D7 		movl	$0, -10348(%ebp)
 6417      FFFF0000 
 6417      0000
1772:../../MMI/Resource/WriteImgRes.c ****                         force_type = AUTO_TYPE;
 6419              	LM457:
 6420 3716 C7451800 		movl	$0, 24(%ebp)
 6420      000000
1773:../../MMI/Resource/WriteImgRes.c ****                         
1774:../../MMI/Resource/WriteImgRes.c ****                         fseek(imgfp, 0, SEEK_END);
 6422              	LM458:
 6423 371d C7442408 		movl	$2, 8(%esp)
 6423      02000000 
 6424 3725 C7442404 		movl	$0, 4(%esp)
 6424      00000000 
 6425 372d 8B85F4DF 		movl	-8204(%ebp), %eax
 6425      FFFF
 6426 3733 890424   		movl	%eax, (%esp)
 6427 3736 E8000000 		call	_fseek
 6427      00
1775:../../MMI/Resource/WriteImgRes.c ****                         isize = ftell(imgfp);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 116


 6429              	LM459:
 6430 373b 8B85F4DF 		movl	-8204(%ebp), %eax
 6430      FFFF
 6431 3741 890424   		movl	%eax, (%esp)
 6432 3744 E8000000 		call	_ftell
 6432      00
 6433 3749 898598D7 		movl	%eax, -10344(%ebp)
 6433      FFFF
1776:../../MMI/Resource/WriteImgRes.c ****                         fseek(imgfp, 0, SEEK_SET);
 6435              	LM460:
 6436 374f C7442408 		movl	$0, 8(%esp)
 6436      00000000 
 6437 3757 C7442404 		movl	$0, 4(%esp)
 6437      00000000 
 6438 375f 8B85F4DF 		movl	-8204(%ebp), %eax
 6438      FFFF
 6439 3765 890424   		movl	%eax, (%esp)
 6440 3768 E8000000 		call	_fseek
 6440      00
1777:../../MMI/Resource/WriteImgRes.c ****                         risize = fread(buffer, sizeof(U8), isize, imgfp);
 6442              	LM461:
 6443 376d 8B85F4DF 		movl	-8204(%ebp), %eax
 6443      FFFF
 6444 3773 8944240C 		movl	%eax, 12(%esp)
 6445 3777 8B8598D7 		movl	-10344(%ebp), %eax
 6445      FFFF
 6446 377d 89442408 		movl	%eax, 8(%esp)
 6447 3781 C7442404 		movl	$1, 4(%esp)
 6447      01000000 
 6448 3789 8B85BCD7 		movl	-10308(%ebp), %eax
 6448      FFFF
 6449 378f 890424   		movl	%eax, (%esp)
 6450 3792 E8000000 		call	_fread
 6450      00
 6451 3797 898594D7 		movl	%eax, -10348(%ebp)
 6451      FFFF
1778:../../MMI/Resource/WriteImgRes.c ****                         if(risize != isize)
 6453              	LM462:
 6454 379d 8B8594D7 		movl	-10348(%ebp), %eax
 6454      FFFF
 6455 37a3 3B8598D7 		cmpl	-10344(%ebp), %eax
 6455      FFFF
 6456 37a9 7416     		je	L280
1779:../../MMI/Resource/WriteImgRes.c ****                         {
1780:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[BMP->ABM sequence] read size not match:\t%s\n", filena
 6458              	LM463:
 6459 37ab 8D85F8DF 		leal	-8200(%ebp), %eax
 6459      FFFF
 6460 37b1 89442404 		movl	%eax, 4(%esp)
 6461 37b5 C70424C0 		movl	$LC104, (%esp)
 6461      300000
 6462 37bc E8000000 		call	_MtkResgenTrace
 6462      00
 6463              	L280:
1781:../../MMI/Resource/WriteImgRes.c ****                         }
1782:../../MMI/Resource/WriteImgRes.c **** 				                
1783:../../MMI/Resource/WriteImgRes.c ****                         outfp = fopen(filename, "wb+");
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 117


 6465              	LM464:
 6466 37c1 C7442404 		movl	$LC102, 4(%esp)
 6466      68300000 
 6467 37c9 8D85F8DF 		leal	-8200(%ebp), %eax
 6467      FFFF
 6468 37cf 890424   		movl	%eax, (%esp)
 6469 37d2 E8000000 		call	_fopen
 6469      00
 6470 37d7 8985A8D7 		movl	%eax, -10328(%ebp)
 6470      FFFF
1784:../../MMI/Resource/WriteImgRes.c ****                         if (outfp != NULL)
 6472              	LM465:
 6473 37dd 83BDA8D7 		cmpl	$0, -10328(%ebp)
 6473      FFFF00
 6474 37e4 7462     		je	L281
1785:../../MMI/Resource/WriteImgRes.c ****                         {
1786:../../MMI/Resource/WriteImgRes.c ****                             S32 wsize;
1787:../../MMI/Resource/WriteImgRes.c **** 		                        
1788:../../MMI/Resource/WriteImgRes.c ****                             wsize = fwrite(buffer, sizeof(U8), risize, outfp);
 6476              	LM466:
 6477              	LBB46:
 6478 37e6 8B85A8D7 		movl	-10328(%ebp), %eax
 6478      FFFF
 6479 37ec 8944240C 		movl	%eax, 12(%esp)
 6480 37f0 8B8594D7 		movl	-10348(%ebp), %eax
 6480      FFFF
 6481 37f6 89442408 		movl	%eax, 8(%esp)
 6482 37fa C7442404 		movl	$1, 4(%esp)
 6482      01000000 
 6483 3802 8B85BCD7 		movl	-10308(%ebp), %eax
 6483      FFFF
 6484 3808 890424   		movl	%eax, (%esp)
 6485 380b E8000000 		call	_fwrite
 6485      00
 6486 3810 898590D7 		movl	%eax, -10352(%ebp)
 6486      FFFF
1789:../../MMI/Resource/WriteImgRes.c ****                             if (wsize != risize)
 6488              	LM467:
 6489 3816 8B8590D7 		movl	-10352(%ebp), %eax
 6489      FFFF
 6490 381c 3B8594D7 		cmpl	-10348(%ebp), %eax
 6490      FFFF
 6491 3822 7416     		je	L282
1790:../../MMI/Resource/WriteImgRes.c ****                             {
1791:../../MMI/Resource/WriteImgRes.c ****                                 RES_PRINT_INFO("[BMP->ABM sequence] write size not match:\t%s\n", f
 6493              	LM468:
 6494 3824 8D85F8DF 		leal	-8200(%ebp), %eax
 6494      FFFF
 6495 382a 89442404 		movl	%eax, 4(%esp)
 6496 382e C7042400 		movl	$LC105, (%esp)
 6496      310000
 6497 3835 E8000000 		call	_MtkResgenTrace
 6497      00
 6498              	L282:
1792:../../MMI/Resource/WriteImgRes.c ****                             }
1793:../../MMI/Resource/WriteImgRes.c ****                             fclose(outfp);
 6500              	LM469:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 118


 6501 383a 8B85A8D7 		movl	-10328(%ebp), %eax
 6501      FFFF
 6502 3840 890424   		movl	%eax, (%esp)
 6503 3843 E8000000 		call	_fclose
 6503      00
 6504              	L281:
1794:../../MMI/Resource/WriteImgRes.c ****                         }
1795:../../MMI/Resource/WriteImgRes.c ****                         sequential_filesize[j] = isize;
 6506              	LM470:
 6507              	LBE46:
 6508 3848 8B95D0DF 		movl	-8240(%ebp), %edx
 6508      FFFF
 6509 384e 8B8598D7 		movl	-10344(%ebp), %eax
 6509      FFFF
 6510 3854 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6510      F7FFFF
 6511              	LBE45:
 6512 385b EB16     		jmp	L278
 6513              	L279:
1796:../../MMI/Resource/WriteImgRes.c ****                     }
1797:../../MMI/Resource/WriteImgRes.c ****                     else
1798:../../MMI/Resource/WriteImgRes.c ****                     {
1799:../../MMI/Resource/WriteImgRes.c ****                         RES_PRINT_INFO("[BMP->ABM sequence] err encode format:\t%s\n", filename);
 6515              	LM471:
 6516 385d 8D85F8DF 		leal	-8200(%ebp), %eax
 6516      FFFF
 6517 3863 89442404 		movl	%eax, 4(%esp)
 6518 3867 C7042440 		movl	$LC106, (%esp)
 6518      310000
 6519 386e E8000000 		call	_MtkResgenTrace
 6519      00
 6520              	L278:
1800:../../MMI/Resource/WriteImgRes.c ****                     }
1801:../../MMI/Resource/WriteImgRes.c ****                 }
1802:../../MMI/Resource/WriteImgRes.c **** 
1803:../../MMI/Resource/WriteImgRes.c ****                 free(buffer);
 6522              	LM472:
 6523 3873 8B85BCD7 		movl	-10308(%ebp), %eax
 6523      FFFF
 6524 3879 890424   		movl	%eax, (%esp)
 6525 387c E8000000 		call	_free
 6525      00
 6526              	LBE43:
 6527 3881 E9F60200 		jmp	L284
 6527      00
 6528              	L273:
1804:../../MMI/Resource/WriteImgRes.c ****             }
1805:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) //&& !defined(GDI_USING_HW_PNG)
1806:../../MMI/Resource/WriteImgRes.c ****             /* If PNG, we will convert it to ABM or AB2 */
1807:../../MMI/Resource/WriteImgRes.c ****             else if (sequential_image[type].file_type == IMAGE_TYPE_ABM_SEQUENCE ||
 6530              	LM473:
 6531 3886 8B85E4DF 		movl	-8220(%ebp), %eax
 6531      FFFF
 6532 388c 803CC504 		cmpb	$41, _sequential_image+4(,%eax,8)
 6532      00000029 
 6533 3894 742F     		je	L286
 6534 3896 8B85E4DF 		movl	-8220(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 119


 6534      FFFF
 6535 389c 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
 6535      00000035 
 6536 38a4 741F     		je	L286
 6537 38a6 8B85E4DF 		movl	-8220(%ebp), %eax
 6537      FFFF
 6538 38ac 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 6538      00000015 
 6539 38b4 0F856B02 		jne	L285
 6539      0000
 6540 38ba 837D1804 		cmpl	$4, 24(%ebp)
 6541 38be 7405     		je	L286
 6542 38c0 E9600200 		jmp	L285
 6542      00
 6543              	L286:
1808:../../MMI/Resource/WriteImgRes.c ****                 sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE ||
1809:../../MMI/Resource/WriteImgRes.c ****                 (sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE
1810:../../MMI/Resource/WriteImgRes.c ****             {
1811:../../MMI/Resource/WriteImgRes.c ****                 S8 tempBMPFile[BUFFER_SIZE];
1812:../../MMI/Resource/WriteImgRes.c ****                 S8 tempCommand[SHELL_CMD_BUFLEN];
1813:../../MMI/Resource/WriteImgRes.c ****                 U8 *buffer;
1814:../../MMI/Resource/WriteImgRes.c ****                 S32 size, width, height, ret;
1815:../../MMI/Resource/WriteImgRes.c ****                 FILE *outfp = NULL;
 6545              	LM474:
 6546              	LBB47:
 6547 38c5 C785A4D7 		movl	$0, -10332(%ebp)
 6547      FFFF0000 
 6547      0000
1816:../../MMI/Resource/WriteImgRes.c **** 
1817:../../MMI/Resource/WriteImgRes.c ****                 const char *ext = "abms";
 6549              	LM475:
 6550 38cf C785A8D7 		movl	$LC100, -10328(%ebp)
 6550      FFFF2F30 
 6550      0000
1818:../../MMI/Resource/WriteImgRes.c ****                 U32 encode_option = ABM_ENC_OPTION_FLAG_ABM; /* ABM exactly */
 6552              	LM476:
 6553 38d9 C785ACD7 		movl	$2, -10324(%ebp)
 6553      FFFF0200 
 6553      0000
1819:../../MMI/Resource/WriteImgRes.c ****                 U32 want_ret = ABM_ENC_RETURN_USE_ABM;
 6555              	LM477:
 6556 38e3 C785BCD7 		movl	$1, -10308(%ebp)
 6556      FFFF0100 
 6556      0000
1820:../../MMI/Resource/WriteImgRes.c **** 
1821:../../MMI/Resource/WriteImgRes.c ****                 /* decide which format */
1822:../../MMI/Resource/WriteImgRes.c ****                 if (sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE)
 6558              	LM478:
 6559 38ed 8B85E4DF 		movl	-8220(%ebp), %eax
 6559      FFFF
 6560 38f3 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
 6560      00000035 
 6561 38fb 751E     		jne	L287
1823:../../MMI/Resource/WriteImgRes.c ****                 {
1824:../../MMI/Resource/WriteImgRes.c ****                     const char *ext = "ab2s";
 6563              	LM479:
 6564              	LBB48:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 120


 6565 38fd C78514C5 		movl	$LC107, -15084(%ebp)
 6565      FFFF6B31 
 6565      0000
1825:../../MMI/Resource/WriteImgRes.c ****                     U32 encode_option = ABM_ENC_OPTION_FLAG_AB2; /* AB2 exactly */
 6567              	LM480:
 6568 3907 C78510C5 		movl	$4, -15088(%ebp)
 6568      FFFF0400 
 6568      0000
1826:../../MMI/Resource/WriteImgRes.c ****                     U32 want_ret = ABM_ENC_RETURN_USE_AB2;
 6570              	LM481:
 6571 3911 C7850CC5 		movl	$2, -15092(%ebp)
 6571      FFFF0200 
 6571      0000
 6572              	L287:
1827:../../MMI/Resource/WriteImgRes.c ****                 }
1828:../../MMI/Resource/WriteImgRes.c **** 
1829:../../MMI/Resource/WriteImgRes.c ****                 /* convert PNG to 32-bits BMP */
1830:../../MMI/Resource/WriteImgRes.c ****                 strcpy((char*)tempBMPFile, (const char*)filename);
 6574              	LM482:
 6575              	LBE48:
 6576 391b 8D85F8DF 		leal	-8200(%ebp), %eax
 6576      FFFF
 6577 3921 89442404 		movl	%eax, 4(%esp)
 6578 3925 8D8588C7 		leal	-14456(%ebp), %eax
 6578      FFFF
 6579 392b 890424   		movl	%eax, (%esp)
 6580 392e E8000000 		call	_strcpy
 6580      00
1831:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(tempBMPFile, RES_IMAGE, IMAGE_TYPE_BMP);
 6582              	LM483:
 6583 3933 C7442408 		movl	$1, 8(%esp)
 6583      01000000 
 6584 393b C7442404 		movl	$0, 4(%esp)
 6584      00000000 
 6585 3943 8D8588C7 		leal	-14456(%ebp), %eax
 6585      FFFF
 6586 3949 890424   		movl	%eax, (%esp)
 6587 394c E8000000 		call	_ChangeExtension
 6587      00
1832:../../MMI/Resource/WriteImgRes.c ****                 //sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none %s %
1833:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempCommand, ".\\\\convert.exe -channel Alpha -negate -compress none %s %s 
 6589              	LM484:
 6590 3951 8D8588C7 		leal	-14456(%ebp), %eax
 6590      FFFF
 6591 3957 8944240C 		movl	%eax, 12(%esp)
 6592 395b 8D85F8DF 		leal	-8200(%ebp), %eax
 6592      FFFF
 6593 3961 89442408 		movl	%eax, 8(%esp)
 6594 3965 C7442404 		movl	$LC108, 4(%esp)
 6594      80310000 
 6595 396d 8D8518C5 		leal	-15080(%ebp), %eax
 6595      FFFF
 6596 3973 890424   		movl	%eax, (%esp)
 6597 3976 E8000000 		call	_sprintf
 6597      00
1834:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("%s\n", tempCommand);
 6599              	LM485:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 121


 6600 397b 8D8518C5 		leal	-15080(%ebp), %eax
 6600      FFFF
 6601 3981 89442404 		movl	%eax, 4(%esp)
 6602 3985 C7042449 		movl	$LC52, (%esp)
 6602      0C0000
 6603 398c E8000000 		call	_MtkResgenTrace
 6603      00
1835:../../MMI/Resource/WriteImgRes.c ****                 system(tempCommand);
 6605              	LM486:
 6606 3991 8D8518C5 		leal	-15080(%ebp), %eax
 6606      FFFF
 6607 3997 890424   		movl	%eax, (%esp)
 6608 399a E8000000 		call	_system
 6608      00
1836:../../MMI/Resource/WriteImgRes.c **** 
1837:../../MMI/Resource/WriteImgRes.c ****                 /* convert 32-bits BMP to ABM */
1838:../../MMI/Resource/WriteImgRes.c ****                 buffer = (U8*)malloc(ABMENC_BMP_FILE_BUFFER_SIZE*sizeof(U8));
 6610              	LM487:
 6611 399f C7042400 		movl	$16777216, (%esp)
 6611      000001
 6612 39a6 E8000000 		call	_malloc
 6612      00
 6613 39ab 898590D7 		movl	%eax, -10352(%ebp)
 6613      FFFF
1839:../../MMI/Resource/WriteImgRes.c ****                 ASSERT(buffer != NULL);
 6615              	LM488:
 6616 39b1 83BD90D7 		cmpl	$0, -10352(%ebp)
 6616      FFFF00
 6617 39b8 7502     		jne	L292
 6618              	L289:
 6619 39ba EBFE     		jmp	L289
 6620              	L292:
1840:../../MMI/Resource/WriteImgRes.c **** 
1841:../../MMI/Resource/WriteImgRes.c ****                 ret = ABM_load(tempBMPFile,
 6622              	LM489:
 6623 39bc 8B451C   		movl	28(%ebp), %eax
 6624 39bf 89442424 		movl	%eax, 36(%esp)
 6625 39c3 8B4514   		movl	20(%ebp), %eax
 6626 39c6 89442420 		movl	%eax, 32(%esp)
 6627 39ca 8D859CD7 		leal	-10340(%ebp), %eax
 6627      FFFF
 6628 39d0 8944241C 		movl	%eax, 28(%esp)
 6629 39d4 8D8598D7 		leal	-10344(%ebp), %eax
 6629      FFFF
 6630 39da 89442418 		movl	%eax, 24(%esp)
 6631 39de 8D8594D7 		leal	-10348(%ebp), %eax
 6631      FFFF
 6632 39e4 89442414 		movl	%eax, 20(%esp)
 6633 39e8 8B8590D7 		movl	-10352(%ebp), %eax
 6633      FFFF
 6634 39ee 89442410 		movl	%eax, 16(%esp)
 6635 39f2 8B85ACD7 		movl	-10324(%ebp), %eax
 6635      FFFF
 6636 39f8 8944240C 		movl	%eax, 12(%esp)
 6637 39fc C7442408 		movl	$19, 8(%esp)
 6637      13000000 
 6638 3a04 C7442404 		movl	$16, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 122


 6638      10000000 
 6639 3a0c 8D8588C7 		leal	-14456(%ebp), %eax
 6639      FFFF
 6640 3a12 890424   		movl	%eax, (%esp)
 6641 3a15 E8000000 		call	_ABM_load
 6641      00
 6642 3a1a 8985A0D7 		movl	%eax, -10336(%ebp)
 6642      FFFF
1842:../../MMI/Resource/WriteImgRes.c ****                         __MMI_DEVICE_BMP_FORMAT__,
1843:../../MMI/Resource/WriteImgRes.c ****                         IMAGE_TYPE_PNG, /* non PBM */
1844:../../MMI/Resource/WriteImgRes.c ****                         encode_option,
1845:../../MMI/Resource/WriteImgRes.c ****                         buffer,
1846:../../MMI/Resource/WriteImgRes.c ****                         &size, &width, &height, is9slice, processData);
1847:../../MMI/Resource/WriteImgRes.c **** 
1848:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = size;
 6644              	LM490:
 6645 3a20 8B95D0DF 		movl	-8240(%ebp), %edx
 6645      FFFF
 6646 3a26 8B8594D7 		movl	-10348(%ebp), %eax
 6646      FFFF
 6647 3a2c 898495F8 		movl	%eax, -2056(%ebp,%edx,4)
 6647      F7FFFF
1849:../../MMI/Resource/WriteImgRes.c **** 
1850:../../MMI/Resource/WriteImgRes.c ****                 sprintf(tempBMPFile, "%s\\\\%d.%s", pathname, j, ext);
 6649              	LM491:
 6650 3a33 8B85A8D7 		movl	-10328(%ebp), %eax
 6650      FFFF
 6651 3a39 89442410 		movl	%eax, 16(%esp)
 6652 3a3d 8B85D0DF 		movl	-8240(%ebp), %eax
 6652      FFFF
 6653 3a43 8944240C 		movl	%eax, 12(%esp)
 6654 3a47 8B4508   		movl	8(%ebp), %eax
 6655 3a4a 89442408 		movl	%eax, 8(%esp)
 6656 3a4e C7442404 		movl	$LC99, 4(%esp)
 6656      25300000 
 6657 3a56 8D8588C7 		leal	-14456(%ebp), %eax
 6657      FFFF
 6658 3a5c 890424   		movl	%eax, (%esp)
 6659 3a5f E8000000 		call	_sprintf
 6659      00
1851:../../MMI/Resource/WriteImgRes.c ****                 if (ret == want_ret)
 6661              	LM492:
 6662 3a64 8B85A0D7 		movl	-10336(%ebp), %eax
 6662      FFFF
 6663 3a6a 3B85BCD7 		cmpl	-10308(%ebp), %eax
 6663      FFFF
 6664 3a70 0F858900 		jne	L293
 6664      0000
1852:../../MMI/Resource/WriteImgRes.c ****                 {
1853:../../MMI/Resource/WriteImgRes.c ****                     outfp = fopen(tempBMPFile, "wb+");
 6666              	LM493:
 6667 3a76 C7442404 		movl	$LC102, 4(%esp)
 6667      68300000 
 6668 3a7e 8D8588C7 		leal	-14456(%ebp), %eax
 6668      FFFF
 6669 3a84 890424   		movl	%eax, (%esp)
 6670 3a87 E8000000 		call	_fopen
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 123


 6670      00
 6671 3a8c 8985A4D7 		movl	%eax, -10332(%ebp)
 6671      FFFF
1854:../../MMI/Resource/WriteImgRes.c ****                     if (outfp != NULL)
 6673              	LM494:
 6674 3a92 83BDA4D7 		cmpl	$0, -10332(%ebp)
 6674      FFFF00
 6675 3a99 747A     		je	L296
1855:../../MMI/Resource/WriteImgRes.c ****                     {
1856:../../MMI/Resource/WriteImgRes.c ****                         S32 wsize;
1857:../../MMI/Resource/WriteImgRes.c **** 
1858:../../MMI/Resource/WriteImgRes.c ****                         wsize = fwrite(buffer, sizeof(U8), size, outfp);
 6677              	LM495:
 6678              	LBB49:
 6679 3a9b 8B85A4D7 		movl	-10332(%ebp), %eax
 6679      FFFF
 6680 3aa1 8944240C 		movl	%eax, 12(%esp)
 6681 3aa5 8B8594D7 		movl	-10348(%ebp), %eax
 6681      FFFF
 6682 3aab 89442408 		movl	%eax, 8(%esp)
 6683 3aaf C7442404 		movl	$1, 4(%esp)
 6683      01000000 
 6684 3ab7 8B8590D7 		movl	-10352(%ebp), %eax
 6684      FFFF
 6685 3abd 890424   		movl	%eax, (%esp)
 6686 3ac0 E8000000 		call	_fwrite
 6686      00
 6687 3ac5 89850CC5 		movl	%eax, -15092(%ebp)
 6687      FFFF
1859:../../MMI/Resource/WriteImgRes.c ****                         if (wsize != size)
 6689              	LM496:
 6690 3acb 8B850CC5 		movl	-15092(%ebp), %eax
 6690      FFFF
 6691 3ad1 3B8594D7 		cmpl	-10348(%ebp), %eax
 6691      FFFF
 6692 3ad7 7416     		je	L295
1860:../../MMI/Resource/WriteImgRes.c ****                         {
1861:../../MMI/Resource/WriteImgRes.c ****                             RES_PRINT_INFO("[ABM sequence] size not match:\t%s\n", tempBMPFile);
 6694              	LM497:
 6695 3ad9 8D8588C7 		leal	-14456(%ebp), %eax
 6695      FFFF
 6696 3adf 89442404 		movl	%eax, 4(%esp)
 6697 3ae3 C70424E0 		movl	$LC109, (%esp)
 6697      310000
 6698 3aea E8000000 		call	_MtkResgenTrace
 6698      00
 6699              	L295:
1862:../../MMI/Resource/WriteImgRes.c ****                         }
1863:../../MMI/Resource/WriteImgRes.c ****                         fclose(outfp);
 6701              	LM498:
 6702 3aef 8B85A4D7 		movl	-10332(%ebp), %eax
 6702      FFFF
 6703 3af5 890424   		movl	%eax, (%esp)
 6704 3af8 E8000000 		call	_fclose
 6704      00
 6705              	LBE49:
 6706 3afd EB16     		jmp	L296
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 124


 6707              	L293:
1864:../../MMI/Resource/WriteImgRes.c ****                     }
1865:../../MMI/Resource/WriteImgRes.c ****                 }
1866:../../MMI/Resource/WriteImgRes.c ****                 else
1867:../../MMI/Resource/WriteImgRes.c ****                 {
1868:../../MMI/Resource/WriteImgRes.c ****                     RES_PRINT_INFO("[ABM sequence] err encode format:\t%s\n", tempBMPFile);
 6709              	LM499:
 6710 3aff 8D8588C7 		leal	-14456(%ebp), %eax
 6710      FFFF
 6711 3b05 89442404 		movl	%eax, 4(%esp)
 6712 3b09 C7042420 		movl	$LC110, (%esp)
 6712      320000
 6713 3b10 E8000000 		call	_MtkResgenTrace
 6713      00
 6714              	L296:
1869:../../MMI/Resource/WriteImgRes.c ****                 }
1870:../../MMI/Resource/WriteImgRes.c **** 
1871:../../MMI/Resource/WriteImgRes.c ****                 free(buffer);
 6716              	LM500:
 6717 3b15 8B8590D7 		movl	-10352(%ebp), %eax
 6717      FFFF
 6718 3b1b 890424   		movl	%eax, (%esp)
 6719 3b1e E8000000 		call	_free
 6719      00
 6720              	LBE47:
 6721 3b23 EB57     		jmp	L284
 6722              	L285:
1872:../../MMI/Resource/WriteImgRes.c ****             }
1873:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1874:../../MMI/Resource/WriteImgRes.c ****             else
1875:../../MMI/Resource/WriteImgRes.c ****             {
1876:../../MMI/Resource/WriteImgRes.c ****                 fseek(imgfp, 0, SEEK_END);
 6724              	LM501:
 6725 3b25 C7442408 		movl	$2, 8(%esp)
 6725      02000000 
 6726 3b2d C7442404 		movl	$0, 4(%esp)
 6726      00000000 
 6727 3b35 8B85F4DF 		movl	-8204(%ebp), %eax
 6727      FFFF
 6728 3b3b 890424   		movl	%eax, (%esp)
 6729 3b3e E8000000 		call	_fseek
 6729      00
1877:../../MMI/Resource/WriteImgRes.c ****                 sequential_filesize[j] = ftell(imgfp);
 6731              	LM502:
 6732 3b43 8B9DD0DF 		movl	-8240(%ebp), %ebx
 6732      FFFF
 6733 3b49 8B85F4DF 		movl	-8204(%ebp), %eax
 6733      FFFF
 6734 3b4f 890424   		movl	%eax, (%esp)
 6735 3b52 E8000000 		call	_ftell
 6735      00
 6736 3b57 89849DF8 		movl	%eax, -2056(%ebp,%ebx,4)
 6736      F7FFFF
1878:../../MMI/Resource/WriteImgRes.c ****                 fseek(imgfp, 0, SEEK_SET);
 6738              	LM503:
 6739 3b5e C7442408 		movl	$0, 8(%esp)
 6739      00000000 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 125


 6740 3b66 C7442404 		movl	$0, 4(%esp)
 6740      00000000 
 6741 3b6e 8B85F4DF 		movl	-8204(%ebp), %eax
 6741      FFFF
 6742 3b74 890424   		movl	%eax, (%esp)
 6743 3b77 E8000000 		call	_fseek
 6743      00
 6744              	L284:
1879:../../MMI/Resource/WriteImgRes.c ****             }
1880:../../MMI/Resource/WriteImgRes.c **** 
1881:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(imgfp);
 6746              	LM504:
 6747 3b7c 83BDF4DF 		cmpl	$0, -8204(%ebp)
 6747      FFFF00
 6748 3b83 7429     		je	L270
 6749 3b85 8B85F4DF 		movl	-8204(%ebp), %eax
 6749      FFFF
 6750 3b8b 890424   		movl	%eax, (%esp)
 6751 3b8e E8000000 		call	_fclose
 6751      00
 6752 3b93 C785F4DF 		movl	$0, -8204(%ebp)
 6752      FFFF0000 
 6752      0000
 6753 3b9d EB0F     		jmp	L270
 6754              	L272:
1882:../../MMI/Resource/WriteImgRes.c ****         }
1883:../../MMI/Resource/WriteImgRes.c ****         else
1884:../../MMI/Resource/WriteImgRes.c ****         {
1885:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 6756              	LM505:
 6757 3b9f C78508C5 		movl	$0, -15096(%ebp)
 6757      FFFF0000 
 6757      0000
 6758 3ba9 E9160400 		jmp	L252
 6758      00
 6760              	LM506:
 6761              	L270:
 6762 3bae 8D85D0DF 		leal	-8240(%ebp), %eax
 6762      FFFF
 6763 3bb4 FF00     		incl	(%eax)
 6764 3bb6 E9E3F8FF 		jmp	L268
 6764      FF
 6765              	L269:
1886:../../MMI/Resource/WriteImgRes.c ****         }
1887:../../MMI/Resource/WriteImgRes.c ****     }
1888:../../MMI/Resource/WriteImgRes.c **** 
1889:../../MMI/Resource/WriteImgRes.c ****     /* write each image raw data */
1890:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1891:../../MMI/Resource/WriteImgRes.c ****     sprintf(filename, "%s\\\\0.%s", pathname, sequential_image[type].filename_ext);
1892:../../MMI/Resource/WriteImgRes.c ****     enfb_ret = Image_Test(filename, &enfb_width, &enfb_height, processData->disable_enfb);
1893:../../MMI/Resource/WriteImgRes.c ****     if (enfb_ret!= ENFB_IMAGE_NONE)
1894:../../MMI/Resource/WriteImgRes.c ****     {
1895:../../MMI/Resource/WriteImgRes.c ****         processData->enfb_flag = 1;
1896:../../MMI/Resource/WriteImgRes.c ****         if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
1897:../../MMI/Resource/WriteImgRes.c ****         {
1898:../../MMI/Resource/WriteImgRes.c ****             ENFBAssociatedIDAdded = MMI_TRUE;
1899:../../MMI/Resource/WriteImgRes.c ****         }
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 126


1900:../../MMI/Resource/WriteImgRes.c ****     }
1901:../../MMI/Resource/WriteImgRes.c **** #endif
1902:../../MMI/Resource/WriteImgRes.c **** 
1903:../../MMI/Resource/WriteImgRes.c ****     sequential_frame = sequence_counter;
 6767              	LM507:
 6768 3bbb 8B85ECDF 		movl	-8212(%ebp), %eax
 6768      FFFF
 6769 3bc1 8985F0DF 		movl	%eax, -8208(%ebp)
 6769      FFFF
1904:../../MMI/Resource/WriteImgRes.c **** 
1905:../../MMI/Resource/WriteImgRes.c ****     /* construct the data structure name */
1906:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "__align(4) const U8 %s%s", output_name, OUTPUT_IMAGE_NAMES_END
 6771              	LM508:
 6772 3bc7 C744240C 		movl	$LC77, 12(%esp)
 6772      21240000 
 6773 3bcf 8B450C   		movl	12(%ebp), %eax
 6774 3bd2 89442408 		movl	%eax, 8(%esp)
 6775 3bd6 C7442404 		movl	$LC111, 4(%esp)
 6775      46320000 
 6776 3bde 8B4510   		movl	16(%ebp), %eax
 6777 3be1 890424   		movl	%eax, (%esp)
 6778 3be4 E8000000 		call	_ImageOutStreamPrintf
 6778      00
1907:../../MMI/Resource/WriteImgRes.c **** 
1908:../../MMI/Resource/WriteImgRes.c ****     /* get width and height */
1909:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 6780              	LM509:
 6781 3be9 C785D0DF 		movl	$0, -8240(%ebp)
 6781      FFFF0000 
 6781      0000
 6782              	L301:
 6783 3bf3 8B85D0DF 		movl	-8240(%ebp), %eax
 6783      FFFF
 6784 3bf9 3B85ECDF 		cmpl	-8212(%ebp), %eax
 6784      FFFF
 6785 3bff 7C05     		jl	L304
 6786 3c01 E9E30000 		jmp	L302
 6786      00
 6787              	L304:
1910:../../MMI/Resource/WriteImgRes.c ****     {
1911:../../MMI/Resource/WriteImgRes.c ****         sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 6789              	LM510:
 6790 3c06 8B85E4DF 		movl	-8220(%ebp), %eax
 6790      FFFF
 6791 3c0c 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6791      000000
 6792 3c13 89442410 		movl	%eax, 16(%esp)
 6793 3c17 8B85D0DF 		movl	-8240(%ebp), %eax
 6793      FFFF
 6794 3c1d 8944240C 		movl	%eax, 12(%esp)
 6795 3c21 8B4508   		movl	8(%ebp), %eax
 6796 3c24 89442408 		movl	%eax, 8(%esp)
 6797 3c28 C7442404 		movl	$LC99, 4(%esp)
 6797      25300000 
 6798 3c30 8D85F8DF 		leal	-8200(%ebp), %eax
 6798      FFFF
 6799 3c36 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 127


 6800 3c39 E8000000 		call	_sprintf
 6800      00
1912:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(filename) )
 6802              	LM511:
 6803 3c3e 8D85F8DF 		leal	-8200(%ebp), %eax
 6803      FFFF
 6804 3c44 890424   		movl	%eax, (%esp)
 6805 3c47 E8000000 		call	_file_exist
 6805      00
 6806 3c4c 85C0     		testl	%eax, %eax
 6807 3c4e 747D     		je	L305
1913:../../MMI/Resource/WriteImgRes.c ****         {
1914:../../MMI/Resource/WriteImgRes.c ****             n_frames = Image_Get_Dimensions(filename, &width, &height);
 6809              	LM512:
 6810 3c50 8D85DCDF 		leal	-8228(%ebp), %eax
 6810      FFFF
 6811 3c56 89442408 		movl	%eax, 8(%esp)
 6812 3c5a 8D85E0DF 		leal	-8224(%ebp), %eax
 6812      FFFF
 6813 3c60 89442404 		movl	%eax, 4(%esp)
 6814 3c64 8D85F8DF 		leal	-8200(%ebp), %eax
 6814      FFFF
 6815 3c6a 890424   		movl	%eax, (%esp)
 6816 3c6d E8000000 		call	_Image_Get_Dimensions
 6816      00
 6817 3c72 8985E8DF 		movl	%eax, -8216(%ebp)
 6817      FFFF
1915:../../MMI/Resource/WriteImgRes.c ****             if (n_frames < 1)
 6819              	LM513:
 6820 3c78 83BDE8DF 		cmpl	$0, -8216(%ebp)
 6820      FFFF00
 6821 3c7f 7F16     		jg	L306
1916:../../MMI/Resource/WriteImgRes.c ****             {
1917:../../MMI/Resource/WriteImgRes.c ****                 RES_PRINT_INFO("Image get dimensions failed:\t%s\n", filename);
 6823              	LM514:
 6824 3c81 8D85F8DF 		leal	-8200(%ebp), %eax
 6824      FFFF
 6825 3c87 89442404 		movl	%eax, 4(%esp)
 6826 3c8b C7042460 		movl	$LC112, (%esp)
 6826      320000
 6827 3c92 E8000000 		call	_MtkResgenTrace
 6827      00
 6828              	L306:
1918:../../MMI/Resource/WriteImgRes.c ****             }
1919:../../MMI/Resource/WriteImgRes.c ****             if (width > seq_max_width)
 6830              	LM515:
 6831 3c97 8B85E0DF 		movl	-8224(%ebp), %eax
 6831      FFFF
 6832 3c9d 3B85D8DF 		cmpl	-8232(%ebp), %eax
 6832      FFFF
 6833 3ca3 760C     		jbe	L307
1920:../../MMI/Resource/WriteImgRes.c ****             {
1921:../../MMI/Resource/WriteImgRes.c ****                 seq_max_width = width;
 6835              	LM516:
 6836 3ca5 8B85E0DF 		movl	-8224(%ebp), %eax
 6836      FFFF
 6837 3cab 8985D8DF 		movl	%eax, -8232(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 128


 6837      FFFF
 6838              	L307:
1922:../../MMI/Resource/WriteImgRes.c ****             }
1923:../../MMI/Resource/WriteImgRes.c ****             if (height > seq_max_height)
 6840              	LM517:
 6841 3cb1 8B85DCDF 		movl	-8228(%ebp), %eax
 6841      FFFF
 6842 3cb7 3B85D4DF 		cmpl	-8236(%ebp), %eax
 6842      FFFF
 6843 3cbd 761D     		jbe	L303
1924:../../MMI/Resource/WriteImgRes.c ****             {
1925:../../MMI/Resource/WriteImgRes.c ****                 seq_max_height = height;
 6845              	LM518:
 6846 3cbf 8B85DCDF 		movl	-8228(%ebp), %eax
 6846      FFFF
 6847 3cc5 8985D4DF 		movl	%eax, -8236(%ebp)
 6847      FFFF
 6848 3ccb EB0F     		jmp	L303
 6849              	L305:
1926:../../MMI/Resource/WriteImgRes.c ****             }
1927:../../MMI/Resource/WriteImgRes.c ****         }
1928:../../MMI/Resource/WriteImgRes.c ****         else
1929:../../MMI/Resource/WriteImgRes.c ****         {
1930:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 6851              	LM519:
 6852 3ccd C78508C5 		movl	$0, -15096(%ebp)
 6852      FFFF0000 
 6852      0000
 6853 3cd7 E9E80200 		jmp	L252
 6853      00
 6855              	LM520:
 6856              	L303:
 6857 3cdc 8D85D0DF 		leal	-8240(%ebp), %eax
 6857      FFFF
 6858 3ce2 FF00     		incl	(%eax)
 6859 3ce4 E90AFFFF 		jmp	L301
 6859      FF
 6860              	L302:
1931:../../MMI/Resource/WriteImgRes.c ****         }
1932:../../MMI/Resource/WriteImgRes.c ****     }
1933:../../MMI/Resource/WriteImgRes.c **** 
1934:../../MMI/Resource/WriteImgRes.c ****     /* write header of sequential images */
1935:../../MMI/Resource/WriteImgRes.c **** 
1936:../../MMI/Resource/WriteImgRes.c ****     if ((sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE_ABM_SEQ
 6862              	LM521:
 6863 3ce9 8B85E4DF 		movl	-8220(%ebp), %eax
 6863      FFFF
 6864 3cef 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 6864      00000015 
 6865 3cf7 7506     		jne	L312
 6866 3cf9 837D1804 		cmpl	$4, 24(%ebp)
 6867 3cfd 7418     		je	L311
 6868              	L312:
 6869 3cff 8B85E4DF 		movl	-8220(%ebp), %eax
 6869      FFFF
 6870 3d05 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 6870      00000002 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 129


 6871 3d0d 756B     		jne	L310
 6872 3d0f 837D1804 		cmpl	$4, 24(%ebp)
 6873 3d13 7402     		je	L311
 6874 3d15 EB63     		jmp	L310
 6875              	L311:
1937:../../MMI/Resource/WriteImgRes.c ****         (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_ABM_SEQ
1938:../../MMI/Resource/WriteImgRes.c ****     {
1939:../../MMI/Resource/WriteImgRes.c ****         Write_Sequential_Image_Header(outstream, IMAGE_TYPE_ABM_SEQUENCE, sequential_frame, play_co
 6877              	LM522:
 6878 3d17 8B451C   		movl	28(%ebp), %eax
 6879 3d1a 89442424 		movl	%eax, 36(%esp)
 6880 3d1e 8D85C8D7 		leal	-10296(%ebp), %eax
 6880      FFFF
 6881 3d24 89442420 		movl	%eax, 32(%esp)
 6882 3d28 8B85D4DF 		movl	-8236(%ebp), %eax
 6882      FFFF
 6883 3d2e 8944241C 		movl	%eax, 28(%esp)
 6884 3d32 8B85D8DF 		movl	-8232(%ebp), %eax
 6884      FFFF
 6885 3d38 89442418 		movl	%eax, 24(%esp)
 6886 3d3c 8D85F8EF 		leal	-4104(%ebp), %eax
 6886      FFFF
 6887 3d42 89442414 		movl	%eax, 20(%esp)
 6888 3d46 8D85F8F7 		leal	-2056(%ebp), %eax
 6888      FFFF
 6889 3d4c 89442410 		movl	%eax, 16(%esp)
 6890 3d50 0FB685CF 		movzbl	-8241(%ebp), %eax
 6890      DFFFFF
 6891 3d57 8944240C 		movl	%eax, 12(%esp)
 6892 3d5b 8B85F0DF 		movl	-8208(%ebp), %eax
 6892      FFFF
 6893 3d61 89442408 		movl	%eax, 8(%esp)
 6894 3d65 C7442404 		movl	$41, 4(%esp)
 6894      29000000 
 6895 3d6d 8B4510   		movl	16(%ebp), %eax
 6896 3d70 890424   		movl	%eax, (%esp)
 6897 3d73 E82AECFF 		call	_Write_Sequential_Image_Header
 6897      FF
 6898 3d78 EB6B     		jmp	L313
 6899              	L310:
1940:../../MMI/Resource/WriteImgRes.c ****     }
1941:../../MMI/Resource/WriteImgRes.c ****     else
1942:../../MMI/Resource/WriteImgRes.c ****     {
1943:../../MMI/Resource/WriteImgRes.c ****         Write_Sequential_Image_Header(outstream, sequential_image[type].file_type, sequential_frame
 6901              	LM523:
 6902 3d7a 8B451C   		movl	28(%ebp), %eax
 6903 3d7d 89442424 		movl	%eax, 36(%esp)
 6904 3d81 8D85C8D7 		leal	-10296(%ebp), %eax
 6904      FFFF
 6905 3d87 89442420 		movl	%eax, 32(%esp)
 6906 3d8b 8B85D4DF 		movl	-8236(%ebp), %eax
 6906      FFFF
 6907 3d91 8944241C 		movl	%eax, 28(%esp)
 6908 3d95 8B85D8DF 		movl	-8232(%ebp), %eax
 6908      FFFF
 6909 3d9b 89442418 		movl	%eax, 24(%esp)
 6910 3d9f 8D85F8EF 		leal	-4104(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 130


 6910      FFFF
 6911 3da5 89442414 		movl	%eax, 20(%esp)
 6912 3da9 8D85F8F7 		leal	-2056(%ebp), %eax
 6912      FFFF
 6913 3daf 89442410 		movl	%eax, 16(%esp)
 6914 3db3 0FB685CF 		movzbl	-8241(%ebp), %eax
 6914      DFFFFF
 6915 3dba 8944240C 		movl	%eax, 12(%esp)
 6916 3dbe 8B85F0DF 		movl	-8208(%ebp), %eax
 6916      FFFF
 6917 3dc4 89442408 		movl	%eax, 8(%esp)
 6918 3dc8 8B85E4DF 		movl	-8220(%ebp), %eax
 6918      FFFF
 6919 3dce 0FB604C5 		movzbl	_sequential_image+4(,%eax,8), %eax
 6919      04000000 
 6920 3dd6 89442404 		movl	%eax, 4(%esp)
 6921 3dda 8B4510   		movl	16(%ebp), %eax
 6922 3ddd 890424   		movl	%eax, (%esp)
 6923 3de0 E8BDEBFF 		call	_Write_Sequential_Image_Header
 6923      FF
 6924              	L313:
1944:../../MMI/Resource/WriteImgRes.c ****     }
1945:../../MMI/Resource/WriteImgRes.c **** 
1946:../../MMI/Resource/WriteImgRes.c ****     /* load all files in the sequence   */
1947:../../MMI/Resource/WriteImgRes.c ****     for (j = 0; j < sequence_counter; j++)
 6926              	LM524:
 6927 3de5 C785D0DF 		movl	$0, -8240(%ebp)
 6927      FFFF0000 
 6927      0000
 6928              	L314:
 6929 3def 8B85D0DF 		movl	-8240(%ebp), %eax
 6929      FFFF
 6930 3df5 3B85ECDF 		cmpl	-8212(%ebp), %eax
 6930      FFFF
 6931 3dfb 7C05     		jl	L317
 6932 3dfd E9A50100 		jmp	L315
 6932      00
 6933              	L317:
1948:../../MMI/Resource/WriteImgRes.c ****     {
1949:../../MMI/Resource/WriteImgRes.c ****         if (sequential_image[type].file_type == IMAGE_TYPE_BMP_SEQUENCE && force_type == FORCE_ABM_
 6935              	LM525:
 6936 3e02 8B85E4DF 		movl	-8220(%ebp), %eax
 6936      FFFF
 6937 3e08 803CC504 		cmpb	$2, _sequential_image+4(,%eax,8)
 6937      00000002 
 6938 3e10 7532     		jne	L318
 6939 3e12 837D1804 		cmpl	$4, 24(%ebp)
 6940 3e16 752C     		jne	L318
1950:../../MMI/Resource/WriteImgRes.c ****         {
1951:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.abms", pathname, j);
 6942              	LM526:
 6943 3e18 8B85D0DF 		movl	-8240(%ebp), %eax
 6943      FFFF
 6944 3e1e 8944240C 		movl	%eax, 12(%esp)
 6945 3e22 8B4508   		movl	8(%ebp), %eax
 6946 3e25 89442408 		movl	%eax, 8(%esp)
 6947 3e29 C7442404 		movl	$LC113, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 131


 6947      81320000 
 6948 3e31 8D85F8DF 		leal	-8200(%ebp), %eax
 6948      FFFF
 6949 3e37 890424   		movl	%eax, (%esp)
 6950 3e3a E8000000 		call	_sprintf
 6950      00
 6951 3e3f E9C20000 		jmp	L319
 6951      00
 6952              	L318:
1952:../../MMI/Resource/WriteImgRes.c ****         }
1953:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_BLENDING__) //&& !defined(GDI_USING_HW_PNG)
1954:../../MMI/Resource/WriteImgRes.c ****         else if (sequential_image[type].file_type == IMAGE_TYPE_ABM_SEQUENCE ||
 6954              	LM527:
 6955 3e44 8B85E4DF 		movl	-8220(%ebp), %eax
 6955      FFFF
 6956 3e4a 803CC504 		cmpb	$41, _sequential_image+4(,%eax,8)
 6956      00000029 
 6957 3e52 7418     		je	L321
 6958 3e54 8B85E4DF 		movl	-8220(%ebp), %eax
 6958      FFFF
 6959 3e5a 803CC504 		cmpb	$21, _sequential_image+4(,%eax,8)
 6959      00000015 
 6960 3e62 7531     		jne	L320
 6961 3e64 837D1804 		cmpl	$4, 24(%ebp)
 6962 3e68 7402     		je	L321
 6963 3e6a EB29     		jmp	L320
 6964              	L321:
1955:../../MMI/Resource/WriteImgRes.c ****             (sequential_image[type].file_type == IMAGE_TYPE_PNG_SEQUENCE && force_type == FORCE_ABM
1956:../../MMI/Resource/WriteImgRes.c ****         {
1957:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.abms", pathname, j);
 6966              	LM528:
 6967 3e6c 8B85D0DF 		movl	-8240(%ebp), %eax
 6967      FFFF
 6968 3e72 8944240C 		movl	%eax, 12(%esp)
 6969 3e76 8B4508   		movl	8(%ebp), %eax
 6970 3e79 89442408 		movl	%eax, 8(%esp)
 6971 3e7d C7442404 		movl	$LC113, 4(%esp)
 6971      81320000 
 6972 3e85 8D85F8DF 		leal	-8200(%ebp), %eax
 6972      FFFF
 6973 3e8b 890424   		movl	%eax, (%esp)
 6974 3e8e E8000000 		call	_sprintf
 6974      00
 6975 3e93 EB71     		jmp	L319
 6976              	L320:
1958:../../MMI/Resource/WriteImgRes.c ****         }
1959:../../MMI/Resource/WriteImgRes.c ****         else if (sequential_image[type].file_type == IMAGE_TYPE_AB2_SEQUENCE)
 6978              	LM529:
 6979 3e95 8B85E4DF 		movl	-8220(%ebp), %eax
 6979      FFFF
 6980 3e9b 803CC504 		cmpb	$53, _sequential_image+4(,%eax,8)
 6980      00000035 
 6981 3ea3 7529     		jne	L323
1960:../../MMI/Resource/WriteImgRes.c ****         {
1961:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.ab2s", pathname, j);
 6983              	LM530:
 6984 3ea5 8B85D0DF 		movl	-8240(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 132


 6984      FFFF
 6985 3eab 8944240C 		movl	%eax, 12(%esp)
 6986 3eaf 8B4508   		movl	8(%ebp), %eax
 6987 3eb2 89442408 		movl	%eax, 8(%esp)
 6988 3eb6 C7442404 		movl	$LC114, 4(%esp)
 6988      8D320000 
 6989 3ebe 8D85F8DF 		leal	-8200(%ebp), %eax
 6989      FFFF
 6990 3ec4 890424   		movl	%eax, (%esp)
 6991 3ec7 E8000000 		call	_sprintf
 6991      00
 6992 3ecc EB38     		jmp	L319
 6993              	L323:
1962:../../MMI/Resource/WriteImgRes.c ****         }
1963:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
1964:../../MMI/Resource/WriteImgRes.c ****         else
1965:../../MMI/Resource/WriteImgRes.c ****         {
1966:../../MMI/Resource/WriteImgRes.c ****             sprintf(filename, "%s\\\\%d.%s", pathname, j, sequential_image[type].filename_ext);
 6995              	LM531:
 6996 3ece 8B85E4DF 		movl	-8220(%ebp), %eax
 6996      FFFF
 6997 3ed4 8B04C500 		movl	_sequential_image(,%eax,8), %eax
 6997      000000
 6998 3edb 89442410 		movl	%eax, 16(%esp)
 6999 3edf 8B85D0DF 		movl	-8240(%ebp), %eax
 6999      FFFF
 7000 3ee5 8944240C 		movl	%eax, 12(%esp)
 7001 3ee9 8B4508   		movl	8(%ebp), %eax
 7002 3eec 89442408 		movl	%eax, 8(%esp)
 7003 3ef0 C7442404 		movl	$LC99, 4(%esp)
 7003      25300000 
 7004 3ef8 8D85F8DF 		leal	-8200(%ebp), %eax
 7004      FFFF
 7005 3efe 890424   		movl	%eax, (%esp)
 7006 3f01 E8000000 		call	_sprintf
 7006      00
 7007              	L319:
1967:../../MMI/Resource/WriteImgRes.c ****         }
1968:../../MMI/Resource/WriteImgRes.c ****         imgfp = fopen(filename, "rb");
 7009              	LM532:
 7010 3f06 C7442404 		movl	$LC58, 4(%esp)
 7010      F30C0000 
 7011 3f0e 8D85F8DF 		leal	-8200(%ebp), %eax
 7011      FFFF
 7012 3f14 890424   		movl	%eax, (%esp)
 7013 3f17 E8000000 		call	_fopen
 7013      00
 7014 3f1c 8985F4DF 		movl	%eax, -8204(%ebp)
 7014      FFFF
1969:../../MMI/Resource/WriteImgRes.c ****         if (imgfp != NULL)
 7016              	LM533:
 7017 3f22 83BDF4DF 		cmpl	$0, -8204(%ebp)
 7017      FFFF00
 7018 3f29 7450     		je	L325
1970:../../MMI/Resource/WriteImgRes.c ****         {
1971:../../MMI/Resource/WriteImgRes.c ****             Write_Sequential_Image_File(outstream, imgfp, sequential_filesize[j], processData);
 7020              	LM534:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 133


 7021 3f2b 8B451C   		movl	28(%ebp), %eax
 7022 3f2e 8944240C 		movl	%eax, 12(%esp)
 7023 3f32 8B85D0DF 		movl	-8240(%ebp), %eax
 7023      FFFF
 7024 3f38 8B8485F8 		movl	-2056(%ebp,%eax,4), %eax
 7024      F7FFFF
 7025 3f3f 89442408 		movl	%eax, 8(%esp)
 7026 3f43 8B85F4DF 		movl	-8204(%ebp), %eax
 7026      FFFF
 7027 3f49 89442404 		movl	%eax, 4(%esp)
 7028 3f4d 8B4510   		movl	16(%ebp), %eax
 7029 3f50 890424   		movl	%eax, (%esp)
 7030 3f53 E8F9EEFF 		call	_Write_Sequential_Image_File
 7030      FF
1972:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(imgfp);
 7032              	LM535:
 7033 3f58 83BDF4DF 		cmpl	$0, -8204(%ebp)
 7033      FFFF00
 7034 3f5f 7439     		je	L316
 7035 3f61 8B85F4DF 		movl	-8204(%ebp), %eax
 7035      FFFF
 7036 3f67 890424   		movl	%eax, (%esp)
 7037 3f6a E8000000 		call	_fclose
 7037      00
 7038 3f6f C785F4DF 		movl	$0, -8204(%ebp)
 7038      FFFF0000 
 7038      0000
 7039 3f79 EB1F     		jmp	L316
 7040              	L325:
1973:../../MMI/Resource/WriteImgRes.c ****         }
1974:../../MMI/Resource/WriteImgRes.c ****         else
1975:../../MMI/Resource/WriteImgRes.c ****         {
1976:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n};\n");
 7042              	LM536:
 7043 3f7b C7442404 		movl	$LC115, 4(%esp)
 7043      99320000 
 7044 3f83 8B4510   		movl	16(%ebp), %eax
 7045 3f86 890424   		movl	%eax, (%esp)
 7046 3f89 E8000000 		call	_ImageOutStreamPrintf
 7046      00
1977:../../MMI/Resource/WriteImgRes.c ****             return MMI_FALSE;
 7048              	LM537:
 7049 3f8e C78508C5 		movl	$0, -15096(%ebp)
 7049      FFFF0000 
 7049      0000
 7050 3f98 EB2A     		jmp	L252
 7052              	LM538:
 7053              	L316:
 7054 3f9a 8D85D0DF 		leal	-8240(%ebp), %eax
 7054      FFFF
 7055 3fa0 FF00     		incl	(%eax)
 7056 3fa2 E948FEFF 		jmp	L314
 7056      FF
 7057              	L315:
1978:../../MMI/Resource/WriteImgRes.c ****         }
1979:../../MMI/Resource/WriteImgRes.c ****     }
1980:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "\n};\n");
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 134


 7059              	LM539:
 7060 3fa7 C7442404 		movl	$LC115, 4(%esp)
 7060      99320000 
 7061 3faf 8B4510   		movl	16(%ebp), %eax
 7062 3fb2 890424   		movl	%eax, (%esp)
 7063 3fb5 E8000000 		call	_ImageOutStreamPrintf
 7063      00
1981:../../MMI/Resource/WriteImgRes.c **** 
1982:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
1983:../../MMI/Resource/WriteImgRes.c ****     processData->enfb_flag = 0;
1984:../../MMI/Resource/WriteImgRes.c **** #endif
1985:../../MMI/Resource/WriteImgRes.c **** 
1986:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 7065              	LM540:
 7066 3fba C78508C5 		movl	$1, -15096(%ebp)
 7066      FFFF0100 
 7066      0000
1987:../../MMI/Resource/WriteImgRes.c **** }
 7068              	LM541:
 7069              	L252:
 7070              	LBE41:
 7071 3fc4 8B8508C5 		movl	-15096(%ebp), %eax
 7071      FFFF
 7072 3fca 81C4343B 		addl	$15156, %esp
 7072      0000
 7073 3fd0 5B       		popl	%ebx
 7074 3fd1 5D       		popl	%ebp
 7075 3fd2 C3       		ret
 7139              	Lscope10:
 7141              	LC116:
 7142 3fd3 25632563 		.ascii "%c%c\0"
 7142      00
 7143              	LC117:
 7144 3fd8 25632563 		.ascii "%c%c%c%c%c%c\0"
 7144      25632563 
 7144      25632563 
 7144      00
 7156              	_Load_Image_Data_Tool:
1988:../../MMI/Resource/WriteImgRes.c **** 
1989:../../MMI/Resource/WriteImgRes.c **** 
1990:../../MMI/Resource/WriteImgRes.c **** static void Load_Image_Data_Tool(
1991:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
1992:../../MMI/Resource/WriteImgRes.c ****         U32 file_size,
1993:../../MMI/Resource/WriteImgRes.c ****         S32 data_size,
1994:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
1995:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
1996:../../MMI/Resource/WriteImgRes.c ****         U32 width,
1997:../../MMI/Resource/WriteImgRes.c ****         U32 height,
1998:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
1999:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename)
2000:../../MMI/Resource/WriteImgRes.c **** {
 7158              	LM542:
 7159 3fe5 55       		pushl	%ebp
 7160 3fe6 89E5     		movl	%esp, %ebp
 7161 3fe8 83EC38   		subl	$56, %esp
 7162 3feb 8B4514   		movl	20(%ebp), %eax
 7163 3fee 8845FF   		movb	%al, -1(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 135


2001:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2002:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2003:../../MMI/Resource/WriteImgRes.c **** 
2004:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 7165              	LM543:
 7166 3ff1 8B451C   		movl	28(%ebp), %eax
 7167              	LBB50:
 7168 3ff4 25FF0F00 		andl	$4095, %eax
 7168      00
 7169 3ff9 89C2     		movl	%eax, %edx
 7170 3ffb C1E20C   		sall	$12, %edx
 7171 3ffe 8B4520   		movl	32(%ebp), %eax
 7172 4001 25FF0F00 		andl	$4095, %eax
 7172      00
 7173 4006 09D0     		orl	%edx, %eax
 7174 4008 8945F8   		movl	%eax, -8(%ebp)
2005:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7176              	LM544:
 7177 400b 837D2400 		cmpl	$0, 36(%ebp)
 7178 400f 7426     		je	L330
2006:../../MMI/Resource/WriteImgRes.c ****     {
2007:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
 7180              	LM545:
 7181 4011 8B4518   		movl	24(%ebp), %eax
 7182 4014 8944240C 		movl	%eax, 12(%esp)
 7183 4018 C7442408 		movl	$62, 8(%esp)
 7183      3E000000 
 7184 4020 C7442404 		movl	$LC116, 4(%esp)
 7184      D33F0000 
 7185 4028 A1000000 		movl	_dest_file, %eax
 7185      00
 7186 402d 890424   		movl	%eax, (%esp)
 7187 4030 E8000000 		call	_fprintf
 7187      00
 7188 4035 EB24     		jmp	L331
 7189              	L330:
2008:../../MMI/Resource/WriteImgRes.c ****     }
2009:../../MMI/Resource/WriteImgRes.c ****     else
2010:../../MMI/Resource/WriteImgRes.c ****     {
2011:../../MMI/Resource/WriteImgRes.c ****         fprintf(dest_file, "%c%c", image_identifier, n_frames);
 7191              	LM546:
 7192 4037 8B4518   		movl	24(%ebp), %eax
 7193 403a 8944240C 		movl	%eax, 12(%esp)
 7194 403e 0FB645FF 		movzbl	-1(%ebp), %eax
 7195 4042 89442408 		movl	%eax, 8(%esp)
 7196 4046 C7442404 		movl	$LC116, 4(%esp)
 7196      D33F0000 
 7197 404e A1000000 		movl	_dest_file, %eax
 7197      00
 7198 4053 890424   		movl	%eax, (%esp)
 7199 4056 E8000000 		call	_fprintf
 7199      00
 7200              	L331:
2012:../../MMI/Resource/WriteImgRes.c ****     }
2013:../../MMI/Resource/WriteImgRes.c **** 
2014:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
 7202              	LM547:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 136


 7203 405b 807DFF0E 		cmpb	$14, -1(%ebp)
 7204 405f 742C     		je	L333
 7205 4061 807DFF10 		cmpb	$16, -1(%ebp)
 7206 4065 7426     		je	L333
 7207 4067 807DFF0C 		cmpb	$12, -1(%ebp)
 7208 406b 7420     		je	L333
 7209 406d 807DFF19 		cmpb	$25, -1(%ebp)
 7210 4071 741A     		je	L333
 7211 4073 807DFF4A 		cmpb	$74, -1(%ebp)
 7212 4077 7414     		je	L333
 7213 4079 807DFF4C 		cmpb	$76, -1(%ebp)
 7214 407d 740E     		je	L333
 7215 407f 807DFF4E 		cmpb	$78, -1(%ebp)
 7216 4083 7408     		je	L333
 7217 4085 807DFF1D 		cmpb	$29, -1(%ebp)
 7218 4089 7402     		je	L333
 7219 408b EB5C     		jmp	L332
 7220              	L333:
2015:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2016:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM  ||
2017:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2018:../../MMI/Resource/WriteImgRes.c ****     {
2019:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 7222              	LM548:
 7223 408d C744241C 		movl	$0, 28(%esp)
 7223      00000000 
 7224 4095 C7442418 		movl	$0, 24(%esp)
 7224      00000000 
 7225 409d 8B450C   		movl	12(%ebp), %eax
 7226 40a0 25000000 		andl	$-16777216, %eax
 7226      FF
 7227 40a5 C1E818   		shrl	$24, %eax
 7228 40a8 89442414 		movl	%eax, 20(%esp)
 7229 40ac 8B450C   		movl	12(%ebp), %eax
 7230 40af 250000FF 		andl	$16711680, %eax
 7230      00
 7231 40b4 C1E810   		shrl	$16, %eax
 7232 40b7 89442410 		movl	%eax, 16(%esp)
 7233 40bb 8B450C   		movl	12(%ebp), %eax
 7234 40be 2500FF00 		andl	$65280, %eax
 7234      00
 7235 40c3 C1E808   		shrl	$8, %eax
 7236 40c6 8944240C 		movl	%eax, 12(%esp)
 7237 40ca 0FB6450C 		movzbl	12(%ebp),%eax
 7238 40ce 89442408 		movl	%eax, 8(%esp)
 7239 40d2 C7442404 		movl	$LC117, 4(%esp)
 7239      D83F0000 
 7240 40da A1000000 		movl	_dest_file, %eax
 7240      00
 7241 40df 890424   		movl	%eax, (%esp)
 7242 40e2 E8000000 		call	_fprintf
 7242      00
 7243 40e7 EB61     		jmp	L334
 7244              	L332:
2020:../../MMI/Resource/WriteImgRes.c ****             dest_file,
2021:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2022:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 137


2023:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
2024:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
2025:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24,
2026:../../MMI/Resource/WriteImgRes.c ****             0,
2027:../../MMI/Resource/WriteImgRes.c ****             0);
2028:../../MMI/Resource/WriteImgRes.c ****     }
2029:../../MMI/Resource/WriteImgRes.c ****     else
2030:../../MMI/Resource/WriteImgRes.c ****     {
2031:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 7246              	LM549:
 7247 40e9 8B45F8   		movl	-8(%ebp), %eax
 7248 40ec 250000FF 		andl	$16711680, %eax
 7248      00
 7249 40f1 C1E810   		shrl	$16, %eax
 7250 40f4 8944241C 		movl	%eax, 28(%esp)
 7251 40f8 8B45F8   		movl	-8(%ebp), %eax
 7252 40fb 2500FF00 		andl	$65280, %eax
 7252      00
 7253 4100 C1E808   		shrl	$8, %eax
 7254 4103 89442418 		movl	%eax, 24(%esp)
 7255 4107 0FB645F8 		movzbl	-8(%ebp),%eax
 7256 410b 89442414 		movl	%eax, 20(%esp)
 7257 410f 8B4510   		movl	16(%ebp), %eax
 7258 4112 250000FF 		andl	$16711680, %eax
 7258      00
 7259 4117 C1F810   		sarl	$16, %eax
 7260 411a 89442410 		movl	%eax, 16(%esp)
 7261 411e 8B4510   		movl	16(%ebp), %eax
 7262 4121 2500FF00 		andl	$65280, %eax
 7262      00
 7263 4126 C1F808   		sarl	$8, %eax
 7264 4129 8944240C 		movl	%eax, 12(%esp)
 7265 412d 0FB64510 		movzbl	16(%ebp),%eax
 7266 4131 89442408 		movl	%eax, 8(%esp)
 7267 4135 C7442404 		movl	$LC117, 4(%esp)
 7267      D83F0000 
 7268 413d A1000000 		movl	_dest_file, %eax
 7268      00
 7269 4142 890424   		movl	%eax, (%esp)
 7270 4145 E8000000 		call	_fprintf
 7270      00
 7271              	L334:
2032:../../MMI/Resource/WriteImgRes.c ****             dest_file,
2033:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2034:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff),
2035:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff00) >> 8,
2036:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff0000) >> 16,
2037:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff),
2038:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff00) >> 8,
2039:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff0000) >> 16);
2040:../../MMI/Resource/WriteImgRes.c ****     }
2041:../../MMI/Resource/WriteImgRes.c **** 
2042:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7273              	LM550:
 7274 414a 837D2400 		cmpl	$0, 36(%ebp)
 7275 414e 7424     		je	L335
2043:../../MMI/Resource/WriteImgRes.c ****     {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 138


2044:../../MMI/Resource/WriteImgRes.c ****         /* Write 9slice file header */
2045:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_write_9slice_header(image_identifier, _9slice_filename, dest_file, MMI_TRUE);
 7277              	LM551:
 7278 4150 C744240C 		movl	$1, 12(%esp)
 7278      01000000 
 7279 4158 A1000000 		movl	_dest_file, %eax
 7279      00
 7280 415d 89442408 		movl	%eax, 8(%esp)
 7281 4161 8B4528   		movl	40(%ebp), %eax
 7282 4164 89442404 		movl	%eax, 4(%esp)
 7283 4168 0FB645FF 		movzbl	-1(%ebp), %eax
 7284 416c 890424   		movl	%eax, (%esp)
 7285 416f E82F0600 		call	_mmi_rg_write_9slice_header
 7285      00
 7286              	L335:
2046:../../MMI/Resource/WriteImgRes.c ****     }
2047:../../MMI/Resource/WriteImgRes.c **** 
2048:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < file_size; i++)
 7288              	LM552:
 7289 4174 C745F400 		movl	$0, -12(%ebp)
 7289      000000
 7290              	L336:
 7291 417b 8B45F4   		movl	-12(%ebp), %eax
 7292 417e 3B450C   		cmpl	12(%ebp), %eax
 7293 4181 7202     		jb	L339
 7294 4183 EB2A     		jmp	L329
 7295              	L339:
2049:../../MMI/Resource/WriteImgRes.c ****     {
2050:../../MMI/Resource/WriteImgRes.c ****         U8 ch;
2051:../../MMI/Resource/WriteImgRes.c ****         ch = fgetc(input_file);
 7297              	LM553:
 7298              	LBB51:
 7299 4185 8B4508   		movl	8(%ebp), %eax
 7300 4188 890424   		movl	%eax, (%esp)
 7301 418b E8000000 		call	_fgetc
 7301      00
 7302 4190 8845F3   		movb	%al, -13(%ebp)
2052:../../MMI/Resource/WriteImgRes.c ****         fputc(ch, dest_file);
 7304              	LM554:
 7305 4193 A1000000 		movl	_dest_file, %eax
 7305      00
 7306 4198 89442404 		movl	%eax, 4(%esp)
 7307 419c 0FB645F3 		movzbl	-13(%ebp), %eax
 7308 41a0 890424   		movl	%eax, (%esp)
 7309 41a3 E8000000 		call	_fputc
 7309      00
 7311              	LM555:
 7312 41a8 8D45F4   		leal	-12(%ebp), %eax
 7313              	LBE51:
 7314 41ab FF00     		incl	(%eax)
 7315 41ad EBCC     		jmp	L336
2053:../../MMI/Resource/WriteImgRes.c ****     }
2054:../../MMI/Resource/WriteImgRes.c **** }
 7317              	LM556:
 7318              	L329:
 7319 41af C9       		leave
 7320 41b0 C3       		ret
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 139


 7321              	LBE50:
 7330              	Lscope11:
 7332              	LC118:
 7333 41b1 0A496D61 		.ascii "\12Image is too big.\12\0"
 7333      67652069 
 7333      7320746F 
 7333      6F206269 
 7333      672E0A00 
 7334              	LC119:
 7335 41c5 0A09     		.ascii "\12\11"
 7336 41c7 30782530 		.ascii "0x%02X, 0x%02X, \0"
 7336      32582C20 
 7336      30782530 
 7336      32582C20 
 7336      00
 7337 41d8 908DB426 		.align 32
 7337      00000000 
 7338              	LC120:
 7339 41e0 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x00, 0x00,\12\11\0"
 7339      32582C20 
 7339      30782530 
 7339      32582C20 
 7339      30782530 
 7340 420e 90909090 		.align 32
 7340      90909090 
 7340      90909090 
 7340      90909090 
 7340      9090
 7341              	LC121:
 7342 4220 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\12\11\0"
 7342      32582C20 
 7342      30782530 
 7342      32582C20 
 7342      30782530 
 7343              	LC122:
 7344 4252 25642C00 		.ascii "%d,\0"
 7356              	_Load_Image_Data:
2055:../../MMI/Resource/WriteImgRes.c **** 
2056:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2057:../../MMI/Resource/WriteImgRes.c **** 
2058:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data_ENFB(
2059:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
2060:../../MMI/Resource/WriteImgRes.c ****         U32 file_size,
2061:../../MMI/Resource/WriteImgRes.c ****         S32 data_size,
2062:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
2063:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
2064:../../MMI/Resource/WriteImgRes.c ****         U32 width,
2065:../../MMI/Resource/WriteImgRes.c ****         U32 height,
2066:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
2067:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename)
2068:../../MMI/Resource/WriteImgRes.c **** {
2069:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2070:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2071:../../MMI/Resource/WriteImgRes.c **** 
2072:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
2073:../../MMI/Resource/WriteImgRes.c **** 
2074:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 140


2075:../../MMI/Resource/WriteImgRes.c ****     {
2076:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
2077:../../MMI/Resource/WriteImgRes.c ****     }
2078:../../MMI/Resource/WriteImgRes.c ****     else
2079:../../MMI/Resource/WriteImgRes.c ****     {
2080:../../MMI/Resource/WriteImgRes.c ****         fprintf(enfb_img_data_file, "%c%c", image_identifier, n_frames);
2081:../../MMI/Resource/WriteImgRes.c ****     }
2082:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
2083:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2084:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM ||
2085:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2086:../../MMI/Resource/WriteImgRes.c ****     {
2087:../../MMI/Resource/WriteImgRes.c ****         fprintf(
2088:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
2089:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2090:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
2091:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
2092:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
2093:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24,
2094:../../MMI/Resource/WriteImgRes.c ****             0,
2095:../../MMI/Resource/WriteImgRes.c ****             0);
2096:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + file_size;
2097:../../MMI/Resource/WriteImgRes.c ****     }
2098:../../MMI/Resource/WriteImgRes.c ****     else
2099:../../MMI/Resource/WriteImgRes.c ****     {
2100:../../MMI/Resource/WriteImgRes.c ****         fprintf(
2101:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
2102:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c",
2103:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff),
2104:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff00) >> 8,
2105:../../MMI/Resource/WriteImgRes.c ****             (data_size & 0xff0000) >> 16,
2106:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff),
2107:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff00) >> 8,
2108:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0xff0000) >> 16);
2109:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + data_size;
2110:../../MMI/Resource/WriteImgRes.c ****     }
2111:../../MMI/Resource/WriteImgRes.c **** 
2112:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
2113:../../MMI/Resource/WriteImgRes.c ****     {
2114:../../MMI/Resource/WriteImgRes.c ****         /* Write 9slice file header */
2115:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_write_9slice_header(image_identifier, _9slice_filename, enfb_img_data_file, MMI_TRUE
2116:../../MMI/Resource/WriteImgRes.c ****     }
2117:../../MMI/Resource/WriteImgRes.c **** 
2118:../../MMI/Resource/WriteImgRes.c ****     enfb_offset += enfb_size;
2119:../../MMI/Resource/WriteImgRes.c **** 
2120:../../MMI/Resource/WriteImgRes.c ****     /* write image data to ENFB image data file */
2121:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < file_size; i++)
2122:../../MMI/Resource/WriteImgRes.c ****     {
2123:../../MMI/Resource/WriteImgRes.c ****         U8 ch;
2124:../../MMI/Resource/WriteImgRes.c ****         ch = fgetc(input_file);
2125:../../MMI/Resource/WriteImgRes.c ****         fputc(ch, enfb_img_data_file);
2126:../../MMI/Resource/WriteImgRes.c ****     }
2127:../../MMI/Resource/WriteImgRes.c **** }
2128:../../MMI/Resource/WriteImgRes.c **** 
2129:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
2130:../../MMI/Resource/WriteImgRes.c **** 
2131:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 141


2132:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2133:../../MMI/Resource/WriteImgRes.c ****  *  Load_Image_Data
2134:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2135:../../MMI/Resource/WriteImgRes.c ****  *  Identifies the image , BMP , ppf etc
2136:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2137:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        -> Name of the file to which buffer
2138:../../MMI/Resource/WriteImgRes.c ****  *  input_file              [IN]        ->  Name of the input image file
2139:../../MMI/Resource/WriteImgRes.c ****  *  image_identifier        [IN]        -> image identifier
2140:../../MMI/Resource/WriteImgRes.c ****  *  n_frames                [IN]        -> no of frames
2141:../../MMI/Resource/WriteImgRes.c ****  *  is(?)                   [IN]        To be written
2142:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2143:../../MMI/Resource/WriteImgRes.c ****  *  S32 --> file size
2144:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2145:../../MMI/Resource/WriteImgRes.c **** static S32 Load_Image_Data(
2146:../../MMI/Resource/WriteImgRes.c ****         ResgenImageOutStream * outstream,
2147:../../MMI/Resource/WriteImgRes.c ****         FILE *input_file,
2148:../../MMI/Resource/WriteImgRes.c ****         U8 image_identifier,
2149:../../MMI/Resource/WriteImgRes.c ****         S32 n_frames,
2150:../../MMI/Resource/WriteImgRes.c ****         U32 width,
2151:../../MMI/Resource/WriteImgRes.c ****         U32 height,
2152:../../MMI/Resource/WriteImgRes.c ****         MMI_BOOL is9slice,
2153:../../MMI/Resource/WriteImgRes.c ****         U8* _9slice_filename,
2154:../../MMI/Resource/WriteImgRes.c ****         SetImageProcessData * processData)
2155:../../MMI/Resource/WriteImgRes.c **** {
 7358              	LM557:
 7359 4256 55       		pushl	%ebp
 7360 4257 89E5     		movl	%esp, %ebp
 7361 4259 83EC58   		subl	$88, %esp
 7362 425c 8B4510   		movl	16(%ebp), %eax
 7363 425f 8845FF   		movb	%al, -1(%ebp)
2156:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2157:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2158:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2159:../../MMI/Resource/WriteImgRes.c ****     U32 file_size, i;
2160:../../MMI/Resource/WriteImgRes.c ****     U32 width_height;
2161:../../MMI/Resource/WriteImgRes.c ****     S32 data_size;
2162:../../MMI/Resource/WriteImgRes.c **** 
2163:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2164:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2165:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2166:../../MMI/Resource/WriteImgRes.c **** 
2167:../../MMI/Resource/WriteImgRes.c ****     if(n_frames==0)
 7365              	LM558:
 7366              	LBB52:
 7367 4262 837D1400 		cmpl	$0, 20(%ebp)
 7368 4266 7507     		jne	L341
2168:../../MMI/Resource/WriteImgRes.c ****     {
2169:../../MMI/Resource/WriteImgRes.c ****         n_frames = 1;
 7370              	LM559:
 7371 4268 C7451401 		movl	$1, 20(%ebp)
 7371      000000
 7372              	L341:
2170:../../MMI/Resource/WriteImgRes.c ****     }
2171:../../MMI/Resource/WriteImgRes.c **** 
2172:../../MMI/Resource/WriteImgRes.c ****     fseek(input_file, 0, SEEK_END);
 7374              	LM560:
 7375 426f C7442408 		movl	$2, 8(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 142


 7375      02000000 
 7376 4277 C7442404 		movl	$0, 4(%esp)
 7376      00000000 
 7377 427f 8B450C   		movl	12(%ebp), %eax
 7378 4282 890424   		movl	%eax, (%esp)
 7379 4285 E8000000 		call	_fseek
 7379      00
2173:../../MMI/Resource/WriteImgRes.c ****     file_size = ftell(input_file);
 7381              	LM561:
 7382 428a 8B450C   		movl	12(%ebp), %eax
 7383 428d 890424   		movl	%eax, (%esp)
 7384 4290 E8000000 		call	_ftell
 7384      00
 7385 4295 8945F8   		movl	%eax, -8(%ebp)
2174:../../MMI/Resource/WriteImgRes.c ****     fseek(input_file, 0, SEEK_SET);
 7387              	LM562:
 7388 4298 C7442408 		movl	$0, 8(%esp)
 7388      00000000 
 7389 42a0 C7442404 		movl	$0, 4(%esp)
 7389      00000000 
 7390 42a8 8B450C   		movl	12(%ebp), %eax
 7391 42ab 890424   		movl	%eax, (%esp)
 7392 42ae E8000000 		call	_fseek
 7392      00
2175:../../MMI/Resource/WriteImgRes.c **** 
2176:../../MMI/Resource/WriteImgRes.c ****     width_height = ((width & 0XFFF) << 12) | (height & 0XFFF);
 7394              	LM563:
 7395 42b3 8B4518   		movl	24(%ebp), %eax
 7396 42b6 25FF0F00 		andl	$4095, %eax
 7396      00
 7397 42bb 89C2     		movl	%eax, %edx
 7398 42bd C1E20C   		sall	$12, %edx
 7399 42c0 8B451C   		movl	28(%ebp), %eax
 7400 42c3 25FF0F00 		andl	$4095, %eax
 7400      00
 7401 42c8 09D0     		orl	%edx, %eax
 7402 42ca 8945F0   		movl	%eax, -16(%ebp)
2177:../../MMI/Resource/WriteImgRes.c **** 
2178:../../MMI/Resource/WriteImgRes.c ****     if (image_identifier == IMAGE_TYPE_BMP ||
 7404              	LM564:
 7405 42cd 807DFF01 		cmpb	$1, -1(%ebp)
 7406 42d1 7414     		je	L343
 7407 42d3 807DFF03 		cmpb	$3, -1(%ebp)
 7408 42d7 740E     		je	L343
 7409 42d9 807DFF09 		cmpb	$9, -1(%ebp)
 7410 42dd 7408     		je	L343
 7411 42df 807DFF13 		cmpb	$19, -1(%ebp)
 7412 42e3 7402     		je	L343
 7413 42e5 EB22     		jmp	L342
 7414              	L343:
2179:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_GIF ||
2180:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_JPG ||
2181:../../MMI/Resource/WriteImgRes.c ****         image_identifier == IMAGE_TYPE_PNG)
2182:../../MMI/Resource/WriteImgRes.c ****     {
2183:../../MMI/Resource/WriteImgRes.c ****         if ((file_size >> 24) > 0)
 7416              	LM565:
 7417 42e7 8B45F8   		movl	-8(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 143


 7418 42ea C1E818   		shrl	$24, %eax
 7419 42ed 85C0     		testl	%eax, %eax
 7420 42ef 7418     		je	L342
2184:../../MMI/Resource/WriteImgRes.c ****         {
2185:../../MMI/Resource/WriteImgRes.c ****             RES_PRINT_INFO("\nImage is too big.\n");
 7422              	LM566:
 7423 42f1 C70424B1 		movl	$LC118, (%esp)
 7423      410000
 7424 42f8 E8000000 		call	_MtkResgenTrace
 7424      00
2186:../../MMI/Resource/WriteImgRes.c ****             return 0;
 7426              	LM567:
 7427 42fd C745DC00 		movl	$0, -36(%ebp)
 7427      000000
 7428 4304 E97F0200 		jmp	L340
 7428      00
 7429              	L342:
2187:../../MMI/Resource/WriteImgRes.c ****         }
2188:../../MMI/Resource/WriteImgRes.c ****     }
2189:../../MMI/Resource/WriteImgRes.c **** 
2190:../../MMI/Resource/WriteImgRes.c ****     data_size = file_size;
 7431              	LM568:
 7432 4309 8B45F8   		movl	-8(%ebp), %eax
 7433 430c 8945EC   		movl	%eax, -20(%ebp)
2191:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
 7435              	LM569:
 7436 430f 837D2000 		cmpl	$0, 32(%ebp)
 7437 4313 7406     		je	L345
2192:../../MMI/Resource/WriteImgRes.c ****         data_size += 20;
 7439              	LM570:
 7440 4315 8D45EC   		leal	-20(%ebp), %eax
 7441 4318 830014   		addl	$20, (%eax)
 7442              	L345:
2193:../../MMI/Resource/WriteImgRes.c **** 
2194:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag)
 7444              	LM571:
 7445 431b 833D0000 		cmpl	$0, _toolFlag
 7445      000000
 7446 4322 7449     		je	L346
2195:../../MMI/Resource/WriteImgRes.c ****     {
2196:../../MMI/Resource/WriteImgRes.c ****         Load_Image_Data_Tool(input_file, file_size, data_size, image_identifier, n_frames, width, h
 7448              	LM572:
 7449 4324 8B4524   		movl	36(%ebp), %eax
 7450 4327 89442420 		movl	%eax, 32(%esp)
 7451 432b 8B4520   		movl	32(%ebp), %eax
 7452 432e 8944241C 		movl	%eax, 28(%esp)
 7453 4332 8B451C   		movl	28(%ebp), %eax
 7454 4335 89442418 		movl	%eax, 24(%esp)
 7455 4339 8B4518   		movl	24(%ebp), %eax
 7456 433c 89442414 		movl	%eax, 20(%esp)
 7457 4340 8B4514   		movl	20(%ebp), %eax
 7458 4343 89442410 		movl	%eax, 16(%esp)
 7459 4347 0FB645FF 		movzbl	-1(%ebp), %eax
 7460 434b 8944240C 		movl	%eax, 12(%esp)
 7461 434f 8B45EC   		movl	-20(%ebp), %eax
 7462 4352 89442408 		movl	%eax, 8(%esp)
 7463 4356 8B45F8   		movl	-8(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 144


 7464 4359 89442404 		movl	%eax, 4(%esp)
 7465 435d 8B450C   		movl	12(%ebp), %eax
 7466 4360 890424   		movl	%eax, (%esp)
 7467 4363 E87DFCFF 		call	_Load_Image_Data_Tool
 7467      FF
 7468 4368 E9120200 		jmp	L347
 7468      00
 7469              	L346:
2197:../../MMI/Resource/WriteImgRes.c ****     }
2198:../../MMI/Resource/WriteImgRes.c **** 
2199:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2200:../../MMI/Resource/WriteImgRes.c ****     else if (processData->enfb_flag == 1) /* write ENFB header to CustImgDataxxx.h and image header
2201:../../MMI/Resource/WriteImgRes.c ****     {
2202:../../MMI/Resource/WriteImgRes.c ****         Load_Image_Data_ENFB(input_file, file_size, data_size, image_identifier, n_frames, width, h
2203:../../MMI/Resource/WriteImgRes.c **** 
2204:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
2205:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
2206:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
2207:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
2208:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
2209:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
2210:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
2211:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
2212:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
2213:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
2214:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
2215:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
2216:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
2217:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
2218:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
2219:../../MMI/Resource/WriteImgRes.c ****     }
2220:../../MMI/Resource/WriteImgRes.c **** #endif
2221:../../MMI/Resource/WriteImgRes.c ****     else
2222:../../MMI/Resource/WriteImgRes.c ****     {
2223:../../MMI/Resource/WriteImgRes.c ****         if (is9slice)
 7471              	LM573:
 7472              	LBB53:
 7473 436d 837D2000 		cmpl	$0, 32(%ebp)
 7474 4371 7424     		je	L348
2224:../../MMI/Resource/WriteImgRes.c ****         {
2225:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t0x%02X, 0x%02X, ", IMAGE_TYPE_9SLICE, n_frames);
 7476              	LM574:
 7477 4373 8B4514   		movl	20(%ebp), %eax
 7478 4376 8944240C 		movl	%eax, 12(%esp)
 7479 437a C7442408 		movl	$62, 8(%esp)
 7479      3E000000 
 7480 4382 C7442404 		movl	$LC119, 4(%esp)
 7480      C5410000 
 7481 438a 8B4508   		movl	8(%ebp), %eax
 7482 438d 890424   		movl	%eax, (%esp)
 7483 4390 E8000000 		call	_ImageOutStreamPrintf
 7483      00
 7484 4395 EB22     		jmp	L349
 7485              	L348:
2226:../../MMI/Resource/WriteImgRes.c ****         }
2227:../../MMI/Resource/WriteImgRes.c ****         else
2228:../../MMI/Resource/WriteImgRes.c ****         {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 145


2229:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t0x%02X, 0x%02X, ", image_identifier, n_frames);
 7487              	LM575:
 7488 4397 8B4514   		movl	20(%ebp), %eax
 7489 439a 8944240C 		movl	%eax, 12(%esp)
 7490 439e 0FB645FF 		movzbl	-1(%ebp), %eax
 7491 43a2 89442408 		movl	%eax, 8(%esp)
 7492 43a6 C7442404 		movl	$LC119, 4(%esp)
 7492      C5410000 
 7493 43ae 8B4508   		movl	8(%ebp), %eax
 7494 43b1 890424   		movl	%eax, (%esp)
 7495 43b4 E8000000 		call	_ImageOutStreamPrintf
 7495      00
 7496              	L349:
2230:../../MMI/Resource/WriteImgRes.c ****         }
2231:../../MMI/Resource/WriteImgRes.c **** 
2232:../../MMI/Resource/WriteImgRes.c ****         if (image_identifier == IMAGE_TYPE_3GP || image_identifier == IMAGE_TYPE_MP4 ||
 7498              	LM576:
 7499 43b9 807DFF0E 		cmpb	$14, -1(%ebp)
 7500 43bd 742C     		je	L351
 7501 43bf 807DFF10 		cmpb	$16, -1(%ebp)
 7502 43c3 7426     		je	L351
 7503 43c5 807DFF0C 		cmpb	$12, -1(%ebp)
 7504 43c9 7420     		je	L351
 7505 43cb 807DFF19 		cmpb	$25, -1(%ebp)
 7506 43cf 741A     		je	L351
 7507 43d1 807DFF4A 		cmpb	$74, -1(%ebp)
 7508 43d5 7414     		je	L351
 7509 43d7 807DFF4C 		cmpb	$76, -1(%ebp)
 7510 43db 740E     		je	L351
 7511 43dd 807DFF4E 		cmpb	$78, -1(%ebp)
 7512 43e1 7408     		je	L351
 7513 43e3 807DFF1D 		cmpb	$29, -1(%ebp)
 7514 43e7 7402     		je	L351
 7515 43e9 EB4A     		jmp	L350
 7516              	L351:
2233:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_AVI || image_identifier == IMAGE_TYPE_M3D ||
2234:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_RV  || image_identifier == IMAGE_TYPE_RM  ||
2235:../../MMI/Resource/WriteImgRes.c ****             image_identifier == IMAGE_TYPE_RMVB || image_identifier == IMAGE_TYPE_SWFLASH)
2236:../../MMI/Resource/WriteImgRes.c ****         {
2237:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream,
 7518              	LM577:
 7519 43eb 8B45F8   		movl	-8(%ebp), %eax
 7520 43ee 25000000 		andl	$-16777216, %eax
 7520      FF
 7521 43f3 C1E818   		shrl	$24, %eax
 7522 43f6 89442414 		movl	%eax, 20(%esp)
 7523 43fa 8B45F8   		movl	-8(%ebp), %eax
 7524 43fd 250000FF 		andl	$16711680, %eax
 7524      00
 7525 4402 C1E810   		shrl	$16, %eax
 7526 4405 89442410 		movl	%eax, 16(%esp)
 7527 4409 8B45F8   		movl	-8(%ebp), %eax
 7528 440c 2500FF00 		andl	$65280, %eax
 7528      00
 7529 4411 C1E808   		shrl	$8, %eax
 7530 4414 8944240C 		movl	%eax, 12(%esp)
 7531 4418 0FB645F8 		movzbl	-8(%ebp),%eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 146


 7532 441c 89442408 		movl	%eax, 8(%esp)
 7533 4420 C7442404 		movl	$LC120, 4(%esp)
 7533      E0410000 
 7534 4428 8B4508   		movl	8(%ebp), %eax
 7535 442b 890424   		movl	%eax, (%esp)
 7536 442e E8000000 		call	_ImageOutStreamPrintf
 7536      00
 7537 4433 EB5F     		jmp	L352
 7538              	L350:
2238:../../MMI/Resource/WriteImgRes.c ****                 "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x00, 0x00,\n\t",
2239:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff),
2240:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff00) >> 8,
2241:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff0000) >> 16,
2242:../../MMI/Resource/WriteImgRes.c ****                 (file_size & 0xff000000) >> 24);
2243:../../MMI/Resource/WriteImgRes.c ****         }
2244:../../MMI/Resource/WriteImgRes.c ****         else
2245:../../MMI/Resource/WriteImgRes.c ****         {
2246:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream,
 7540              	LM578:
 7541 4435 8B45F0   		movl	-16(%ebp), %eax
 7542 4438 250000FF 		andl	$16711680, %eax
 7542      00
 7543 443d C1E810   		shrl	$16, %eax
 7544 4440 8944241C 		movl	%eax, 28(%esp)
 7545 4444 8B45F0   		movl	-16(%ebp), %eax
 7546 4447 2500FF00 		andl	$65280, %eax
 7546      00
 7547 444c C1E808   		shrl	$8, %eax
 7548 444f 89442418 		movl	%eax, 24(%esp)
 7549 4453 0FB645F0 		movzbl	-16(%ebp),%eax
 7550 4457 89442414 		movl	%eax, 20(%esp)
 7551 445b 8B45EC   		movl	-20(%ebp), %eax
 7552 445e 250000FF 		andl	$16711680, %eax
 7552      00
 7553 4463 C1F810   		sarl	$16, %eax
 7554 4466 89442410 		movl	%eax, 16(%esp)
 7555 446a 8B45EC   		movl	-20(%ebp), %eax
 7556 446d 2500FF00 		andl	$65280, %eax
 7556      00
 7557 4472 C1F808   		sarl	$8, %eax
 7558 4475 8944240C 		movl	%eax, 12(%esp)
 7559 4479 0FB645EC 		movzbl	-20(%ebp),%eax
 7560 447d 89442408 		movl	%eax, 8(%esp)
 7561 4481 C7442404 		movl	$LC121, 4(%esp)
 7561      20420000 
 7562 4489 8B4508   		movl	8(%ebp), %eax
 7563 448c 890424   		movl	%eax, (%esp)
 7564 448f E8000000 		call	_ImageOutStreamPrintf
 7564      00
 7565              	L352:
2247:../../MMI/Resource/WriteImgRes.c ****                 "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X,\n\t",
2248:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff),
2249:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff00) >> 8,
2250:../../MMI/Resource/WriteImgRes.c ****                 (data_size & 0xff0000) >> 16,
2251:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff),
2252:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff00) >> 8,
2253:../../MMI/Resource/WriteImgRes.c ****                 (width_height & 0xff0000) >> 16);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 147


2254:../../MMI/Resource/WriteImgRes.c ****         }
2255:../../MMI/Resource/WriteImgRes.c **** 
2256:../../MMI/Resource/WriteImgRes.c ****         if (is9slice)
 7567              	LM579:
 7568 4494 837D2000 		cmpl	$0, 32(%ebp)
 7569 4498 7422     		je	L353
2257:../../MMI/Resource/WriteImgRes.c ****         {
2258:../../MMI/Resource/WriteImgRes.c ****             /* Write 9slice file header */
2259:../../MMI/Resource/WriteImgRes.c ****             mmi_rg_write_9slice_header(image_identifier, _9slice_filename, outstream, MMI_FALSE);
 7571              	LM580:
 7572 449a C744240C 		movl	$0, 12(%esp)
 7572      00000000 
 7573 44a2 8B4508   		movl	8(%ebp), %eax
 7574 44a5 89442408 		movl	%eax, 8(%esp)
 7575 44a9 8B4524   		movl	36(%ebp), %eax
 7576 44ac 89442404 		movl	%eax, 4(%esp)
 7577 44b0 0FB645FF 		movzbl	-1(%ebp), %eax
 7578 44b4 890424   		movl	%eax, (%esp)
 7579 44b7 E8E70200 		call	_mmi_rg_write_9slice_header
 7579      00
 7580              	L353:
2260:../../MMI/Resource/WriteImgRes.c ****         }
2261:../../MMI/Resource/WriteImgRes.c **** 
2262:../../MMI/Resource/WriteImgRes.c ****         /*
2263:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
2264:../../MMI/Resource/WriteImgRes.c ****         {
2265:../../MMI/Resource/WriteImgRes.c ****             U8 ch;
2266:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(input_file);
2267:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "%d,", ch);
2268:../../MMI/Resource/WriteImgRes.c ****             if (((i + 1) % 256) == 0)
2269:../../MMI/Resource/WriteImgRes.c ****             {
2270:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "\n");
2271:../../MMI/Resource/WriteImgRes.c ****             }
2272:../../MMI/Resource/WriteImgRes.c ****         }
2273:../../MMI/Resource/WriteImgRes.c ****         */
2274:../../MMI/Resource/WriteImgRes.c ****         const int buffer_size = 16 * 1024;
 7582              	LM581:
 7583 44bc C745E800 		movl	$16384, -24(%ebp)
 7583      400000
2275:../../MMI/Resource/WriteImgRes.c ****         int out_index = 0;
 7585              	LM582:
 7586 44c3 C745E400 		movl	$0, -28(%ebp)
 7586      000000
2276:../../MMI/Resource/WriteImgRes.c ****         while (1)
 7588              	LM583:
 7589              	L354:
 7590              	LBB54:
 7591 44ca 8965D8   		movl	%esp, -40(%ebp)
2277:../../MMI/Resource/WriteImgRes.c ****         {
2278:../../MMI/Resource/WriteImgRes.c ****             U8 buffer[buffer_size];
 7593              	LM584:
 7594 44cd 8B45E8   		movl	-24(%ebp), %eax
 7595 44d0 83C00F   		addl	$15, %eax
 7596 44d3 C1E804   		shrl	$4, %eax
 7597 44d6 C1E004   		sall	$4, %eax
 7598 44d9 8945D0   		movl	%eax, -48(%ebp)
 7599 44dc 8B45D0   		movl	-48(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 148


 7600 44df E8000000 		call	__alloca
 7600      00
 7601 44e4 8D542424 		leal	36(%esp), %edx
 7602 44e8 8955D4   		movl	%edx, -44(%ebp)
2279:../../MMI/Resource/WriteImgRes.c ****             U32 size = fread(buffer, 1, buffer_size, input_file);
 7604              	LM585:
 7605 44eb 8B450C   		movl	12(%ebp), %eax
 7606 44ee 8944240C 		movl	%eax, 12(%esp)
 7607 44f2 8B45E8   		movl	-24(%ebp), %eax
 7608 44f5 89442408 		movl	%eax, 8(%esp)
 7609 44f9 C7442404 		movl	$1, 4(%esp)
 7609      01000000 
 7610 4501 8B45D4   		movl	-44(%ebp), %eax
 7611 4504 890424   		movl	%eax, (%esp)
 7612 4507 E8000000 		call	_fread
 7612      00
 7613 450c 8945E0   		movl	%eax, -32(%ebp)
2280:../../MMI/Resource/WriteImgRes.c ****             if (size == 0)
 7615              	LM586:
 7616 450f 837DE000 		cmpl	$0, -32(%ebp)
 7617 4513 7505     		jne	L357
2281:../../MMI/Resource/WriteImgRes.c ****             {
2282:../../MMI/Resource/WriteImgRes.c ****                 break;
 7619              	LM587:
 7620              	LBB55:
 7621 4515 8B65D8   		movl	-40(%ebp), %esp
 7622              	LBE55:
 7623 4518 EB65     		jmp	L347
 7624              	L357:
2283:../../MMI/Resource/WriteImgRes.c ****             }
2284:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < size; i++)
 7626              	LM588:
 7627 451a C745F400 		movl	$0, -12(%ebp)
 7627      000000
 7628              	L358:
 7629 4521 8B45F4   		movl	-12(%ebp), %eax
 7630 4524 3B45E0   		cmpl	-32(%ebp), %eax
 7631 4527 7202     		jb	L361
 7632 4529 EB4C     		jmp	L359
 7633              	L361:
2285:../../MMI/Resource/WriteImgRes.c ****             {
2286:../../MMI/Resource/WriteImgRes.c ****                 ImageOutStreamPrintf(outstream, "%d,", buffer[i]);
 7635              	LM589:
 7636 452b 8B45F4   		movl	-12(%ebp), %eax
 7637 452e 8B55D4   		movl	-44(%ebp), %edx
 7638 4531 0FB60402 		movzbl	(%edx,%eax), %eax
 7639 4535 89442408 		movl	%eax, 8(%esp)
 7640 4539 C7442404 		movl	$LC122, 4(%esp)
 7640      52420000 
 7641 4541 8B4508   		movl	8(%ebp), %eax
 7642 4544 890424   		movl	%eax, (%esp)
 7643 4547 E8000000 		call	_ImageOutStreamPrintf
 7643      00
2287:../../MMI/Resource/WriteImgRes.c ****                 if ((++out_index % 256) == 0)
 7645              	LM590:
 7646 454c 8D45E4   		leal	-28(%ebp), %eax
 7647 454f FF00     		incl	(%eax)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 149


 7648 4551 8B45E4   		movl	-28(%ebp), %eax
 7649 4554 25FF0000 		andl	$255, %eax
 7649      00
 7650 4559 85C0     		testl	%eax, %eax
 7651 455b 7513     		jne	L360
2288:../../MMI/Resource/WriteImgRes.c ****                 {
2289:../../MMI/Resource/WriteImgRes.c ****                     ImageOutStreamPrintf(outstream, "\n");
 7653              	LM591:
 7654 455d C7442404 		movl	$LC72, 4(%esp)
 7654      3C1D0000 
 7655 4565 8B4508   		movl	8(%ebp), %eax
 7656 4568 890424   		movl	%eax, (%esp)
 7657 456b E8000000 		call	_ImageOutStreamPrintf
 7657      00
 7659              	LM592:
 7660              	L360:
 7661 4570 8D45F4   		leal	-12(%ebp), %eax
 7662 4573 FF00     		incl	(%eax)
 7663 4575 EBAA     		jmp	L358
 7664              	L359:
 7665 4577 8B65D8   		movl	-40(%ebp), %esp
 7666              	LBE54:
 7667 457a E94BFFFF 		jmp	L354
 7667      FF
 7668              	L347:
2290:../../MMI/Resource/WriteImgRes.c ****                 }
2291:../../MMI/Resource/WriteImgRes.c ****             }
2292:../../MMI/Resource/WriteImgRes.c ****         }
2293:../../MMI/Resource/WriteImgRes.c ****     }
2294:../../MMI/Resource/WriteImgRes.c **** 
2295:../../MMI/Resource/WriteImgRes.c ****     return file_size + 8;
 7670              	LM593:
 7671 457f 8B45F8   		movl	-8(%ebp), %eax
 7672              	LBE53:
 7673 4582 83C008   		addl	$8, %eax
 7674 4585 8945DC   		movl	%eax, -36(%ebp)
2296:../../MMI/Resource/WriteImgRes.c **** }
 7676              	LM594:
 7677              	L340:
 7678              	LBE52:
 7679 4588 8B45DC   		movl	-36(%ebp), %eax
 7680 458b C9       		leave
 7681 458c C3       		ret
 7697              	Lscope12:
 7699              	LC123:
 7700 458d 0A457272 		.ascii "\12Err opening %s\0"
 7700      206F7065 
 7700      6E696E67 
 7700      20257300 
 7701              	LC124:
 7702 459d 72657065 		.ascii "repeat\0"
 7702      617400
 7703              	LC125:
 7704 45a4 73747265 		.ascii "stretch\0"
 7704      74636800 
 7705              	LC126:
 7706 45ac 73747265 		.ascii "stretch_no_dither\0"
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 150


 7706      7463685F 
 7706      6E6F5F64 
 7706      69746865 
 7706      7200
 7707 45be 89F6     		.align 32
 7708              	LC127:
 7709 45c0 0A       		.ascii "\12"
 7710 45c1 39736C69 		.ascii "9slice file err, please write [repeat/stretch/stretch_no_dither], can not be[%s],set defau
 7710      63652066 
 7710      696C6520 
 7710      6572722C 
 7710      20706C65 
 7711              	LC128:
 7712 462c 0A457272 		.ascii "\12Err in 9slice file [%s]\12\0"
 7712      20696E20 
 7712      39736C69 
 7712      63652066 
 7712      696C6520 
 7713 4646 90909090 		.align 32
 7713      90909090 
 7713      90909090 
 7713      90909090 
 7713      90909090 
 7714              	LC129:
 7715 4660 57726974 		.ascii "Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\12\0"
 7715      65203973 
 7715      6C696365 
 7715      20696D61 
 7715      67652068 
 7716 46a2 90909090 		.align 32
 7716      90909090 
 7716      90909090 
 7716      90909090 
 7716      90909090 
 7717              	LC130:
 7718 46c0 25632563 		.ascii "%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c\0"
 7718      25632563 
 7718      25632563 
 7718      25632563 
 7718      25632563 
 7719 46e9 90909090 		.align 32
 7719      90909090 
 7719      90909090 
 7719      90909090 
 7719      90909090 
 7720              	LC131:
 7721 4700 0A09     		.ascii "\12\11"
 7722 4702 30782530 		.ascii "0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
 7722      32582C20 
 7722      30782530 
 7722      32582C20 
 7722      30782530 
 7728              	.globl _mmi_rg_write_9slice_header
 7730              	_mmi_rg_write_9slice_header:
2297:../../MMI/Resource/WriteImgRes.c **** 
2298:../../MMI/Resource/WriteImgRes.c **** 
2299:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_RESOURCE_IMAGE_COMPRESS__)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 151


2300:../../MMI/Resource/WriteImgRes.c **** 
2301:../../MMI/Resource/WriteImgRes.c **** static void mmi_rg_set_compress(BOOL is_compress)
2302:../../MMI/Resource/WriteImgRes.c **** {
2303:../../MMI/Resource/WriteImgRes.c ****     g_is_compress = is_compress;
2304:../../MMI/Resource/WriteImgRes.c **** }
2305:../../MMI/Resource/WriteImgRes.c **** 
2306:../../MMI/Resource/WriteImgRes.c **** static U8* mmi_rg_compress_image_imp(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 
2307:../../MMI/Resource/WriteImgRes.c **** {
2308:../../MMI/Resource/WriteImgRes.c ****     int array_size = 0;
2309:../../MMI/Resource/WriteImgRes.c ****     U8 *buffer_org = NULL;
2310:../../MMI/Resource/WriteImgRes.c ****     U8 *dest_buf = NULL;
2311:../../MMI/Resource/WriteImgRes.c **** 
2312:../../MMI/Resource/WriteImgRes.c ****     if(n_frames==0)
2313:../../MMI/Resource/WriteImgRes.c ****     {
2314:../../MMI/Resource/WriteImgRes.c ****         n_frames = 1;
2315:../../MMI/Resource/WriteImgRes.c ****     }
2316:../../MMI/Resource/WriteImgRes.c **** 
2317:../../MMI/Resource/WriteImgRes.c ****     array_size = org_size + 8;
2318:../../MMI/Resource/WriteImgRes.c ****     if(is9slice)
2319:../../MMI/Resource/WriteImgRes.c ****     {
2320:../../MMI/Resource/WriteImgRes.c ****         array_size += 20;
2321:../../MMI/Resource/WriteImgRes.c ****     }
2322:../../MMI/Resource/WriteImgRes.c ****     
2323:../../MMI/Resource/WriteImgRes.c ****     *dest_size = array_size*2;
2324:../../MMI/Resource/WriteImgRes.c ****     buffer_org = malloc(array_size);
2325:../../MMI/Resource/WriteImgRes.c ****     dest_buf = malloc(array_size * 2);
2326:../../MMI/Resource/WriteImgRes.c **** 
2327:../../MMI/Resource/WriteImgRes.c ****     if (buffer_org == NULL || dest_buf == NULL)
2328:../../MMI/Resource/WriteImgRes.c ****     {
2329:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "[ResZip]ABM compress Memory not enough buffer_org=[%d] dest_buf=[%d]\n", b
2330:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("[ResZip]ABM compress Memory not enough buffer_org=[%d] dest_buf=[%d]\n", buff
2331:../../MMI/Resource/WriteImgRes.c ****         assert(0);
2332:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2333:../../MMI/Resource/WriteImgRes.c ****     }
2334:../../MMI/Resource/WriteImgRes.c **** 
2335:../../MMI/Resource/WriteImgRes.c ****     /* resource header */
2336:../../MMI/Resource/WriteImgRes.c ****     if (is9slice)
2337:../../MMI/Resource/WriteImgRes.c ****     {
2338:../../MMI/Resource/WriteImgRes.c ****         sprintf(buffer_org, "%c%c", IMAGE_TYPE_9SLICE, n_frames);
2339:../../MMI/Resource/WriteImgRes.c ****     }
2340:../../MMI/Resource/WriteImgRes.c ****     else              
2341:../../MMI/Resource/WriteImgRes.c ****     {
2342:../../MMI/Resource/WriteImgRes.c ****         sprintf(buffer_org, "%c%c", image_type, n_frames);
2343:../../MMI/Resource/WriteImgRes.c ****     }
2344:../../MMI/Resource/WriteImgRes.c **** 
2345:../../MMI/Resource/WriteImgRes.c ****     /* data size, should sub 8 byte header */
2346:../../MMI/Resource/WriteImgRes.c ****     sprintf(buffer_org+2,
2347:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c",
2348:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x000000ff),
2349:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x0000ff00) >> 8,
2350:../../MMI/Resource/WriteImgRes.c ****             ( (array_size - 8) & 0x00ff0000) >> 16);
2351:../../MMI/Resource/WriteImgRes.c ****     sprintf(buffer_org+5,
2352:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c",
2353:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x000000ff),
2354:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x0000ff00) >> 8,
2355:../../MMI/Resource/WriteImgRes.c ****             (width_height & 0x00ff0000) >> 16);
2356:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 152


2357:../../MMI/Resource/WriteImgRes.c ****     if(is9slice)
2358:../../MMI/Resource/WriteImgRes.c ****     {
2359:../../MMI/Resource/WriteImgRes.c ****         mmi_rg_get_9slice_header((U8)image_type, buffer_org + 8, _9slice_filename);
2360:../../MMI/Resource/WriteImgRes.c ****         memcpy(buffer_org+28, buffer, org_size);
2361:../../MMI/Resource/WriteImgRes.c ****     }
2362:../../MMI/Resource/WriteImgRes.c ****     else
2363:../../MMI/Resource/WriteImgRes.c ****     {
2364:../../MMI/Resource/WriteImgRes.c ****         memcpy(buffer_org+8, buffer, org_size);
2365:../../MMI/Resource/WriteImgRes.c ****     }
2366:../../MMI/Resource/WriteImgRes.c **** 
2367:../../MMI/Resource/WriteImgRes.c ****     compress2(dest_buf, dest_size, buffer_org, array_size, Z_BEST_COMPRESSION);
2368:../../MMI/Resource/WriteImgRes.c **** 
2369:../../MMI/Resource/WriteImgRes.c ****     free(buffer_org);
2370:../../MMI/Resource/WriteImgRes.c **** 
2371:../../MMI/Resource/WriteImgRes.c ****     if (*dest_size < array_size && array_size != 0 && *dest_size != 0  && (((array_size-(*dest_size
2372:../../MMI/Resource/WriteImgRes.c ****     {
2373:../../MMI/Resource/WriteImgRes.c ****         /* compress rate > __MMI_RESOURCE_IMAGE_COMPRESS_RATE__ then compress, else write directly*
2374:../../MMI/Resource/WriteImgRes.c ****         FILE *pFile;
2375:../../MMI/Resource/WriteImgRes.c **** 
2376:../../MMI/Resource/WriteImgRes.c ****         if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
2377:../../MMI/Resource/WriteImgRes.c ****         {
2378:../../MMI/Resource/WriteImgRes.c ****             fprintf(pFile, "%s,%d,%d,%d,Yes\n", symbol, array_size, *dest_size, array_size-*dest_si
2379:../../MMI/Resource/WriteImgRes.c ****             fclose(pFile);
2380:../../MMI/Resource/WriteImgRes.c ****         }
2381:../../MMI/Resource/WriteImgRes.c **** 
2382:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_data_image[g_res_compress_count_image].ro_len = *dest_size;
2383:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_data_image[g_res_compress_count_image].zi_len = array_size;
2384:../../MMI/Resource/WriteImgRes.c **** 
2385:../../MMI/Resource/WriteImgRes.c ****         g_res_compress_count_image++;
2386:../../MMI/Resource/WriteImgRes.c **** 
2387:../../MMI/Resource/WriteImgRes.c ****         g_is_compressed = TRUE;
2388:../../MMI/Resource/WriteImgRes.c **** 
2389:../../MMI/Resource/WriteImgRes.c ****         return dest_buf;
2390:../../MMI/Resource/WriteImgRes.c ****     }
2391:../../MMI/Resource/WriteImgRes.c ****     else
2392:../../MMI/Resource/WriteImgRes.c ****     {
2393:../../MMI/Resource/WriteImgRes.c ****         FILE *pFile;
2394:../../MMI/Resource/WriteImgRes.c **** 
2395:../../MMI/Resource/WriteImgRes.c ****         if(pFile = fopen(ZIP_OUTPUT_FILE, "a"))
2396:../../MMI/Resource/WriteImgRes.c ****         {
2397:../../MMI/Resource/WriteImgRes.c ****             fprintf(pFile, "%s,%d,%d,%d,No\n", symbol, array_size, *dest_size, array_size-*dest_siz
2398:../../MMI/Resource/WriteImgRes.c ****             fclose(pFile);
2399:../../MMI/Resource/WriteImgRes.c ****         }
2400:../../MMI/Resource/WriteImgRes.c ****         free(dest_buf);
2401:../../MMI/Resource/WriteImgRes.c ****     }
2402:../../MMI/Resource/WriteImgRes.c **** 
2403:../../MMI/Resource/WriteImgRes.c ****     return NULL;
2404:../../MMI/Resource/WriteImgRes.c **** }
2405:../../MMI/Resource/WriteImgRes.c **** 
2406:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_compress_image(U8 *buffer, S32 org_size, S32 *dest_size, S32 image_type, U32 width_heigh
2407:../../MMI/Resource/WriteImgRes.c **** {
2408:../../MMI/Resource/WriteImgRes.c ****     if (g_is_compress && extImageFlag == SYSTEM_IMAGE)
2409:../../MMI/Resource/WriteImgRes.c ****     {
2410:../../MMI/Resource/WriteImgRes.c ****         if (g_res_compress_count_image>= MAX_COMPRESSED_ITEM)
2411:../../MMI/Resource/WriteImgRes.c ****         {
2412:../../MMI/Resource/WriteImgRes.c ****             fprintf(stderr, "[ResZip] Image resource reach Max compress item count, please change M
2413:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("[ResZip] Image resource reach Max compress item count, please change MAX_
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 153


2414:../../MMI/Resource/WriteImgRes.c ****             assert(0);
2415:../../MMI/Resource/WriteImgRes.c ****             exit(2);
2416:../../MMI/Resource/WriteImgRes.c ****         }
2417:../../MMI/Resource/WriteImgRes.c ****         return mmi_rg_compress_image_imp(buffer, org_size, dest_size, image_type, width_height, sym
2418:../../MMI/Resource/WriteImgRes.c **** 
2419:../../MMI/Resource/WriteImgRes.c ****     }
2420:../../MMI/Resource/WriteImgRes.c **** 
2421:../../MMI/Resource/WriteImgRes.c ****     return NULL;
2422:../../MMI/Resource/WriteImgRes.c **** }
2423:../../MMI/Resource/WriteImgRes.c **** 
2424:../../MMI/Resource/WriteImgRes.c **** 
2425:../../MMI/Resource/WriteImgRes.c **** U8* mmi_rg_output_compressed_image(U8 *dest_buf, S32 dest_size, ResgenImageOutStream * outstream)
2426:../../MMI/Resource/WriteImgRes.c **** {
2427:../../MMI/Resource/WriteImgRes.c ****     U32 i;
2428:../../MMI/Resource/WriteImgRes.c **** 
2429:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < dest_size-1; i++)
2430:../../MMI/Resource/WriteImgRes.c ****     {
2431:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream, "0x%02X, ", dest_buf[i]);
2432:../../MMI/Resource/WriteImgRes.c ****         if (((i + 1) % 16) == 0)
2433:../../MMI/Resource/WriteImgRes.c ****         {
2434:../../MMI/Resource/WriteImgRes.c ****             ImageOutStreamPrintf(outstream, "\n\t");
2435:../../MMI/Resource/WriteImgRes.c ****         }
2436:../../MMI/Resource/WriteImgRes.c ****     }
2437:../../MMI/Resource/WriteImgRes.c ****     ImageOutStreamPrintf(outstream, "0x%02X", dest_buf[i]);
2438:../../MMI/Resource/WriteImgRes.c **** 
2439:../../MMI/Resource/WriteImgRes.c ****     free(dest_buf);
2440:../../MMI/Resource/WriteImgRes.c **** }
2441:../../MMI/Resource/WriteImgRes.c **** 
2442:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_IMAGE_COMPRESS__ */
2443:../../MMI/Resource/WriteImgRes.c **** 
2444:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2445:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2446:../../MMI/Resource/WriteImgRes.c ****  *  mmi_rg_write_9slice_header
2447:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2448:../../MMI/Resource/WriteImgRes.c ****  *  write 9slice header, include position and read file type to output file
2449:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2450:../../MMI/Resource/WriteImgRes.c ****  *  output_file             [IN]        output file handle
2451:../../MMI/Resource/WriteImgRes.c ****  *  in_filename             [IN]        input image name
2452:../../MMI/Resource/WriteImgRes.c ****  *  real_imagetype          [IN]        Real image type of 9slice images
2453:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2454:../../MMI/Resource/WriteImgRes.c ****  *  void
2455:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2456:../../MMI/Resource/WriteImgRes.c **** void mmi_rg_write_9slice_header(U8 real_imagetype, U8* _9slice_filename, ResgenImageOutStream * out
2457:../../MMI/Resource/WriteImgRes.c **** {
 7732              	LM595:
 7733 47a3 55       		pushl	%ebp
 7734 47a4 89E5     		movl	%esp, %ebp
 7735 47a6 56       		pushl	%esi
 7736 47a7 53       		pushl	%ebx
 7737 47a8 81EC2001 		subl	$288, %esp
 7737      0000
 7738 47ae 8B4508   		movl	8(%ebp), %eax
 7739 47b1 8845F7   		movb	%al, -9(%ebp)
2458:../../MMI/Resource/WriteImgRes.c ****     U8 buffer[128];
2459:../../MMI/Resource/WriteImgRes.c ****     FILE *p_9slice_file;
2460:../../MMI/Resource/WriteImgRes.c ****     U32 x1,y1,x2,y2;
2461:../../MMI/Resource/WriteImgRes.c ****     U32 zoom_type;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 154


2462:../../MMI/Resource/WriteImgRes.c ****     U32 do_dither; /* 1: no to do dithering,  0: try to do dithering*/
2463:../../MMI/Resource/WriteImgRes.c **** 
2464:../../MMI/Resource/WriteImgRes.c ****     p_9slice_file = fopen(_9slice_filename, "r");
 7741              	LM596:
 7742              	LBB56:
 7743 47b4 C7442404 		movl	$LC95, 4(%esp)
 7743      02300000 
 7744 47bc 8B450C   		movl	12(%ebp), %eax
 7745 47bf 890424   		movl	%eax, (%esp)
 7746 47c2 E8000000 		call	_fopen
 7746      00
 7747 47c7 898564FF 		movl	%eax, -156(%ebp)
 7747      FFFF
2465:../../MMI/Resource/WriteImgRes.c ****     if (p_9slice_file == NULL)
 7749              	LM597:
 7750 47cd 83BD64FF 		cmpl	$0, -156(%ebp)
 7750      FFFF00
 7751 47d4 755E     		jne	L364
2466:../../MMI/Resource/WriteImgRes.c ****     {
2467:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr opening %s", _9slice_filename);
 7753              	LM598:
 7754 47d6 8B450C   		movl	12(%ebp), %eax
 7755 47d9 89442408 		movl	%eax, 8(%esp)
 7756 47dd C7442404 		movl	$LC123, 4(%esp)
 7756      8D450000 
 7757 47e5 A1000000 		movl	__imp___iob, %eax
 7757      00
 7758 47ea 83C040   		addl	$64, %eax
 7759 47ed 890424   		movl	%eax, (%esp)
 7760 47f0 E8000000 		call	_fprintf
 7760      00
2468:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr opening %s", _9slice_filename);
 7762              	LM599:
 7763 47f5 8B450C   		movl	12(%ebp), %eax
 7764 47f8 8944240C 		movl	%eax, 12(%esp)
 7765 47fc C7442408 		movl	$LC123, 8(%esp)
 7765      8D450000 
 7766 4804 C7442404 		movl	$LC34, 4(%esp)
 7766      64060000 
 7767 480c C7042403 		movl	$3, (%esp)
 7767      000000
 7768 4813 E8000000 		call	_reslog_adaptor_log
 7768      00
2469:../../MMI/Resource/WriteImgRes.c ****         assert(0);
 7770              	LM600:
 7771 4818 C7442408 		movl	$2469, 8(%esp)
 7771      A5090000 
 7772 4820 C7442404 		movl	$LC35, 4(%esp)
 7772      80060000 
 7773 4828 C70424A1 		movl	$LC36, (%esp)
 7773      060000
 7774 482f E8000000 		call	__assert
 7774      00
 7775              	L364:
2470:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2471:../../MMI/Resource/WriteImgRes.c ****     }
2472:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 155


2473:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7777              	LM601:
 7778 4834 8B8564FF 		movl	-156(%ebp), %eax
 7778      FFFF
 7779 483a 89442408 		movl	%eax, 8(%esp)
 7780 483e C7442404 		movl	$128, 4(%esp)
 7780      80000000 
 7781 4846 8D8568FF 		leal	-152(%ebp), %eax
 7781      FFFF
 7782 484c 890424   		movl	%eax, (%esp)
 7783 484f E8000000 		call	_fgets
 7783      00
2474:../../MMI/Resource/WriteImgRes.c ****     x1 = atoi(buffer);
 7785              	LM602:
 7786 4854 8D8568FF 		leal	-152(%ebp), %eax
 7786      FFFF
 7787 485a 890424   		movl	%eax, (%esp)
 7788 485d E8000000 		call	_atoi
 7788      00
 7789 4862 898560FF 		movl	%eax, -160(%ebp)
 7789      FFFF
2475:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7791              	LM603:
 7792 4868 8B8564FF 		movl	-156(%ebp), %eax
 7792      FFFF
 7793 486e 89442408 		movl	%eax, 8(%esp)
 7794 4872 C7442404 		movl	$128, 4(%esp)
 7794      80000000 
 7795 487a 8D8568FF 		leal	-152(%ebp), %eax
 7795      FFFF
 7796 4880 890424   		movl	%eax, (%esp)
 7797 4883 E8000000 		call	_fgets
 7797      00
2476:../../MMI/Resource/WriteImgRes.c ****     y1 = atoi(buffer);
 7799              	LM604:
 7800 4888 8D8568FF 		leal	-152(%ebp), %eax
 7800      FFFF
 7801 488e 890424   		movl	%eax, (%esp)
 7802 4891 E8000000 		call	_atoi
 7802      00
 7803 4896 89855CFF 		movl	%eax, -164(%ebp)
 7803      FFFF
2477:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7805              	LM605:
 7806 489c 8B8564FF 		movl	-156(%ebp), %eax
 7806      FFFF
 7807 48a2 89442408 		movl	%eax, 8(%esp)
 7808 48a6 C7442404 		movl	$128, 4(%esp)
 7808      80000000 
 7809 48ae 8D8568FF 		leal	-152(%ebp), %eax
 7809      FFFF
 7810 48b4 890424   		movl	%eax, (%esp)
 7811 48b7 E8000000 		call	_fgets
 7811      00
2478:../../MMI/Resource/WriteImgRes.c ****     x2 = atoi(buffer);
 7813              	LM606:
 7814 48bc 8D8568FF 		leal	-152(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 156


 7814      FFFF
 7815 48c2 890424   		movl	%eax, (%esp)
 7816 48c5 E8000000 		call	_atoi
 7816      00
 7817 48ca 898558FF 		movl	%eax, -168(%ebp)
 7817      FFFF
2479:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 7819              	LM607:
 7820 48d0 8B8564FF 		movl	-156(%ebp), %eax
 7820      FFFF
 7821 48d6 89442408 		movl	%eax, 8(%esp)
 7822 48da C7442404 		movl	$128, 4(%esp)
 7822      80000000 
 7823 48e2 8D8568FF 		leal	-152(%ebp), %eax
 7823      FFFF
 7824 48e8 890424   		movl	%eax, (%esp)
 7825 48eb E8000000 		call	_fgets
 7825      00
2480:../../MMI/Resource/WriteImgRes.c ****     y2 = atoi(buffer);
 7827              	LM608:
 7828 48f0 8D8568FF 		leal	-152(%ebp), %eax
 7828      FFFF
 7829 48f6 890424   		movl	%eax, (%esp)
 7830 48f9 E8000000 		call	_atoi
 7830      00
 7831 48fe 898554FF 		movl	%eax, -172(%ebp)
 7831      FFFF
2481:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);  /* zoom type */
 7833              	LM609:
 7834 4904 8B8564FF 		movl	-156(%ebp), %eax
 7834      FFFF
 7835 490a 89442408 		movl	%eax, 8(%esp)
 7836 490e C7442404 		movl	$128, 4(%esp)
 7836      80000000 
 7837 4916 8D8568FF 		leal	-152(%ebp), %eax
 7837      FFFF
 7838 491c 890424   		movl	%eax, (%esp)
 7839 491f E8000000 		call	_fgets
 7839      00
2482:../../MMI/Resource/WriteImgRes.c **** 
2483:../../MMI/Resource/WriteImgRes.c ****     fclose(p_9slice_file);
 7841              	LM610:
 7842 4924 8B8564FF 		movl	-156(%ebp), %eax
 7842      FFFF
 7843 492a 890424   		movl	%eax, (%esp)
 7844 492d E8000000 		call	_fclose
 7844      00
2484:../../MMI/Resource/WriteImgRes.c **** 
2485:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(buffer, "repeat")))
 7846              	LM611:
 7847 4932 C7442404 		movl	$LC124, 4(%esp)
 7847      9D450000 
 7848 493a 8D8568FF 		leal	-152(%ebp), %eax
 7848      FFFF
 7849 4940 890424   		movl	%eax, (%esp)
 7850 4943 E8000000 		call	_strcmp
 7850      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 157


 7851 4948 85C0     		testl	%eax, %eax
 7852 494a 7519     		jne	L365
2486:../../MMI/Resource/WriteImgRes.c ****     {
2487:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 7854              	LM612:
 7855 494c C78550FF 		movl	$0, -176(%ebp)
 7855      FFFF0000 
 7855      0000
2488:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 7857              	LM613:
 7858 4956 C7854CFF 		movl	$1, -180(%ebp)
 7858      FFFF0100 
 7858      0000
 7859 4960 E98A0000 		jmp	L366
 7859      00
 7860              	L365:
2489:../../MMI/Resource/WriteImgRes.c ****     }
2490:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch")))
 7862              	LM614:
 7863 4965 C7442404 		movl	$LC125, 4(%esp)
 7863      A4450000 
 7864 496d 8D8568FF 		leal	-152(%ebp), %eax
 7864      FFFF
 7865 4973 890424   		movl	%eax, (%esp)
 7866 4976 E8000000 		call	_strcmp
 7866      00
 7867 497b 85C0     		testl	%eax, %eax
 7868 497d 7516     		jne	L367
2491:../../MMI/Resource/WriteImgRes.c ****     {
2492:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 7870              	LM615:
 7871 497f C78550FF 		movl	$1, -176(%ebp)
 7871      FFFF0100 
 7871      0000
2493:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 7873              	LM616:
 7874 4989 C7854CFF 		movl	$0, -180(%ebp)
 7874      FFFF0000 
 7874      0000
 7875 4993 EB5A     		jmp	L366
 7876              	L367:
2494:../../MMI/Resource/WriteImgRes.c ****     }
2495:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch_no_dither")))
 7878              	LM617:
 7879 4995 C7442404 		movl	$LC126, 4(%esp)
 7879      AC450000 
 7880 499d 8D8568FF 		leal	-152(%ebp), %eax
 7880      FFFF
 7881 49a3 890424   		movl	%eax, (%esp)
 7882 49a6 E8000000 		call	_strcmp
 7882      00
 7883 49ab 85C0     		testl	%eax, %eax
 7884 49ad 7516     		jne	L369
2496:../../MMI/Resource/WriteImgRes.c ****     {
2497:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 7886              	LM618:
 7887 49af C78550FF 		movl	$1, -176(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 158


 7887      FFFF0100 
 7887      0000
2498:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 7889              	LM619:
 7890 49b9 C7854CFF 		movl	$1, -180(%ebp)
 7890      FFFF0100 
 7890      0000
 7891 49c3 EB2A     		jmp	L366
 7892              	L369:
2499:../../MMI/Resource/WriteImgRes.c ****     }
2500:../../MMI/Resource/WriteImgRes.c ****     else
2501:../../MMI/Resource/WriteImgRes.c ****     {
2502:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("\n9slice file err, please write [repeat/stretch/stretch_no_dither], can not
 7894              	LM620:
 7895 49c5 8D8568FF 		leal	-152(%ebp), %eax
 7895      FFFF
 7896 49cb 89442404 		movl	%eax, 4(%esp)
 7897 49cf C70424C0 		movl	$LC127, (%esp)
 7897      450000
 7898 49d6 E8000000 		call	_MtkResgenTrace
 7898      00
2503:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 7900              	LM621:
 7901 49db C78550FF 		movl	$0, -176(%ebp)
 7901      FFFF0000 
 7901      0000
2504:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 7903              	LM622:
 7904 49e5 C7854CFF 		movl	$0, -180(%ebp)
 7904      FFFF0000 
 7904      0000
 7905              	L366:
2505:../../MMI/Resource/WriteImgRes.c ****     }
2506:../../MMI/Resource/WriteImgRes.c **** 
2507:../../MMI/Resource/WriteImgRes.c ****     if (x1<0 || x1>1024 ||
 7907              	LM623:
 7908 49ef 81BD60FF 		cmpl	$1024, -160(%ebp)
 7908      FFFF0004 
 7908      0000
 7909 49f9 7726     		ja	L372
 7910 49fb 81BD5CFF 		cmpl	$1024, -164(%ebp)
 7910      FFFF0004 
 7910      0000
 7911 4a05 771A     		ja	L372
 7912 4a07 81BD58FF 		cmpl	$1024, -168(%ebp)
 7912      FFFF0004 
 7912      0000
 7913 4a11 770E     		ja	L372
 7914 4a13 81BD54FF 		cmpl	$1024, -172(%ebp)
 7914      FFFF0004 
 7914      0000
 7915 4a1d 7702     		ja	L372
 7916 4a1f EB5E     		jmp	L371
 7917              	L372:
2508:../../MMI/Resource/WriteImgRes.c ****         y1<0 || y1>1024 ||
2509:../../MMI/Resource/WriteImgRes.c ****         x2<0 || x2>1024 ||
2510:../../MMI/Resource/WriteImgRes.c ****         y2<0 || y2>1024)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 159


2511:../../MMI/Resource/WriteImgRes.c ****     {
2512:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr in 9slice file [%s]\n", _9slice_filename);
 7919              	LM624:
 7920 4a21 8B450C   		movl	12(%ebp), %eax
 7921 4a24 89442408 		movl	%eax, 8(%esp)
 7922 4a28 C7442404 		movl	$LC128, 4(%esp)
 7922      2C460000 
 7923 4a30 A1000000 		movl	__imp___iob, %eax
 7923      00
 7924 4a35 83C040   		addl	$64, %eax
 7925 4a38 890424   		movl	%eax, (%esp)
 7926 4a3b E8000000 		call	_fprintf
 7926      00
2513:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr in 9slice file [%s]\n", _9slice_filename);
 7928              	LM625:
 7929 4a40 8B450C   		movl	12(%ebp), %eax
 7930 4a43 8944240C 		movl	%eax, 12(%esp)
 7931 4a47 C7442408 		movl	$LC128, 8(%esp)
 7931      2C460000 
 7932 4a4f C7442404 		movl	$LC34, 4(%esp)
 7932      64060000 
 7933 4a57 C7042403 		movl	$3, (%esp)
 7933      000000
 7934 4a5e E8000000 		call	_reslog_adaptor_log
 7934      00
2514:../../MMI/Resource/WriteImgRes.c ****         assert(0);
 7936              	LM626:
 7937 4a63 C7442408 		movl	$2514, 8(%esp)
 7937      D2090000 
 7938 4a6b C7442404 		movl	$LC35, 4(%esp)
 7938      80060000 
 7939 4a73 C70424A1 		movl	$LC36, (%esp)
 7939      060000
 7940 4a7a E8000000 		call	__assert
 7940      00
 7941              	L371:
2515:../../MMI/Resource/WriteImgRes.c ****         exit(2);
2516:../../MMI/Resource/WriteImgRes.c ****     }
2517:../../MMI/Resource/WriteImgRes.c **** 
2518:../../MMI/Resource/WriteImgRes.c ****     RES_PRINT_INFO("Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\n", _9slice_fi
 7943              	LM627:
 7944 4a7f 8D8568FF 		leal	-152(%ebp), %eax
 7944      FFFF
 7945 4a85 89442418 		movl	%eax, 24(%esp)
 7946 4a89 8B8554FF 		movl	-172(%ebp), %eax
 7946      FFFF
 7947 4a8f 89442414 		movl	%eax, 20(%esp)
 7948 4a93 8B8558FF 		movl	-168(%ebp), %eax
 7948      FFFF
 7949 4a99 89442410 		movl	%eax, 16(%esp)
 7950 4a9d 8B855CFF 		movl	-164(%ebp), %eax
 7950      FFFF
 7951 4aa3 8944240C 		movl	%eax, 12(%esp)
 7952 4aa7 8B8560FF 		movl	-160(%ebp), %eax
 7952      FFFF
 7953 4aad 89442408 		movl	%eax, 8(%esp)
 7954 4ab1 8B450C   		movl	12(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 160


 7955 4ab4 89442404 		movl	%eax, 4(%esp)
 7956 4ab8 C7042460 		movl	$LC129, (%esp)
 7956      460000
 7957 4abf E8000000 		call	_MtkResgenTrace
 7957      00
2519:../../MMI/Resource/WriteImgRes.c ****     if (is_binary)
 7959              	LM628:
 7960 4ac4 837D1400 		cmpl	$0, 20(%ebp)
 7961 4ac8 0F847301 		je	L373
 7961      0000
 7962              	LBB57:
 7963 4ace 89E3     		movl	%esp, %ebx
2520:../../MMI/Resource/WriteImgRes.c ****     {
2521:../../MMI/Resource/WriteImgRes.c ****         const size_t buffer_size = 20;
 7965              	LM629:
 7966 4ad0 C78548FF 		movl	$20, -184(%ebp)
 7966      FFFF1400 
 7966      0000
2522:../../MMI/Resource/WriteImgRes.c ****         char temp_buffer[buffer_size + 1];
 7968              	LM630:
 7969 4ada 8B8548FF 		movl	-184(%ebp), %eax
 7969      FFFF
 7970 4ae0 40       		incl	%eax
 7971 4ae1 83C00F   		addl	$15, %eax
 7972 4ae4 C1E804   		shrl	$4, %eax
 7973 4ae7 C1E004   		sall	$4, %eax
 7974 4aea 898544FF 		movl	%eax, -188(%ebp)
 7974      FFFF
 7975 4af0 8B8544FF 		movl	-188(%ebp), %eax
 7975      FFFF
 7976 4af6 E8000000 		call	__alloca
 7976      00
 7977 4afb 8D742458 		leal	88(%esp), %esi
2523:../../MMI/Resource/WriteImgRes.c ****         sprintf(temp_buffer,
 7979              	LM631:
 7980 4aff 8B8554FF 		movl	-172(%ebp), %eax
 7980      FFFF
 7981 4b05 C1E818   		shrl	$24, %eax
 7982 4b08 0FB6C0   		movzbl	%al, %eax
 7983 4b0b 89442454 		movl	%eax, 84(%esp)
 7984 4b0f 8B8554FF 		movl	-172(%ebp), %eax
 7984      FFFF
 7985 4b15 C1E810   		shrl	$16, %eax
 7986 4b18 0FB6C0   		movzbl	%al, %eax
 7987 4b1b 89442450 		movl	%eax, 80(%esp)
 7988 4b1f 8B8554FF 		movl	-172(%ebp), %eax
 7988      FFFF
 7989 4b25 C1E808   		shrl	$8, %eax
 7990 4b28 0FB6C0   		movzbl	%al, %eax
 7991 4b2b 8944244C 		movl	%eax, 76(%esp)
 7992 4b2f 0FB68554 		movzbl	-172(%ebp), %eax
 7992      FFFFFF
 7993 4b36 89442448 		movl	%eax, 72(%esp)
 7994 4b3a 8B8558FF 		movl	-168(%ebp), %eax
 7994      FFFF
 7995 4b40 C1E818   		shrl	$24, %eax
 7996 4b43 0FB6C0   		movzbl	%al, %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 161


 7997 4b46 89442444 		movl	%eax, 68(%esp)
 7998 4b4a 8B8558FF 		movl	-168(%ebp), %eax
 7998      FFFF
 7999 4b50 C1E810   		shrl	$16, %eax
 8000 4b53 0FB6C0   		movzbl	%al, %eax
 8001 4b56 89442440 		movl	%eax, 64(%esp)
 8002 4b5a 8B8558FF 		movl	-168(%ebp), %eax
 8002      FFFF
 8003 4b60 C1E808   		shrl	$8, %eax
 8004 4b63 0FB6C0   		movzbl	%al, %eax
 8005 4b66 8944243C 		movl	%eax, 60(%esp)
 8006 4b6a 0FB68558 		movzbl	-168(%ebp), %eax
 8006      FFFFFF
 8007 4b71 89442438 		movl	%eax, 56(%esp)
 8008 4b75 8B855CFF 		movl	-164(%ebp), %eax
 8008      FFFF
 8009 4b7b C1E818   		shrl	$24, %eax
 8010 4b7e 0FB6C0   		movzbl	%al, %eax
 8011 4b81 89442434 		movl	%eax, 52(%esp)
 8012 4b85 8B855CFF 		movl	-164(%ebp), %eax
 8012      FFFF
 8013 4b8b C1E810   		shrl	$16, %eax
 8014 4b8e 0FB6C0   		movzbl	%al, %eax
 8015 4b91 89442430 		movl	%eax, 48(%esp)
 8016 4b95 8B855CFF 		movl	-164(%ebp), %eax
 8016      FFFF
 8017 4b9b C1E808   		shrl	$8, %eax
 8018 4b9e 0FB6C0   		movzbl	%al, %eax
 8019 4ba1 8944242C 		movl	%eax, 44(%esp)
 8020 4ba5 0FB6855C 		movzbl	-164(%ebp), %eax
 8020      FFFFFF
 8021 4bac 89442428 		movl	%eax, 40(%esp)
 8022 4bb0 8B8560FF 		movl	-160(%ebp), %eax
 8022      FFFF
 8023 4bb6 C1E818   		shrl	$24, %eax
 8024 4bb9 0FB6C0   		movzbl	%al, %eax
 8025 4bbc 89442424 		movl	%eax, 36(%esp)
 8026 4bc0 8B8560FF 		movl	-160(%ebp), %eax
 8026      FFFF
 8027 4bc6 C1E810   		shrl	$16, %eax
 8028 4bc9 0FB6C0   		movzbl	%al, %eax
 8029 4bcc 89442420 		movl	%eax, 32(%esp)
 8030 4bd0 8B8560FF 		movl	-160(%ebp), %eax
 8030      FFFF
 8031 4bd6 C1E808   		shrl	$8, %eax
 8032 4bd9 0FB6C0   		movzbl	%al, %eax
 8033 4bdc 8944241C 		movl	%eax, 28(%esp)
 8034 4be0 0FB68560 		movzbl	-160(%ebp), %eax
 8034      FFFFFF
 8035 4be7 89442418 		movl	%eax, 24(%esp)
 8036 4beb C7442414 		movl	$0, 20(%esp)
 8036      00000000 
 8037 4bf3 0FB6854C 		movzbl	-180(%ebp), %eax
 8037      FFFFFF
 8038 4bfa 89442410 		movl	%eax, 16(%esp)
 8039 4bfe 0FB68550 		movzbl	-176(%ebp), %eax
 8039      FFFFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 162


 8040 4c05 8944240C 		movl	%eax, 12(%esp)
 8041 4c09 0FB645F7 		movzbl	-9(%ebp), %eax
 8042 4c0d 89442408 		movl	%eax, 8(%esp)
 8043 4c11 C7442404 		movl	$LC130, 4(%esp)
 8043      C0460000 
 8044 4c19 893424   		movl	%esi, (%esp)
 8045 4c1c E8000000 		call	_sprintf
 8045      00
2524:../../MMI/Resource/WriteImgRes.c ****                 "%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c%c",
2525:../../MMI/Resource/WriteImgRes.c ****                 (U8) real_imagetype,            //type
2526:../../MMI/Resource/WriteImgRes.c ****                 (U8) zoom_type,                 //zoom type
2527:../../MMI/Resource/WriteImgRes.c ****                 (U8) do_dither,                 //do_dither
2528:../../MMI/Resource/WriteImgRes.c ****                 (U8) 0,                         //reserved
2529:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x1 & 0xff),
2530:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 8) & 0xff),
2531:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 16) & 0xff),
2532:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 24) & 0xff),
2533:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y1 & 0xff),
2534:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 8) & 0xff),
2535:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 16) & 0xff),
2536:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 24) & 0xff),
2537:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x2 & 0xff),
2538:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 8) & 0xff),
2539:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 16) & 0xff),
2540:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 24) & 0xff),
2541:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y2 & 0xff),
2542:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 8) & 0xff),
2543:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 16) & 0xff),
2544:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 24) & 0xff));
2545:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamAppend(outstream, temp_buffer, buffer_size);
 8047              	LM632:
 8048 4c21 8B8548FF 		movl	-184(%ebp), %eax
 8048      FFFF
 8049 4c27 89442408 		movl	%eax, 8(%esp)
 8050 4c2b 89742404 		movl	%esi, 4(%esp)
 8051 4c2f 8B4510   		movl	16(%ebp), %eax
 8052 4c32 890424   		movl	%eax, (%esp)
 8053 4c35 E8000000 		call	_ImageOutStreamAppend
 8053      00
 8054 4c3a 89DC     		movl	%ebx, %esp
 8055              	LBE57:
 8056 4c3c E9250100 		jmp	L363
 8056      00
 8057              	L373:
2546:../../MMI/Resource/WriteImgRes.c ****     }
2547:../../MMI/Resource/WriteImgRes.c ****     else
2548:../../MMI/Resource/WriteImgRes.c ****     {
2549:../../MMI/Resource/WriteImgRes.c ****         ImageOutStreamPrintf(outstream,
 8059              	LM633:
 8060 4c41 8B8554FF 		movl	-172(%ebp), %eax
 8060      FFFF
 8061 4c47 C1E818   		shrl	$24, %eax
 8062 4c4a 0FB6C0   		movzbl	%al, %eax
 8063 4c4d 89442454 		movl	%eax, 84(%esp)
 8064 4c51 8B8554FF 		movl	-172(%ebp), %eax
 8064      FFFF
 8065 4c57 C1E810   		shrl	$16, %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 163


 8066 4c5a 0FB6C0   		movzbl	%al, %eax
 8067 4c5d 89442450 		movl	%eax, 80(%esp)
 8068 4c61 8B8554FF 		movl	-172(%ebp), %eax
 8068      FFFF
 8069 4c67 C1E808   		shrl	$8, %eax
 8070 4c6a 0FB6C0   		movzbl	%al, %eax
 8071 4c6d 8944244C 		movl	%eax, 76(%esp)
 8072 4c71 0FB68554 		movzbl	-172(%ebp), %eax
 8072      FFFFFF
 8073 4c78 89442448 		movl	%eax, 72(%esp)
 8074 4c7c 8B8558FF 		movl	-168(%ebp), %eax
 8074      FFFF
 8075 4c82 C1E818   		shrl	$24, %eax
 8076 4c85 0FB6C0   		movzbl	%al, %eax
 8077 4c88 89442444 		movl	%eax, 68(%esp)
 8078 4c8c 8B8558FF 		movl	-168(%ebp), %eax
 8078      FFFF
 8079 4c92 C1E810   		shrl	$16, %eax
 8080 4c95 0FB6C0   		movzbl	%al, %eax
 8081 4c98 89442440 		movl	%eax, 64(%esp)
 8082 4c9c 8B8558FF 		movl	-168(%ebp), %eax
 8082      FFFF
 8083 4ca2 C1E808   		shrl	$8, %eax
 8084 4ca5 0FB6C0   		movzbl	%al, %eax
 8085 4ca8 8944243C 		movl	%eax, 60(%esp)
 8086 4cac 0FB68558 		movzbl	-168(%ebp), %eax
 8086      FFFFFF
 8087 4cb3 89442438 		movl	%eax, 56(%esp)
 8088 4cb7 8B855CFF 		movl	-164(%ebp), %eax
 8088      FFFF
 8089 4cbd C1E818   		shrl	$24, %eax
 8090 4cc0 0FB6C0   		movzbl	%al, %eax
 8091 4cc3 89442434 		movl	%eax, 52(%esp)
 8092 4cc7 8B855CFF 		movl	-164(%ebp), %eax
 8092      FFFF
 8093 4ccd C1E810   		shrl	$16, %eax
 8094 4cd0 0FB6C0   		movzbl	%al, %eax
 8095 4cd3 89442430 		movl	%eax, 48(%esp)
 8096 4cd7 8B855CFF 		movl	-164(%ebp), %eax
 8096      FFFF
 8097 4cdd C1E808   		shrl	$8, %eax
 8098 4ce0 0FB6C0   		movzbl	%al, %eax
 8099 4ce3 8944242C 		movl	%eax, 44(%esp)
 8100 4ce7 0FB6855C 		movzbl	-164(%ebp), %eax
 8100      FFFFFF
 8101 4cee 89442428 		movl	%eax, 40(%esp)
 8102 4cf2 8B8560FF 		movl	-160(%ebp), %eax
 8102      FFFF
 8103 4cf8 C1E818   		shrl	$24, %eax
 8104 4cfb 0FB6C0   		movzbl	%al, %eax
 8105 4cfe 89442424 		movl	%eax, 36(%esp)
 8106 4d02 8B8560FF 		movl	-160(%ebp), %eax
 8106      FFFF
 8107 4d08 C1E810   		shrl	$16, %eax
 8108 4d0b 0FB6C0   		movzbl	%al, %eax
 8109 4d0e 89442420 		movl	%eax, 32(%esp)
 8110 4d12 8B8560FF 		movl	-160(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 164


 8110      FFFF
 8111 4d18 C1E808   		shrl	$8, %eax
 8112 4d1b 0FB6C0   		movzbl	%al, %eax
 8113 4d1e 8944241C 		movl	%eax, 28(%esp)
 8114 4d22 0FB68560 		movzbl	-160(%ebp), %eax
 8114      FFFFFF
 8115 4d29 89442418 		movl	%eax, 24(%esp)
 8116 4d2d C7442414 		movl	$0, 20(%esp)
 8116      00000000 
 8117 4d35 0FB6854C 		movzbl	-180(%ebp), %eax
 8117      FFFFFF
 8118 4d3c 89442410 		movl	%eax, 16(%esp)
 8119 4d40 0FB68550 		movzbl	-176(%ebp), %eax
 8119      FFFFFF
 8120 4d47 8944240C 		movl	%eax, 12(%esp)
 8121 4d4b 0FB645F7 		movzbl	-9(%ebp), %eax
 8122 4d4f 89442408 		movl	%eax, 8(%esp)
 8123 4d53 C7442404 		movl	$LC131, 4(%esp)
 8123      00470000 
 8124 4d5b 8B4510   		movl	16(%ebp), %eax
 8125 4d5e 890424   		movl	%eax, (%esp)
 8126 4d61 E8000000 		call	_ImageOutStreamPrintf
 8126      00
2550:../../MMI/Resource/WriteImgRes.c ****                 "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X
2551:../../MMI/Resource/WriteImgRes.c ****                 (U8) real_imagetype,            //type
2552:../../MMI/Resource/WriteImgRes.c ****                 (U8) zoom_type,                 //zoom type
2553:../../MMI/Resource/WriteImgRes.c ****                 (U8) do_dither,                 //do_dither
2554:../../MMI/Resource/WriteImgRes.c ****                 (U8) 0,                         //reserved
2555:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x1 & 0xff),
2556:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 8) & 0xff),
2557:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 16) & 0xff),
2558:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x1 >> 24) & 0xff),
2559:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y1 & 0xff),
2560:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 8) & 0xff),
2561:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 16) & 0xff),
2562:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y1 >> 24) & 0xff),
2563:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( x2 & 0xff),
2564:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 8) & 0xff),
2565:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 16) & 0xff),
2566:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((x2 >> 24) & 0xff),
2567:../../MMI/Resource/WriteImgRes.c ****                 (U8) ( y2 & 0xff),
2568:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 8) & 0xff),
2569:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 16) & 0xff),
2570:../../MMI/Resource/WriteImgRes.c ****                 (U8) ((y2 >> 24) & 0xff));
2571:../../MMI/Resource/WriteImgRes.c ****     }
2572:../../MMI/Resource/WriteImgRes.c **** 
2573:../../MMI/Resource/WriteImgRes.c **** }
 8128              	LM634:
 8129              	L363:
 8130 4d66 8D65F8   		leal	-8(%ebp), %esp
 8131 4d69 5B       		popl	%ebx
 8132 4d6a 5E       		popl	%esi
 8133 4d6b 5D       		popl	%ebp
 8134 4d6c C3       		ret
 8135              	LBE56:
 8151              	Lscope13:
 8153 4d6d 90909090 		.align 32
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 165


 8153      90909090 
 8153      90909090 
 8153      90909090 
 8153      909090
 8154              	LC132:
 8155 4d80 0A6D6D69 		.ascii "\12mmi_rg_get_9slice_header Err input \"buff\" parameter\0"
 8155      5F72675F 
 8155      6765745F 
 8155      39736C69 
 8155      63655F68 
 8160              	.globl _mmi_rg_get_9slice_header
 8162              	_mmi_rg_get_9slice_header:
2574:../../MMI/Resource/WriteImgRes.c **** 
2575:../../MMI/Resource/WriteImgRes.c **** 
2576:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2577:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2578:../../MMI/Resource/WriteImgRes.c ****  *  mmi_rg_get_9slice_header
2579:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2580:../../MMI/Resource/WriteImgRes.c ****  *  write 9slice header, include position and read file type to output file
2581:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2582:../../MMI/Resource/WriteImgRes.c ****  *  real_imagetype          [IN]        Real image type of 9slice images
2583:../../MMI/Resource/WriteImgRes.c ****  *  buff                         [IN/OUT]        9slice header
2584:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2585:../../MMI/Resource/WriteImgRes.c ****  *  void
2586:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2587:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL mmi_rg_get_9slice_header(U8 real_imagetype, U8 *buff/*IN/OUT*/, U8* _9slice_filename)
2588:../../MMI/Resource/WriteImgRes.c **** {
 8164              	LM635:
 8165 4db5 55       		pushl	%ebp
 8166 4db6 89E5     		movl	%esp, %ebp
 8167 4db8 81ECD800 		subl	$216, %esp
 8167      0000
 8168 4dbe 8B4508   		movl	8(%ebp), %eax
 8169 4dc1 8845F7   		movb	%al, -9(%ebp)
2589:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2590:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2591:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2592:../../MMI/Resource/WriteImgRes.c ****     U8 buffer[128];
2593:../../MMI/Resource/WriteImgRes.c ****     FILE *p_9slice_file;
2594:../../MMI/Resource/WriteImgRes.c ****     U32 x1,y1,x2,y2;
2595:../../MMI/Resource/WriteImgRes.c ****     U32 zoom_type;
2596:../../MMI/Resource/WriteImgRes.c ****     U32 do_dither; /* 1: not to do dithering, 0: try to do dithering*/
2597:../../MMI/Resource/WriteImgRes.c **** 
2598:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2599:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2600:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2601:../../MMI/Resource/WriteImgRes.c ****     if(buff == 0)
 8171              	LM636:
 8172              	LBB58:
 8173 4dc4 837D0C00 		cmpl	$0, 12(%ebp)
 8174 4dc8 7528     		jne	L376
2602:../../MMI/Resource/WriteImgRes.c ****     {
2603:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nmmi_rg_get_9slice_header Err input \"buff\" parameter");
 8176              	LM637:
 8177 4dca C7442408 		movl	$LC132, 8(%esp)
 8177      804D0000 
 8178 4dd2 C7442404 		movl	$LC34, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 166


 8178      64060000 
 8179 4dda C7042403 		movl	$3, (%esp)
 8179      000000
 8180 4de1 E8000000 		call	_reslog_adaptor_log
 8180      00
2604:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8182              	LM638:
 8183 4de6 C7042402 		movl	$2, (%esp)
 8183      000000
 8184 4ded E8000000 		call	_exit
 8184      00
 8185              	L376:
2605:../../MMI/Resource/WriteImgRes.c ****     }
2606:../../MMI/Resource/WriteImgRes.c **** 
2607:../../MMI/Resource/WriteImgRes.c ****     p_9slice_file = fopen(_9slice_filename, "r");
 8187              	LM639:
 8188 4df2 C7442404 		movl	$LC95, 4(%esp)
 8188      02300000 
 8189 4dfa 8B4510   		movl	16(%ebp), %eax
 8190 4dfd 890424   		movl	%eax, (%esp)
 8191 4e00 E8000000 		call	_fopen
 8191      00
 8192 4e05 898564FF 		movl	%eax, -156(%ebp)
 8192      FFFF
2608:../../MMI/Resource/WriteImgRes.c ****     if (p_9slice_file == NULL)
 8194              	LM640:
 8195 4e0b 83BD64FF 		cmpl	$0, -156(%ebp)
 8195      FFFF00
 8196 4e12 754E     		jne	L377
2609:../../MMI/Resource/WriteImgRes.c ****     {
2610:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr opening %s", _9slice_filename);
 8198              	LM641:
 8199 4e14 8B4510   		movl	16(%ebp), %eax
 8200 4e17 89442408 		movl	%eax, 8(%esp)
 8201 4e1b C7442404 		movl	$LC123, 4(%esp)
 8201      8D450000 
 8202 4e23 A1000000 		movl	__imp___iob, %eax
 8202      00
 8203 4e28 83C040   		addl	$64, %eax
 8204 4e2b 890424   		movl	%eax, (%esp)
 8205 4e2e E8000000 		call	_fprintf
 8205      00
2611:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr opening %s", _9slice_filename);
 8207              	LM642:
 8208 4e33 8B4510   		movl	16(%ebp), %eax
 8209 4e36 8944240C 		movl	%eax, 12(%esp)
 8210 4e3a C7442408 		movl	$LC123, 8(%esp)
 8210      8D450000 
 8211 4e42 C7442404 		movl	$LC34, 4(%esp)
 8211      64060000 
 8212 4e4a C7042403 		movl	$3, (%esp)
 8212      000000
 8213 4e51 E8000000 		call	_reslog_adaptor_log
 8213      00
2612:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8215              	LM643:
 8216 4e56 C7042402 		movl	$2, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 167


 8216      000000
 8217 4e5d E8000000 		call	_exit
 8217      00
 8218              	L377:
2613:../../MMI/Resource/WriteImgRes.c ****     }
2614:../../MMI/Resource/WriteImgRes.c **** 
2615:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8220              	LM644:
 8221 4e62 8B8564FF 		movl	-156(%ebp), %eax
 8221      FFFF
 8222 4e68 89442408 		movl	%eax, 8(%esp)
 8223 4e6c C7442404 		movl	$128, 4(%esp)
 8223      80000000 
 8224 4e74 8D8568FF 		leal	-152(%ebp), %eax
 8224      FFFF
 8225 4e7a 890424   		movl	%eax, (%esp)
 8226 4e7d E8000000 		call	_fgets
 8226      00
2616:../../MMI/Resource/WriteImgRes.c ****     x1 = atoi(buffer);
 8228              	LM645:
 8229 4e82 8D8568FF 		leal	-152(%ebp), %eax
 8229      FFFF
 8230 4e88 890424   		movl	%eax, (%esp)
 8231 4e8b E8000000 		call	_atoi
 8231      00
 8232 4e90 898560FF 		movl	%eax, -160(%ebp)
 8232      FFFF
2617:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8234              	LM646:
 8235 4e96 8B8564FF 		movl	-156(%ebp), %eax
 8235      FFFF
 8236 4e9c 89442408 		movl	%eax, 8(%esp)
 8237 4ea0 C7442404 		movl	$128, 4(%esp)
 8237      80000000 
 8238 4ea8 8D8568FF 		leal	-152(%ebp), %eax
 8238      FFFF
 8239 4eae 890424   		movl	%eax, (%esp)
 8240 4eb1 E8000000 		call	_fgets
 8240      00
2618:../../MMI/Resource/WriteImgRes.c ****     y1 = atoi(buffer);
 8242              	LM647:
 8243 4eb6 8D8568FF 		leal	-152(%ebp), %eax
 8243      FFFF
 8244 4ebc 890424   		movl	%eax, (%esp)
 8245 4ebf E8000000 		call	_atoi
 8245      00
 8246 4ec4 89855CFF 		movl	%eax, -164(%ebp)
 8246      FFFF
2619:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8248              	LM648:
 8249 4eca 8B8564FF 		movl	-156(%ebp), %eax
 8249      FFFF
 8250 4ed0 89442408 		movl	%eax, 8(%esp)
 8251 4ed4 C7442404 		movl	$128, 4(%esp)
 8251      80000000 
 8252 4edc 8D8568FF 		leal	-152(%ebp), %eax
 8252      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 168


 8253 4ee2 890424   		movl	%eax, (%esp)
 8254 4ee5 E8000000 		call	_fgets
 8254      00
2620:../../MMI/Resource/WriteImgRes.c ****     x2 = atoi(buffer);
 8256              	LM649:
 8257 4eea 8D8568FF 		leal	-152(%ebp), %eax
 8257      FFFF
 8258 4ef0 890424   		movl	%eax, (%esp)
 8259 4ef3 E8000000 		call	_atoi
 8259      00
 8260 4ef8 898558FF 		movl	%eax, -168(%ebp)
 8260      FFFF
2621:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);
 8262              	LM650:
 8263 4efe 8B8564FF 		movl	-156(%ebp), %eax
 8263      FFFF
 8264 4f04 89442408 		movl	%eax, 8(%esp)
 8265 4f08 C7442404 		movl	$128, 4(%esp)
 8265      80000000 
 8266 4f10 8D8568FF 		leal	-152(%ebp), %eax
 8266      FFFF
 8267 4f16 890424   		movl	%eax, (%esp)
 8268 4f19 E8000000 		call	_fgets
 8268      00
2622:../../MMI/Resource/WriteImgRes.c ****     y2 = atoi(buffer);  
 8270              	LM651:
 8271 4f1e 8D8568FF 		leal	-152(%ebp), %eax
 8271      FFFF
 8272 4f24 890424   		movl	%eax, (%esp)
 8273 4f27 E8000000 		call	_atoi
 8273      00
 8274 4f2c 898554FF 		movl	%eax, -172(%ebp)
 8274      FFFF
2623:../../MMI/Resource/WriteImgRes.c ****     fgets(buffer, 128, p_9slice_file);  /* zoom type */
 8276              	LM652:
 8277 4f32 8B8564FF 		movl	-156(%ebp), %eax
 8277      FFFF
 8278 4f38 89442408 		movl	%eax, 8(%esp)
 8279 4f3c C7442404 		movl	$128, 4(%esp)
 8279      80000000 
 8280 4f44 8D8568FF 		leal	-152(%ebp), %eax
 8280      FFFF
 8281 4f4a 890424   		movl	%eax, (%esp)
 8282 4f4d E8000000 		call	_fgets
 8282      00
2624:../../MMI/Resource/WriteImgRes.c **** 
2625:../../MMI/Resource/WriteImgRes.c ****     fclose(p_9slice_file);
 8284              	LM653:
 8285 4f52 8B8564FF 		movl	-156(%ebp), %eax
 8285      FFFF
 8286 4f58 890424   		movl	%eax, (%esp)
 8287 4f5b E8000000 		call	_fclose
 8287      00
2626:../../MMI/Resource/WriteImgRes.c **** 
2627:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(buffer, "repeat")))
 8289              	LM654:
 8290 4f60 C7442404 		movl	$LC124, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 169


 8290      9D450000 
 8291 4f68 8D8568FF 		leal	-152(%ebp), %eax
 8291      FFFF
 8292 4f6e 890424   		movl	%eax, (%esp)
 8293 4f71 E8000000 		call	_strcmp
 8293      00
 8294 4f76 85C0     		testl	%eax, %eax
 8295 4f78 7519     		jne	L378
2628:../../MMI/Resource/WriteImgRes.c ****     {
2629:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 8297              	LM655:
 8298 4f7a C78550FF 		movl	$0, -176(%ebp)
 8298      FFFF0000 
 8298      0000
2630:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 8300              	LM656:
 8301 4f84 C7854CFF 		movl	$1, -180(%ebp)
 8301      FFFF0100 
 8301      0000
 8302 4f8e E98A0000 		jmp	L379
 8302      00
 8303              	L378:
2631:../../MMI/Resource/WriteImgRes.c ****     }
2632:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer, "stretch")))
 8305              	LM657:
 8306 4f93 C7442404 		movl	$LC125, 4(%esp)
 8306      A4450000 
 8307 4f9b 8D8568FF 		leal	-152(%ebp), %eax
 8307      FFFF
 8308 4fa1 890424   		movl	%eax, (%esp)
 8309 4fa4 E8000000 		call	_strcmp
 8309      00
 8310 4fa9 85C0     		testl	%eax, %eax
 8311 4fab 7516     		jne	L380
2633:../../MMI/Resource/WriteImgRes.c ****     {
2634:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 8313              	LM658:
 8314 4fad C78550FF 		movl	$1, -176(%ebp)
 8314      FFFF0100 
 8314      0000
2635:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 8316              	LM659:
 8317 4fb7 C7854CFF 		movl	$0, -180(%ebp)
 8317      FFFF0000 
 8317      0000
 8318 4fc1 EB5A     		jmp	L379
 8319              	L380:
2636:../../MMI/Resource/WriteImgRes.c ****         
2637:../../MMI/Resource/WriteImgRes.c ****     }
2638:../../MMI/Resource/WriteImgRes.c ****     else if (!(strcmp(buffer,"stretch_no_dither")))
 8321              	LM660:
 8322 4fc3 C7442404 		movl	$LC126, 4(%esp)
 8322      AC450000 
 8323 4fcb 8D8568FF 		leal	-152(%ebp), %eax
 8323      FFFF
 8324 4fd1 890424   		movl	%eax, (%esp)
 8325 4fd4 E8000000 		call	_strcmp
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 170


 8325      00
 8326 4fd9 85C0     		testl	%eax, %eax
 8327 4fdb 7516     		jne	L382
2639:../../MMI/Resource/WriteImgRes.c ****     {
2640:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 1;
 8329              	LM661:
 8330 4fdd C78550FF 		movl	$1, -176(%ebp)
 8330      FFFF0100 
 8330      0000
2641:../../MMI/Resource/WriteImgRes.c ****         do_dither = 1;
 8332              	LM662:
 8333 4fe7 C7854CFF 		movl	$1, -180(%ebp)
 8333      FFFF0100 
 8333      0000
 8334 4ff1 EB2A     		jmp	L379
 8335              	L382:
2642:../../MMI/Resource/WriteImgRes.c ****     }
2643:../../MMI/Resource/WriteImgRes.c ****     else
2644:../../MMI/Resource/WriteImgRes.c ****     {
2645:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("\n9slice file err, please write [repeat/stretch/stretch_no_dither], can not
 8337              	LM663:
 8338 4ff3 8D8568FF 		leal	-152(%ebp), %eax
 8338      FFFF
 8339 4ff9 89442404 		movl	%eax, 4(%esp)
 8340 4ffd C70424C0 		movl	$LC127, (%esp)
 8340      450000
 8341 5004 E8000000 		call	_MtkResgenTrace
 8341      00
2646:../../MMI/Resource/WriteImgRes.c ****         zoom_type = 0;
 8343              	LM664:
 8344 5009 C78550FF 		movl	$0, -176(%ebp)
 8344      FFFF0000 
 8344      0000
2647:../../MMI/Resource/WriteImgRes.c ****         do_dither = 0;
 8346              	LM665:
 8347 5013 C7854CFF 		movl	$0, -180(%ebp)
 8347      FFFF0000 
 8347      0000
 8348              	L379:
2648:../../MMI/Resource/WriteImgRes.c ****     }
2649:../../MMI/Resource/WriteImgRes.c **** 
2650:../../MMI/Resource/WriteImgRes.c ****     if (x1<0 || x1>1024 ||
 8350              	LM666:
 8351 501d 81BD60FF 		cmpl	$1024, -160(%ebp)
 8351      FFFF0004 
 8351      0000
 8352 5027 7726     		ja	L385
 8353 5029 81BD5CFF 		cmpl	$1024, -164(%ebp)
 8353      FFFF0004 
 8353      0000
 8354 5033 771A     		ja	L385
 8355 5035 81BD58FF 		cmpl	$1024, -168(%ebp)
 8355      FFFF0004 
 8355      0000
 8356 503f 770E     		ja	L385
 8357 5041 81BD54FF 		cmpl	$1024, -172(%ebp)
 8357      FFFF0004 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 171


 8357      0000
 8358 504b 7702     		ja	L385
 8359 504d EB4E     		jmp	L384
 8360              	L385:
2651:../../MMI/Resource/WriteImgRes.c ****         y1<0 || y1>1024 ||
2652:../../MMI/Resource/WriteImgRes.c ****         x2<0 || x2>1024 ||
2653:../../MMI/Resource/WriteImgRes.c ****         y2<0 || y2>1024)
2654:../../MMI/Resource/WriteImgRes.c ****     {
2655:../../MMI/Resource/WriteImgRes.c ****         fprintf(stderr, "\nErr in 9slice file [%s]\n", _9slice_filename);
 8362              	LM667:
 8363 504f 8B4510   		movl	16(%ebp), %eax
 8364 5052 89442408 		movl	%eax, 8(%esp)
 8365 5056 C7442404 		movl	$LC128, 4(%esp)
 8365      2C460000 
 8366 505e A1000000 		movl	__imp___iob, %eax
 8366      00
 8367 5063 83C040   		addl	$64, %eax
 8368 5066 890424   		movl	%eax, (%esp)
 8369 5069 E8000000 		call	_fprintf
 8369      00
2656:../../MMI/Resource/WriteImgRes.c ****         RESIMG_LOG_E("\nErr in 9slice file [%s]\n", _9slice_filename);
 8371              	LM668:
 8372 506e 8B4510   		movl	16(%ebp), %eax
 8373 5071 8944240C 		movl	%eax, 12(%esp)
 8374 5075 C7442408 		movl	$LC128, 8(%esp)
 8374      2C460000 
 8375 507d C7442404 		movl	$LC34, 4(%esp)
 8375      64060000 
 8376 5085 C7042403 		movl	$3, (%esp)
 8376      000000
 8377 508c E8000000 		call	_reslog_adaptor_log
 8377      00
2657:../../MMI/Resource/WriteImgRes.c ****         exit(2);
 8379              	LM669:
 8380 5091 C7042402 		movl	$2, (%esp)
 8380      000000
 8381 5098 E8000000 		call	_exit
 8381      00
 8382              	L384:
2658:../../MMI/Resource/WriteImgRes.c ****     }
2659:../../MMI/Resource/WriteImgRes.c **** 
2660:../../MMI/Resource/WriteImgRes.c ****     RES_PRINT_INFO("Write 9slice image header [%s]  position=[%d-%d-%d-%d] zoom=[%s]\n", _9slice_fi
 8384              	LM670:
 8385 509d 8D8568FF 		leal	-152(%ebp), %eax
 8385      FFFF
 8386 50a3 89442418 		movl	%eax, 24(%esp)
 8387 50a7 8B8554FF 		movl	-172(%ebp), %eax
 8387      FFFF
 8388 50ad 89442414 		movl	%eax, 20(%esp)
 8389 50b1 8B8558FF 		movl	-168(%ebp), %eax
 8389      FFFF
 8390 50b7 89442410 		movl	%eax, 16(%esp)
 8391 50bb 8B855CFF 		movl	-164(%ebp), %eax
 8391      FFFF
 8392 50c1 8944240C 		movl	%eax, 12(%esp)
 8393 50c5 8B8560FF 		movl	-160(%ebp), %eax
 8393      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 172


 8394 50cb 89442408 		movl	%eax, 8(%esp)
 8395 50cf 8B4510   		movl	16(%ebp), %eax
 8396 50d2 89442404 		movl	%eax, 4(%esp)
 8397 50d6 C7042460 		movl	$LC129, (%esp)
 8397      460000
 8398 50dd E8000000 		call	_MtkResgenTrace
 8398      00
2661:../../MMI/Resource/WriteImgRes.c **** 
2662:../../MMI/Resource/WriteImgRes.c ****     /* 9slice data header */
2663:../../MMI/Resource/WriteImgRes.c ****     buff[0] = (U8) real_imagetype;
 8400              	LM671:
 8401 50e2 8B550C   		movl	12(%ebp), %edx
 8402 50e5 0FB645F7 		movzbl	-9(%ebp), %eax
 8403 50e9 8802     		movb	%al, (%edx)
2664:../../MMI/Resource/WriteImgRes.c ****     buff[1] = (U8) zoom_type;
 8405              	LM672:
 8406 50eb 8B550C   		movl	12(%ebp), %edx
 8407 50ee 42       		incl	%edx
 8408 50ef 0FB68550 		movzbl	-176(%ebp), %eax
 8408      FFFFFF
 8409 50f6 8802     		movb	%al, (%edx)
2665:../../MMI/Resource/WriteImgRes.c ****     buff[2] = (U8) do_dither;
 8411              	LM673:
 8412 50f8 8B550C   		movl	12(%ebp), %edx
 8413 50fb 83C202   		addl	$2, %edx
 8414 50fe 0FB6854C 		movzbl	-180(%ebp), %eax
 8414      FFFFFF
 8415 5105 8802     		movb	%al, (%edx)
2666:../../MMI/Resource/WriteImgRes.c ****     buff[3] = (U8) 0;
 8417              	LM674:
 8418 5107 8B450C   		movl	12(%ebp), %eax
 8419 510a 83C003   		addl	$3, %eax
 8420 510d C60000   		movb	$0, (%eax)
2667:../../MMI/Resource/WriteImgRes.c ****     buff[4] = (U8) ( x1 & 0xff);
 8422              	LM675:
 8423 5110 8B550C   		movl	12(%ebp), %edx
 8424 5113 83C204   		addl	$4, %edx
 8425 5116 0FB68560 		movzbl	-160(%ebp), %eax
 8425      FFFFFF
 8426 511d 8802     		movb	%al, (%edx)
2668:../../MMI/Resource/WriteImgRes.c ****     buff[5] = (U8) ((x1 >> 8) & 0xff);
 8428              	LM676:
 8429 511f 8B550C   		movl	12(%ebp), %edx
 8430 5122 83C205   		addl	$5, %edx
 8431 5125 8B8560FF 		movl	-160(%ebp), %eax
 8431      FFFF
 8432 512b C1E808   		shrl	$8, %eax
 8433 512e 8802     		movb	%al, (%edx)
2669:../../MMI/Resource/WriteImgRes.c ****     buff[6] = (U8) ((x1 >> 16) & 0xff);
 8435              	LM677:
 8436 5130 8B550C   		movl	12(%ebp), %edx
 8437 5133 83C206   		addl	$6, %edx
 8438 5136 8B8560FF 		movl	-160(%ebp), %eax
 8438      FFFF
 8439 513c C1E810   		shrl	$16, %eax
 8440 513f 8802     		movb	%al, (%edx)
2670:../../MMI/Resource/WriteImgRes.c ****     buff[7] = (U8) ((x1 >> 24) & 0xff);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 173


 8442              	LM678:
 8443 5141 8B550C   		movl	12(%ebp), %edx
 8444 5144 83C207   		addl	$7, %edx
 8445 5147 8B8560FF 		movl	-160(%ebp), %eax
 8445      FFFF
 8446 514d C1E818   		shrl	$24, %eax
 8447 5150 8802     		movb	%al, (%edx)
2671:../../MMI/Resource/WriteImgRes.c ****     buff[8] = (U8) ( y1 & 0xff);
 8449              	LM679:
 8450 5152 8B550C   		movl	12(%ebp), %edx
 8451 5155 83C208   		addl	$8, %edx
 8452 5158 0FB6855C 		movzbl	-164(%ebp), %eax
 8452      FFFFFF
 8453 515f 8802     		movb	%al, (%edx)
2672:../../MMI/Resource/WriteImgRes.c ****     buff[9] = (U8) ((y1 >> 8) & 0xff);
 8455              	LM680:
 8456 5161 8B550C   		movl	12(%ebp), %edx
 8457 5164 83C209   		addl	$9, %edx
 8458 5167 8B855CFF 		movl	-164(%ebp), %eax
 8458      FFFF
 8459 516d C1E808   		shrl	$8, %eax
 8460 5170 8802     		movb	%al, (%edx)
2673:../../MMI/Resource/WriteImgRes.c ****     buff[10] = (U8) ((y1 >> 16) & 0xff);
 8462              	LM681:
 8463 5172 8B550C   		movl	12(%ebp), %edx
 8464 5175 83C20A   		addl	$10, %edx
 8465 5178 8B855CFF 		movl	-164(%ebp), %eax
 8465      FFFF
 8466 517e C1E810   		shrl	$16, %eax
 8467 5181 8802     		movb	%al, (%edx)
2674:../../MMI/Resource/WriteImgRes.c ****     buff[11] = (U8) ((y1 >> 24) & 0xff);
 8469              	LM682:
 8470 5183 8B550C   		movl	12(%ebp), %edx
 8471 5186 83C20B   		addl	$11, %edx
 8472 5189 8B855CFF 		movl	-164(%ebp), %eax
 8472      FFFF
 8473 518f C1E818   		shrl	$24, %eax
 8474 5192 8802     		movb	%al, (%edx)
2675:../../MMI/Resource/WriteImgRes.c ****     buff[12] = (U8) ( x2 & 0xff);
 8476              	LM683:
 8477 5194 8B550C   		movl	12(%ebp), %edx
 8478 5197 83C20C   		addl	$12, %edx
 8479 519a 0FB68558 		movzbl	-168(%ebp), %eax
 8479      FFFFFF
 8480 51a1 8802     		movb	%al, (%edx)
2676:../../MMI/Resource/WriteImgRes.c ****     buff[13] = (U8) ((x2 >> 8) & 0xff);
 8482              	LM684:
 8483 51a3 8B550C   		movl	12(%ebp), %edx
 8484 51a6 83C20D   		addl	$13, %edx
 8485 51a9 8B8558FF 		movl	-168(%ebp), %eax
 8485      FFFF
 8486 51af C1E808   		shrl	$8, %eax
 8487 51b2 8802     		movb	%al, (%edx)
2677:../../MMI/Resource/WriteImgRes.c ****     buff[14] = (U8) ((x2 >> 16) & 0xff);
 8489              	LM685:
 8490 51b4 8B550C   		movl	12(%ebp), %edx
 8491 51b7 83C20E   		addl	$14, %edx
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 174


 8492 51ba 8B8558FF 		movl	-168(%ebp), %eax
 8492      FFFF
 8493 51c0 C1E810   		shrl	$16, %eax
 8494 51c3 8802     		movb	%al, (%edx)
2678:../../MMI/Resource/WriteImgRes.c ****     buff[15] = (U8) ((x2 >> 24) & 0xff);
 8496              	LM686:
 8497 51c5 8B550C   		movl	12(%ebp), %edx
 8498 51c8 83C20F   		addl	$15, %edx
 8499 51cb 8B8558FF 		movl	-168(%ebp), %eax
 8499      FFFF
 8500 51d1 C1E818   		shrl	$24, %eax
 8501 51d4 8802     		movb	%al, (%edx)
2679:../../MMI/Resource/WriteImgRes.c ****     buff[16] = (U8) ( y2 & 0xff);
 8503              	LM687:
 8504 51d6 8B550C   		movl	12(%ebp), %edx
 8505 51d9 83C210   		addl	$16, %edx
 8506 51dc 0FB68554 		movzbl	-172(%ebp), %eax
 8506      FFFFFF
 8507 51e3 8802     		movb	%al, (%edx)
2680:../../MMI/Resource/WriteImgRes.c ****     buff[17] = (U8) ((y2 >> 8) & 0xff);
 8509              	LM688:
 8510 51e5 8B550C   		movl	12(%ebp), %edx
 8511 51e8 83C211   		addl	$17, %edx
 8512 51eb 8B8554FF 		movl	-172(%ebp), %eax
 8512      FFFF
 8513 51f1 C1E808   		shrl	$8, %eax
 8514 51f4 8802     		movb	%al, (%edx)
2681:../../MMI/Resource/WriteImgRes.c ****     buff[18] = (U8) ((y2 >> 16) & 0xff);
 8516              	LM689:
 8517 51f6 8B550C   		movl	12(%ebp), %edx
 8518 51f9 83C212   		addl	$18, %edx
 8519 51fc 8B8554FF 		movl	-172(%ebp), %eax
 8519      FFFF
 8520 5202 C1E810   		shrl	$16, %eax
 8521 5205 8802     		movb	%al, (%edx)
2682:../../MMI/Resource/WriteImgRes.c ****     buff[19] = (U8) ((y2 >> 24) & 0xff);
 8523              	LM690:
 8524 5207 8B550C   		movl	12(%ebp), %edx
 8525 520a 83C213   		addl	$19, %edx
 8526 520d 8B8554FF 		movl	-172(%ebp), %eax
 8526      FFFF
 8527 5213 C1E818   		shrl	$24, %eax
 8528 5216 8802     		movb	%al, (%edx)
2683:../../MMI/Resource/WriteImgRes.c **** 
2684:../../MMI/Resource/WriteImgRes.c ****     return MMI_TRUE;
 8530              	LM691:
 8531 5218 B8010000 		movl	$1, %eax
 8531      00
2685:../../MMI/Resource/WriteImgRes.c **** }
 8533              	LM692:
 8534 521d C9       		leave
 8535 521e C3       		ret
 8536              	LBE58:
 8548              	Lscope14:
 8550 521f 90       		.align 32
 8551              	LC133:
 8552 5220 2E2E5C2E 		.ascii "..\\..\\Customer\\CustResource\\CustFontDataHW.h\0"
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 175


 8552      2E5C4375 
 8552      73746F6D 
 8552      65725C43 
 8552      75737452 
 8559              	.globl _SetFontResource
 8561              	_SetFontResource:
2686:../../MMI/Resource/WriteImgRes.c **** 
2687:../../MMI/Resource/WriteImgRes.c **** 
2688:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
2689:../../MMI/Resource/WriteImgRes.c **** 
2690:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2691:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2692:../../MMI/Resource/WriteImgRes.c ****  *  SetENFBAssociatedID
2693:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2694:../../MMI/Resource/WriteImgRes.c ****  *  start to record associated ID list
2695:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2696:../../MMI/Resource/WriteImgRes.c ****  *  void
2697:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2698:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2699:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2700:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL SetENFBAssociatedID(void)
2701:../../MMI/Resource/WriteImgRes.c **** {
2702:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2703:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2704:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2705:../../MMI/Resource/WriteImgRes.c **** 
2706:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2707:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2708:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2709:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = false, set flag = true, allocate memory, and no++ */
2710:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_FALSE)
2711:../../MMI/Resource/WriteImgRes.c **** 	{
2712:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2713:../../MMI/Resource/WriteImgRes.c ****         int str_size = 256;
2714:../../MMI/Resource/WriteImgRes.c **** 		int i;
2715:../../MMI/Resource/WriteImgRes.c **** 
2716:../../MMI/Resource/WriteImgRes.c **** 		ENFBAssociatedIDFlag = MMI_TRUE;
2717:../../MMI/Resource/WriteImgRes.c **** 
2718:../../MMI/Resource/WriteImgRes.c **** 		CurrMaxENFBAssociatedIDNum++;
2719:../../MMI/Resource/WriteImgRes.c **** 
2720:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum];
2721:../../MMI/Resource/WriteImgRes.c **** 		enfb->count = 0;
2722:../../MMI/Resource/WriteImgRes.c **** 		enfb->IDs = (U16 *)malloc(MAX_ASSOCIATED_LIST_IDS*sizeof(U16));
2723:../../MMI/Resource/WriteImgRes.c **** 		enfb->Ptr = (S8 **)malloc(MAX_ASSOCIATED_LIST_IDS*sizeof(S8*));
2724:../../MMI/Resource/WriteImgRes.c **** 		for (i = 0; i < MAX_ASSOCIATED_LIST_IDS ; i++)
2725:../../MMI/Resource/WriteImgRes.c **** 		{
2726:../../MMI/Resource/WriteImgRes.c **** 			enfb->Ptr[i] = (S8 *)malloc(str_size*sizeof(S8));
2727:../../MMI/Resource/WriteImgRes.c **** 		}
2728:../../MMI/Resource/WriteImgRes.c **** 
2729:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2730:../../MMI/Resource/WriteImgRes.c **** 	}
2731:../../MMI/Resource/WriteImgRes.c **** 	/* error: cannot set flag twice */
2732:../../MMI/Resource/WriteImgRes.c **** 	else
2733:../../MMI/Resource/WriteImgRes.c **** 	{
2734:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2735:../../MMI/Resource/WriteImgRes.c **** 	}
2736:../../MMI/Resource/WriteImgRes.c **** }
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 176


2737:../../MMI/Resource/WriteImgRes.c **** 
2738:../../MMI/Resource/WriteImgRes.c **** 
2739:../../MMI/Resource/WriteImgRes.c **** 
2740:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2741:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2742:../../MMI/Resource/WriteImgRes.c ****  *  ResetENFBAssociatedID
2743:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2744:../../MMI/Resource/WriteImgRes.c ****  *  end of one associated ID list
2745:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2746:../../MMI/Resource/WriteImgRes.c ****  *  void
2747:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2748:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2749:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2750:../../MMI/Resource/WriteImgRes.c **** static MMI_BOOL ResetENFBAssociatedID(void)
2751:../../MMI/Resource/WriteImgRes.c **** {
2752:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2753:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2754:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2755:../../MMI/Resource/WriteImgRes.c **** 
2756:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2757:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2758:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2759:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = true, set flag = false */
2760:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2761:../../MMI/Resource/WriteImgRes.c **** 	{
2762:../../MMI/Resource/WriteImgRes.c **** 		ENFBAssociatedIDFlag = MMI_FALSE;
2763:../../MMI/Resource/WriteImgRes.c **** 
2764:../../MMI/Resource/WriteImgRes.c **** 		/* if current associated list is empty, reuse it for next list */
2765:../../MMI/Resource/WriteImgRes.c **** 		if (ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum].count == 0)
2766:../../MMI/Resource/WriteImgRes.c **** 		{
2767:../../MMI/Resource/WriteImgRes.c **** 			CurrMaxENFBAssociatedIDNum--;
2768:../../MMI/Resource/WriteImgRes.c **** 		}
2769:../../MMI/Resource/WriteImgRes.c **** 
2770:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2771:../../MMI/Resource/WriteImgRes.c **** 	}
2772:../../MMI/Resource/WriteImgRes.c **** 	/* error: can not set flag = false twice */
2773:../../MMI/Resource/WriteImgRes.c **** 	else
2774:../../MMI/Resource/WriteImgRes.c **** 	{
2775:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2776:../../MMI/Resource/WriteImgRes.c **** 	}
2777:../../MMI/Resource/WriteImgRes.c **** }
2778:../../MMI/Resource/WriteImgRes.c **** 
2779:../../MMI/Resource/WriteImgRes.c **** 
2780:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2781:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2782:../../MMI/Resource/WriteImgRes.c ****  *  GetCurrENFBAssociatedID
2783:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2784:../../MMI/Resource/WriteImgRes.c ****  *  end of one associated ID list
2785:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2786:../../MMI/Resource/WriteImgRes.c ****  *  void
2787:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2788:../../MMI/Resource/WriteImgRes.c ****  *  U32		current associated ID
2789:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2790:../../MMI/Resource/WriteImgRes.c **** static U16 GetCurrENFBAssociatedID(void)
2791:../../MMI/Resource/WriteImgRes.c **** {
2792:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2793:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 177


2794:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2795:../../MMI/Resource/WriteImgRes.c **** 
2796:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2797:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2798:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2799:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2800:../../MMI/Resource/WriteImgRes.c **** 	{
2801:../../MMI/Resource/WriteImgRes.c **** 	    return CurrMaxENFBAssociatedIDNum;
2802:../../MMI/Resource/WriteImgRes.c **** 	}
2803:../../MMI/Resource/WriteImgRes.c **** 	else
2804:../../MMI/Resource/WriteImgRes.c **** 	{
2805:../../MMI/Resource/WriteImgRes.c ****         return 0;
2806:../../MMI/Resource/WriteImgRes.c **** 	}
2807:../../MMI/Resource/WriteImgRes.c **** }
2808:../../MMI/Resource/WriteImgRes.c **** 
2809:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2810:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2811:../../MMI/Resource/WriteImgRes.c ****  *  AddENFBAssociatedIDItem
2812:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2813:../../MMI/Resource/WriteImgRes.c ****  *  add item to current associated list
2814:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2815:../../MMI/Resource/WriteImgRes.c ****  *  ImageID		[IN]
2816:../../MMI/Resource/WriteImgRes.c ****  *  filename	[IN]
2817:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2818:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
2819:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2820:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL AddENFBAssociatedIDItem(U16 ImageID, S8 *filename, image_type_enum ExtImageFlag)
2821:../../MMI/Resource/WriteImgRes.c **** {
2822:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2823:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2824:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2825:../../MMI/Resource/WriteImgRes.c **** 
2826:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2827:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2828:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2829:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = true, record this item: imagd ID & pointer variable */
2830:../../MMI/Resource/WriteImgRes.c **** 	if (ENFBAssociatedIDFlag == MMI_TRUE)
2831:../../MMI/Resource/WriteImgRes.c **** 	{
2832:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2833:../../MMI/Resource/WriteImgRes.c ****         int i;
2834:../../MMI/Resource/WriteImgRes.c **** 
2835:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[CurrMaxENFBAssociatedIDNum];
2836:../../MMI/Resource/WriteImgRes.c **** 		enfb->IDs[enfb->count] = ImageID;
2837:../../MMI/Resource/WriteImgRes.c **** 		Extract_Name(enfb->Ptr[enfb->count], filename, ExtImageFlag);
2838:../../MMI/Resource/WriteImgRes.c ****         str_upper(enfb->Ptr[enfb->count], MAX_ASSOCIATED_LIST_IDS);
2839:../../MMI/Resource/WriteImgRes.c **** 		enfb->count++;
2840:../../MMI/Resource/WriteImgRes.c **** 
2841:../../MMI/Resource/WriteImgRes.c **** 		return MMI_TRUE;
2842:../../MMI/Resource/WriteImgRes.c **** 	}
2843:../../MMI/Resource/WriteImgRes.c **** 	/* if flag = false, do not record this item */
2844:../../MMI/Resource/WriteImgRes.c **** 	else
2845:../../MMI/Resource/WriteImgRes.c **** 	{
2846:../../MMI/Resource/WriteImgRes.c **** 		return MMI_FALSE;
2847:../../MMI/Resource/WriteImgRes.c **** 	}
2848:../../MMI/Resource/WriteImgRes.c **** }
2849:../../MMI/Resource/WriteImgRes.c **** 
2850:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 178


2851:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2852:../../MMI/Resource/WriteImgRes.c ****  *  IfItemExistENFBAssociatedID
2853:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2854:../../MMI/Resource/WriteImgRes.c ****  *  test if the ImageID has already existed in one associated ID list
2855:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2856:../../MMI/Resource/WriteImgRes.c ****  *  ImageID     [IN]
2857:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2858:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL	MMI_TRUE or MMI_FALSE
2859:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2860:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL IfItemExistENFBAssociatedID(S8 *filename, image_type_enum ExtImageFlag)
2861:../../MMI/Resource/WriteImgRes.c **** {
2862:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2863:../../MMI/Resource/WriteImgRes.c **** 	/* Local Variables                                                */
2864:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2865:../../MMI/Resource/WriteImgRes.c ****     int i, j, k;
2866:../../MMI/Resource/WriteImgRes.c ****     int str_size = 256;
2867:../../MMI/Resource/WriteImgRes.c **** 
2868:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2869:../../MMI/Resource/WriteImgRes.c **** 	/* Code Body                                                      */
2870:../../MMI/Resource/WriteImgRes.c **** 	/*----------------------------------------------------------------*/
2871:../../MMI/Resource/WriteImgRes.c ****     for (i = 1; i <= (int)CurrMaxENFBAssociatedIDNum; i++)
2872:../../MMI/Resource/WriteImgRes.c ****     {
2873:../../MMI/Resource/WriteImgRes.c **** 		CUSTOM_ENFB_STR *enfb;
2874:../../MMI/Resource/WriteImgRes.c ****         S8 *ptr;
2875:../../MMI/Resource/WriteImgRes.c **** 
2876:../../MMI/Resource/WriteImgRes.c **** 		enfb = &ENFBAssociatedIDList[i];
2877:../../MMI/Resource/WriteImgRes.c ****         for (j = 0; j <= (int)enfb->count; j++)
2878:../../MMI/Resource/WriteImgRes.c ****         {
2879:../../MMI/Resource/WriteImgRes.c ****             ptr = (S8 *)malloc(str_size*sizeof(S8));
2880:../../MMI/Resource/WriteImgRes.c ****             Extract_Name(ptr, filename, ExtImageFlag);
2881:../../MMI/Resource/WriteImgRes.c ****             str_upper(ptr, str_size);
2882:../../MMI/Resource/WriteImgRes.c ****             if (strcmp((char *)ptr, (char *)enfb->Ptr[j]) == 0)
2883:../../MMI/Resource/WriteImgRes.c ****             {
2884:../../MMI/Resource/WriteImgRes.c ****                 return MMI_TRUE;
2885:../../MMI/Resource/WriteImgRes.c ****             }
2886:../../MMI/Resource/WriteImgRes.c ****         }
2887:../../MMI/Resource/WriteImgRes.c ****     }
2888:../../MMI/Resource/WriteImgRes.c ****     return MMI_FALSE;
2889:../../MMI/Resource/WriteImgRes.c **** }
2890:../../MMI/Resource/WriteImgRes.c **** #endif // __MMI_RESOURCE_ENFB_SUPPORT__
2891:../../MMI/Resource/WriteImgRes.c **** 
2892:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2893:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2894:../../MMI/Resource/WriteImgRes.c ****  *  SetFontResource
2895:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2896:../../MMI/Resource/WriteImgRes.c ****  *  Function to add font resource
2897:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2898:../../MMI/Resource/WriteImgRes.c ****  *  FontId          [IN] resource ID
2899:../../MMI/Resource/WriteImgRes.c ****  *  filename        [IN] font data file name
2900:../../MMI/Resource/WriteImgRes.c ****  *  userdata        [IN] user data
2901:../../MMI/Resource/WriteImgRes.c ****  *  flags           [IN] additional flags for populating font resource
2902:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2903:../../MMI/Resource/WriteImgRes.c ****  *  void
2904:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2905:../../MMI/Resource/WriteImgRes.c **** void SetFontResource(U16 FontID, S8 *filename, U32 userdata, S32 flags, S8 *enum_value)
2906:../../MMI/Resource/WriteImgRes.c **** {
 8563              	LM693:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 179


 8564 524d 55       		pushl	%ebp
 8565 524e 89E5     		movl	%esp, %ebp
 8566 5250 83EC18   		subl	$24, %esp
 8567 5253 8B4508   		movl	8(%ebp), %eax
 8568 5256 668945FE 		movw	%ax, -2(%ebp)
2907:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2908:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2909:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2910:../../MMI/Resource/WriteImgRes.c **** 
2911:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2912:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2913:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2914:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_id = FontID;
 8570              	LM694:
 8571 525a 0FB745FE 		movzwl	-2(%ebp), %eax
 8572 525e 66A31000 		movw	%ax, _g_mmi_res_font_id
 8572      0000
2915:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_userdata = userdata;
 8574              	LM695:
 8575 5264 8B4510   		movl	16(%ebp), %eax
 8576 5267 A3200000 		movl	%eax, _g_mmi_res_font_userdata
 8576      00
2916:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_flags = flags;
 8578              	LM696:
 8579 526c 8B4514   		movl	20(%ebp), %eax
 8580 526f A3040000 		movl	%eax, _g_mmi_res_font_flags
 8580      00
2917:../../MMI/Resource/WriteImgRes.c **** 
2918:../../MMI/Resource/WriteImgRes.c ****     font_data_file = fopen(FONT_OUTPUT_DATA_FILENAME, "a");
 8582              	LM697:
 8583 5274 C7442404 		movl	$LC24, 4(%esp)
 8583      26030000 
 8584 527c C7042420 		movl	$LC133, (%esp)
 8584      520000
 8585 5283 E8000000 		call	_fopen
 8585      00
 8586 5288 A3000000 		movl	%eax, _font_data_file
 8586      00
2919:../../MMI/Resource/WriteImgRes.c **** 
2920:../../MMI/Resource/WriteImgRes.c ****     SetFontWithBuffer(FontID, filename, enum_value, TRUE);
 8588              	LM698:
 8589 528d C744240C 		movl	$1, 12(%esp)
 8589      01000000 
 8590 5295 8B4518   		movl	24(%ebp), %eax
 8591 5298 89442408 		movl	%eax, 8(%esp)
 8592 529c 8B450C   		movl	12(%ebp), %eax
 8593 529f 89442404 		movl	%eax, 4(%esp)
 8594 52a3 0FB745FE 		movzwl	-2(%ebp), %eax
 8595 52a7 890424   		movl	%eax, (%esp)
 8596 52aa E8460100 		call	_SetFontWithBuffer
 8596      00
2921:../../MMI/Resource/WriteImgRes.c **** 
2922:../../MMI/Resource/WriteImgRes.c ****     MYFCLOSE(font_data_file);
 8598              	LM699:
 8599 52af 833D0000 		cmpl	$0, _font_data_file
 8599      000000
 8600 52b6 7417     		je	L387
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 180


 8601 52b8 A1000000 		movl	_font_data_file, %eax
 8601      00
 8602 52bd 890424   		movl	%eax, (%esp)
 8603 52c0 E8000000 		call	_fclose
 8603      00
 8604 52c5 C7050000 		movl	$0, _font_data_file
 8604      00000000 
 8604      0000
 8605              	L387:
2923:../../MMI/Resource/WriteImgRes.c **** 
2924:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_userdata = 0;
 8607              	LM700:
 8608 52cf C7052000 		movl	$0, _g_mmi_res_font_userdata
 8608      00000000 
 8608      0000
2925:../../MMI/Resource/WriteImgRes.c ****     g_mmi_res_font_flags = 0;
 8610              	LM701:
 8611 52d9 C7050400 		movl	$0, _g_mmi_res_font_flags
 8611      00000000 
 8611      0000
2926:../../MMI/Resource/WriteImgRes.c **** }
 8613              	LM702:
 8614 52e3 C9       		leave
 8615 52e4 C3       		ret
 8617              	Lscope15:
 8619              	LC134:
 8620 52e5 66696C65 		.ascii "file name%d = %s \12\0"
 8620      206E616D 
 8620      65256420 
 8620      3D202573 
 8620      200A00
 8621              	LC135:
 8622 52f8 466F6E74 		.ascii "Font\0"
 8622      00
 8623              	LC136:
 8624 52fd 25640925 		.ascii "%d\11%s\11\11%s\12\0"
 8624      73090925 
 8624      730A00
 8625              	LC137:
 8626 5308 4E4F5F41 		.ascii "NO_APP\0"
 8626      505000
 8627              	LC138:
 8628 530f 25730925 		.ascii "%s\11%d\11%d\11%s\11%d\11%s\11NA\12\0"
 8628      64092564 
 8628      09257309 
 8628      25640925 
 8628      73094E41 
 8629              	LC139:
 8630 5325 466C6F61 		.ascii "Fload failed: %s(%d), PATH=%s\0"
 8630      64206661 
 8630      696C6564 
 8630      3A202573 
 8630      28256429 
 8631 5343 90909090 		.align 32
 8631      90909090 
 8631      90909090 
 8631      90909090 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 181


 8631      90909090 
 8632              	LC140:
 8633 5360 506C6561 		.ascii "Please check the error message of TAG [WRITEIMGRES] in log file:resgen_mtk_resgenerator_ru
 8633      73652063 
 8633      6865636B 
 8633      20746865 
 8633      20657272 
 8634              		.align 32
 8635              	LC141:
 8636 53c0 6D746B5F 		.ascii "mtk_resgenerator return error.\0"
 8636      72657367 
 8636      656E6572 
 8636      61746F72 
 8636      20726574 
 8637              	LC142:
 8638 53df 4572726F 		.ascii "Error!! Fload FAIL !!\0"
 8638      72212120 
 8638      466C6F61 
 8638      64204641 
 8638      494C2021 
 8644              	.globl _SetFontWithBuffer
 8646              	_SetFontWithBuffer:
2927:../../MMI/Resource/WriteImgRes.c **** 
2928:../../MMI/Resource/WriteImgRes.c **** 
2929:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
2930:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
2931:../../MMI/Resource/WriteImgRes.c ****  *  SetFontWithBuffer
2932:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
2933:../../MMI/Resource/WriteImgRes.c ****  *  Function to copy the Font file to buffer
2934:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
2935:../../MMI/Resource/WriteImgRes.c ****  *  nImgId              [IN]
2936:../../MMI/Resource/WriteImgRes.c ****  *  filename            [?]
2937:../../MMI/Resource/WriteImgRes.c ****  *  enum_value          [?]
2938:../../MMI/Resource/WriteImgRes.c ****  *  res_type            [IN]
2939:../../MMI/Resource/WriteImgRes.c ****  *  fontFlag             [IN]
2940:../../MMI/Resource/WriteImgRes.c ****  *  S8(?)               [OUT]       -> filename of the image to be displayed.
2941:../../MMI/Resource/WriteImgRes.c ****  *  U16(?)              [IN]        -> ImageId
2942:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
2943:../../MMI/Resource/WriteImgRes.c ****  *  void
2944:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
2945:../../MMI/Resource/WriteImgRes.c **** void SetFontWithBuffer(U16 nFontId, S8 *filename, S8 *enum_value, BOOL fontFlag)      /* 120304 Cal
2946:../../MMI/Resource/WriteImgRes.c **** {
 8648              	LM703:
 8649 53f5 55       		pushl	%ebp
 8650 53f6 89E5     		movl	%esp, %ebp
 8651 53f8 B8681202 		movl	$135784, %eax
 8651      00
 8652 53fd E8000000 		call	__alloca
 8652      00
 8653 5402 8B4508   		movl	8(%ebp), %eax
 8654 5405 668945F6 		movw	%ax, -10(%ebp)
2947:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2948:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
2949:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2950:../../MMI/Resource/WriteImgRes.c ****     U16 i;
2951:../../MMI/Resource/WriteImgRes.c ****     U16 found = 0;
 8656              	LM704:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 182


 8657              	LBB59:
 8658 5409 66C745F2 		movw	$0, -14(%ebp)
 8658      0000
2952:../../MMI/Resource/WriteImgRes.c ****     S8 upperFileName[MAX_FILENAME_LEN];
2953:../../MMI/Resource/WriteImgRes.c ****     unsigned short *pCurrMaxFontId;
2954:../../MMI/Resource/WriteImgRes.c ****     unsigned short *pCurrMaxFontNum;
2955:../../MMI/Resource/WriteImgRes.c ****     FONTNAME_LIST *pFontNameList;
2956:../../MMI/Resource/WriteImgRes.c ****     CUSTOM_FONT_MAP *pFontIdMap;
2957:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
2958:../../MMI/Resource/WriteImgRes.c ****     S8 *real_filename = NULL;
 8660              	LM705:
 8661 540f C785D4ED 		movl	$0, -4652(%ebp)
 8661      FFFF0000 
 8661      0000
2959:../../MMI/Resource/WriteImgRes.c **** 
2960:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2961:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
2962:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
2963:../../MMI/Resource/WriteImgRes.c ****     pCurrMaxFontId = &CurrMaxFontIdEXT;
 8663              	LM706:
 8664 5419 C785E4FD 		movl	$_CurrMaxFontIdEXT, -540(%ebp)
 8664      FFFF0000 
 8664      0000
2964:../../MMI/Resource/WriteImgRes.c ****     pCurrMaxFontNum = &CurrMaxFontNumEXT;
 8666              	LM707:
 8667 5423 C785E0FD 		movl	$_CurrMaxFontNumEXT, -544(%ebp)
 8667      FFFF0000 
 8667      0000
2965:../../MMI/Resource/WriteImgRes.c ****     pFontNameList = FontNameListEXT;
 8669              	LM708:
 8670 542d C785DCFD 		movl	$_FontNameListEXT, -548(%ebp)
 8670      FFFF0000 
 8670      0000
2966:../../MMI/Resource/WriteImgRes.c ****     pFontIdMap = FontIdMapEXT;
 8672              	LM709:
 8673 5437 C785D8FD 		movl	$_FontIdMapEXT, -552(%ebp)
 8673      FFFF0000 
 8673      0000
2967:../../MMI/Resource/WriteImgRes.c **** 
2968:../../MMI/Resource/WriteImgRes.c ****     if (*pCurrMaxFontId >= MAX_IMAGE_IDS_SIZE)
 8675              	LM710:
 8676 5441 8B85E4FD 		movl	-540(%ebp), %eax
 8676      FFFF
 8677 5447 668338FF 		cmpw	$-1, (%eax)
 8678 544b 7505     		jne	L390
2969:../../MMI/Resource/WriteImgRes.c ****     {
2970:../../MMI/Resource/WriteImgRes.c ****         return; /* Can't add more than max number of image ids allowed */
 8680              	LM711:
 8681 544d E9A60500 		jmp	L389
 8681      00
 8682              	L390:
2971:../../MMI/Resource/WriteImgRes.c ****     }
2972:../../MMI/Resource/WriteImgRes.c **** 
2973:../../MMI/Resource/WriteImgRes.c ****     fprintf(OutputImgIDFile, "file name%d = %s \n", image_idx++, filename);
 8684              	LM712:
 8685 5452 8B450C   		movl	12(%ebp), %eax
 8686 5455 8944240C 		movl	%eax, 12(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 183


 8687 5459 A1000000 		movl	_image_idx, %eax
 8687      00
 8688 545e 89442408 		movl	%eax, 8(%esp)
 8689 5462 FF050000 		incl	_image_idx
 8689      0000
 8690 5468 C7442404 		movl	$LC134, 4(%esp)
 8690      E5520000 
 8691 5470 A1000000 		movl	_OutputImgIDFile, %eax
 8691      00
 8692 5475 890424   		movl	%eax, (%esp)
 8693 5478 E8000000 		call	_fprintf
 8693      00
2974:../../MMI/Resource/WriteImgRes.c **** 
2975:../../MMI/Resource/WriteImgRes.c ****     if (strlen(filename) >= MAX_FILENAME_LEN)
 8695              	LM713:
 8696 547d 8B450C   		movl	12(%ebp), %eax
 8697 5480 890424   		movl	%eax, (%esp)
 8698 5483 E8000000 		call	_strlen
 8698      00
 8699 5488 3DFF0100 		cmpl	$511, %eax
 8699      00
 8700 548d 760B     		jbe	L391
2976:../../MMI/Resource/WriteImgRes.c ****     {
2977:../../MMI/Resource/WriteImgRes.c ****         filename[MAX_FILENAME_LEN - 1] = '\0';
 8702              	LM714:
 8703 548f 8B450C   		movl	12(%ebp), %eax
 8704 5492 05FF0100 		addl	$511, %eax
 8704      00
 8705 5497 C60000   		movb	$0, (%eax)
 8706              	L391:
2978:../../MMI/Resource/WriteImgRes.c ****     }
2979:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename, "")))
 8708              	LM715:
 8709 549a C7442404 		movl	$LC31, 4(%esp)
 8709      12060000 
 8710 54a2 8B450C   		movl	12(%ebp), %eax
 8711 54a5 890424   		movl	%eax, (%esp)
 8712 54a8 E8000000 		call	_strcmp
 8712      00
 8713 54ad 85C0     		testl	%eax, %eax
 8714 54af 7516     		jne	L392
2980:../../MMI/Resource/WriteImgRes.c ****     {
2981:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 8716              	LM716:
 8717 54b1 C7442404 		movl	$LC32, 4(%esp)
 8717      20060000 
 8718 54b9 8D85D8ED 		leal	-4648(%ebp), %eax
 8718      FFFF
 8719 54bf 890424   		movl	%eax, (%esp)
 8720 54c2 E8000000 		call	_strcpy
 8720      00
 8721              	L392:
2982:../../MMI/Resource/WriteImgRes.c **** 
2983:../../MMI/Resource/WriteImgRes.c ****     }
2984:../../MMI/Resource/WriteImgRes.c ****     strncpy(upperFileName, filename, MAX_FILENAME_LEN);
 8723              	LM717:
 8724 54c7 C7442408 		movl	$512, 8(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 184


 8724      00020000 
 8725 54cf 8B450C   		movl	12(%ebp), %eax
 8726 54d2 89442404 		movl	%eax, 4(%esp)
 8727 54d6 8D85E8FD 		leal	-536(%ebp), %eax
 8727      FFFF
 8728 54dc 890424   		movl	%eax, (%esp)
 8729 54df E8000000 		call	_strncpy
 8729      00
2985:../../MMI/Resource/WriteImgRes.c ****     str_upper(upperFileName, MAX_FILENAME_LEN);
 8731              	LM718:
 8732 54e4 C7442404 		movl	$512, 4(%esp)
 8732      00020000 
 8733 54ec 8D85E8FD 		leal	-536(%ebp), %eax
 8733      FFFF
 8734 54f2 890424   		movl	%eax, (%esp)
 8735 54f5 E8000000 		call	_str_upper
 8735      00
2986:../../MMI/Resource/WriteImgRes.c **** 
2987:../../MMI/Resource/WriteImgRes.c ****     if (pFontIdMap[nFontId].nFontNum != (U16)-1)
 8737              	LM719:
 8738 54fa 0FB745F6 		movzwl	-10(%ebp), %eax
 8739 54fe 8D1400   		leal	(%eax,%eax), %edx
 8740 5501 8B85D8FD 		movl	-552(%ebp), %eax
 8740      FFFF
 8741 5507 66833C10 		cmpw	$-1, (%eax,%edx)
 8741      FF
 8742 550c 7431     		je	L393
2988:../../MMI/Resource/WriteImgRes.c ****     {
2989:../../MMI/Resource/WriteImgRes.c ****         fprintf(RepeatIDListFile, "%d\t%s\t\t%s\n", nFontId, enum_value, "Font");
 8744              	LM720:
 8745 550e C7442410 		movl	$LC135, 16(%esp)
 8745      F8520000 
 8746 5516 8B4510   		movl	16(%ebp), %eax
 8747 5519 8944240C 		movl	%eax, 12(%esp)
 8748 551d 0FB745F6 		movzwl	-10(%ebp), %eax
 8749 5521 89442408 		movl	%eax, 8(%esp)
 8750 5525 C7442404 		movl	$LC136, 4(%esp)
 8750      FD520000 
 8751 552d A1000000 		movl	_RepeatIDListFile, %eax
 8751      00
 8752 5532 890424   		movl	%eax, (%esp)
 8753 5535 E8000000 		call	_fprintf
 8753      00
2990:../../MMI/Resource/WriteImgRes.c ****         return;
 8755              	LM721:
 8756 553a E9B90400 		jmp	L389
 8756      00
 8757              	L393:
2991:../../MMI/Resource/WriteImgRes.c ****     }
2992:../../MMI/Resource/WriteImgRes.c **** 
2993:../../MMI/Resource/WriteImgRes.c ****     for (i = 0; i < *pCurrMaxFontNum; i++)
 8759              	LM722:
 8760 553f 66C745F4 		movw	$0, -12(%ebp)
 8760      0000
 8761              	L394:
 8762 5545 8B95E0FD 		movl	-544(%ebp), %edx
 8762      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 185


 8763 554b 8B45F4   		movl	-12(%ebp), %eax
 8764 554e 663B02   		cmpw	(%edx), %ax
 8765 5551 7202     		jb	L397
 8766 5553 EB35     		jmp	L395
 8767              	L397:
2994:../../MMI/Resource/WriteImgRes.c ****     {
2995:../../MMI/Resource/WriteImgRes.c ****         if (!strcmp(pFontNameList[i].filename, upperFileName))
 8769              	LM723:
 8770 5555 8D85E8FD 		leal	-536(%ebp), %eax
 8770      FFFF
 8771 555b 89442404 		movl	%eax, 4(%esp)
 8772 555f 0FB745F4 		movzwl	-12(%ebp), %eax
 8773 5563 C1E009   		sall	$9, %eax
 8774 5566 0385DCFD 		addl	-548(%ebp), %eax
 8774      FFFF
 8775 556c 890424   		movl	%eax, (%esp)
 8776 556f E8000000 		call	_strcmp
 8776      00
 8777 5574 85C0     		testl	%eax, %eax
 8778 5576 7508     		jne	L396
2996:../../MMI/Resource/WriteImgRes.c ****         {
2997:../../MMI/Resource/WriteImgRes.c ****             found = 1;
 8780              	LM724:
 8781 5578 66C745F2 		movw	$1, -14(%ebp)
 8781      0100
2998:../../MMI/Resource/WriteImgRes.c ****             break;
 8783              	LM725:
 8784 557e EB0A     		jmp	L395
 8786              	LM726:
 8787              	L396:
 8788 5580 8B45F4   		movl	-12(%ebp), %eax
 8789 5583 40       		incl	%eax
 8790 5584 668945F4 		movw	%ax, -12(%ebp)
 8791 5588 EBBB     		jmp	L394
 8792              	L395:
2999:../../MMI/Resource/WriteImgRes.c ****         }
3000:../../MMI/Resource/WriteImgRes.c ****     }
3001:../../MMI/Resource/WriteImgRes.c **** 
3002:../../MMI/Resource/WriteImgRes.c ****     g_font_size = 0;
 8794              	LM727:
 8795 558a C7053000 		movl	$0, _g_font_size
 8795      00000000 
 8795      0000
3003:../../MMI/Resource/WriteImgRes.c ****     real_filename = filename;
 8797              	LM728:
 8798 5594 8B450C   		movl	12(%ebp), %eax
 8799 5597 8985D4ED 		movl	%eax, -4652(%ebp)
 8799      FFFF
3004:../../MMI/Resource/WriteImgRes.c **** 
3005:../../MMI/Resource/WriteImgRes.c ****     if (found)
 8801              	LM729:
 8802 559d 66837DF2 		cmpw	$0, -14(%ebp)
 8802      00
 8803 55a2 0F840902 		je	L399
 8803      0000
3006:../../MMI/Resource/WriteImgRes.c ****     {
3007:../../MMI/Resource/WriteImgRes.c ****         pFontIdMap[nFontId].nFontNum = i;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 186


 8805              	LM730:
 8806 55a8 0FB745F6 		movzwl	-10(%ebp), %eax
 8807 55ac 8D0C00   		leal	(%eax,%eax), %ecx
 8808 55af 8B95D8FD 		movl	-552(%ebp), %edx
 8808      FFFF
 8809 55b5 8B45F4   		movl	-12(%ebp), %eax
 8810 55b8 6689040A 		movw	%ax, (%edx,%ecx)
3008:../../MMI/Resource/WriteImgRes.c ****         (*pCurrMaxFontId)++;
 8812              	LM731:
 8813 55bc 8B95E4FD 		movl	-540(%ebp), %edx
 8813      FFFF
 8814 55c2 8B85E4FD 		movl	-540(%ebp), %eax
 8814      FFFF
 8815 55c8 0FB700   		movzwl	(%eax), %eax
 8816 55cb 40       		incl	%eax
 8817 55cc 668902   		movw	%ax, (%edx)
3009:../../MMI/Resource/WriteImgRes.c **** 
3010:../../MMI/Resource/WriteImgRes.c ****         {
3011:../../MMI/Resource/WriteImgRes.c ****             S8 str1[MAX_IMAGE_NAMES_SIZE];
3012:../../MMI/Resource/WriteImgRes.c ****             S8 str2[MAX_IMAGE_NAMES_SIZE];
3013:../../MMI/Resource/WriteImgRes.c ****             U32 i, j;
3014:../../MMI/Resource/WriteImgRes.c **** 
3015:../../MMI/Resource/WriteImgRes.c ****             strncpy(str1, filename, MAX_IMAGE_NAMES_SIZE);
 8819              	LM732:
 8820              	LBB60:
 8821 55cf C7442408 		movl	$65535, 8(%esp)
 8821      FFFF0000 
 8822 55d7 8B450C   		movl	12(%ebp), %eax
 8823 55da 89442404 		movl	%eax, 4(%esp)
 8824 55de 8D85C8ED 		leal	-70200(%ebp), %eax
 8824      FEFF
 8825 55e4 890424   		movl	%eax, (%esp)
 8826 55e7 E8000000 		call	_strncpy
 8826      00
3016:../../MMI/Resource/WriteImgRes.c ****             str_upper(str1, MAX_IMAGE_NAMES_SIZE);
 8828              	LM733:
 8829 55ec C7442404 		movl	$65535, 4(%esp)
 8829      FFFF0000 
 8830 55f4 8D85C8ED 		leal	-70200(%ebp), %eax
 8830      FEFF
 8831 55fa 890424   		movl	%eax, (%esp)
 8832 55fd E8000000 		call	_str_upper
 8832      00
3017:../../MMI/Resource/WriteImgRes.c **** 
3018:../../MMI/Resource/WriteImgRes.c ****             for (i = 0; i < g_resimg_count; i++)
 8834              	LM734:
 8835 5602 C785C4ED 		movl	$0, -135740(%ebp)
 8835      FDFF0000 
 8835      0000
 8836              	L400:
 8837 560c 8B85C4ED 		movl	-135740(%ebp), %eax
 8837      FDFF
 8838 5612 3B050000 		cmpl	_g_resimg_count, %eax
 8838      0000
 8839 5618 7205     		jb	L403
 8840 561a E9A60000 		jmp	L401
 8840      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 187


 8841              	L403:
3019:../../MMI/Resource/WriteImgRes.c ****             {
3020:../../MMI/Resource/WriteImgRes.c ****                 strncpy(str2, g_resimg_table[i].filename, MAX_IMAGE_NAMES_SIZE);
 8843              	LM735:
 8844 561f C7442408 		movl	$65535, 8(%esp)
 8844      FFFF0000 
 8845 5627 8B95C4ED 		movl	-135740(%ebp), %edx
 8845      FDFF
 8846 562d 89D0     		movl	%edx, %eax
 8847 562f C1E008   		sall	$8, %eax
 8848 5632 01D0     		addl	%edx, %eax
 8849 5634 C1E002   		sall	$2, %eax
 8850 5637 05000000 		addl	$_g_resimg_table, %eax
 8850      00
 8851 563c 89442404 		movl	%eax, 4(%esp)
 8852 5640 8D85C8ED 		leal	-135736(%ebp), %eax
 8852      FDFF
 8853 5646 890424   		movl	%eax, (%esp)
 8854 5649 E8000000 		call	_strncpy
 8854      00
3021:../../MMI/Resource/WriteImgRes.c ****                 str_upper(str2, MAX_IMAGE_NAMES_SIZE);
 8856              	LM736:
 8857 564e C7442404 		movl	$65535, 4(%esp)
 8857      FFFF0000 
 8858 5656 8D85C8ED 		leal	-135736(%ebp), %eax
 8858      FDFF
 8859 565c 890424   		movl	%eax, (%esp)
 8860 565f E8000000 		call	_str_upper
 8860      00
3022:../../MMI/Resource/WriteImgRes.c ****                 if (strcmp(str1, str2) == 0)
 8862              	LM737:
 8863 5664 8D85C8ED 		leal	-135736(%ebp), %eax
 8863      FDFF
 8864 566a 89442404 		movl	%eax, 4(%esp)
 8865 566e 8D85C8ED 		leal	-70200(%ebp), %eax
 8865      FEFF
 8866 5674 890424   		movl	%eax, (%esp)
 8867 5677 E8000000 		call	_strcmp
 8867      00
 8868 567c 85C0     		testl	%eax, %eax
 8869 567e 7538     		jne	L402
3023:../../MMI/Resource/WriteImgRes.c ****                 {
3024:../../MMI/Resource/WriteImgRes.c ****                     g_font_size = g_resimg_table[i].size;
 8871              	LM738:
 8872 5680 8B95C4ED 		movl	-135740(%ebp), %edx
 8872      FDFF
 8873 5686 89D0     		movl	%edx, %eax
 8874 5688 C1E008   		sall	$8, %eax
 8875 568b 01D0     		addl	%edx, %eax
 8876 568d C1E002   		sall	$2, %eax
 8877 5690 8B800004 		movl	_g_resimg_table+1024(%eax), %eax
 8877      0000
 8878 5696 A3300000 		movl	%eax, _g_font_size
 8878      00
3025:../../MMI/Resource/WriteImgRes.c ****                     real_filename = g_resimg_table[i].real_filename;
 8880              	LM739:
 8881 569b 8B95C4ED 		movl	-135740(%ebp), %edx
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 188


 8881      FDFF
 8882 56a1 89D0     		movl	%edx, %eax
 8883 56a3 C1E008   		sall	$8, %eax
 8884 56a6 01D0     		addl	%edx, %eax
 8885 56a8 C1E002   		sall	$2, %eax
 8886 56ab 05000200 		addl	$_g_resimg_table+512, %eax
 8886      00
 8887 56b0 8985D4ED 		movl	%eax, -4652(%ebp)
 8887      FFFF
3026:../../MMI/Resource/WriteImgRes.c ****                     break;
 8889              	LM740:
 8890 56b6 EB0D     		jmp	L401
 8892              	LM741:
 8893              	L402:
 8894 56b8 8D85C4ED 		leal	-135740(%ebp), %eax
 8894      FDFF
 8895 56be FF00     		incl	(%eax)
 8896 56c0 E947FFFF 		jmp	L400
 8896      FF
 8897              	L401:
3027:../../MMI/Resource/WriteImgRes.c ****                 }
3028:../../MMI/Resource/WriteImgRes.c ****             }
3029:../../MMI/Resource/WriteImgRes.c ****         }
3030:../../MMI/Resource/WriteImgRes.c ****         RESPRTONERECORD(fpImageResourceUsage, nFontId, real_filename, enum_value, g_font_size);
 8899              	LM742:
 8900              	LBE60:
 8901 56c5 833D0000 		cmpl	$0, _fpImageResourceUsage
 8901      000000
 8902 56cc 0F842603 		je	L389
 8902      0000
 8903              	LBB61:
 8904 56d2 8B4510   		movl	16(%ebp), %eax
 8905 56d5 89442404 		movl	%eax, 4(%esp)
 8906 56d9 0FB745F6 		movzwl	-10(%ebp), %eax
 8907 56dd 890424   		movl	%eax, (%esp)
 8908 56e0 E8000000 		call	_GetOffsetFromResourceBase
 8908      00
 8909 56e5 8985C0ED 		movl	%eax, -135744(%ebp)
 8909      FDFF
 8910 56eb 83BDC0ED 		cmpl	$-1, -135744(%ebp)
 8910      FDFFFF
 8911 56f2 754C     		jne	L407
 8912 56f4 8B85D4ED 		movl	-4652(%ebp), %eax
 8912      FFFF
 8913 56fa 8944241C 		movl	%eax, 28(%esp)
 8914 56fe A1300000 		movl	_g_font_size, %eax
 8914      00
 8915 5703 89442418 		movl	%eax, 24(%esp)
 8916 5707 8B4510   		movl	16(%ebp), %eax
 8917 570a 89442414 		movl	%eax, 20(%esp)
 8918 570e 0FB745F6 		movzwl	-10(%ebp), %eax
 8919 5712 89442410 		movl	%eax, 16(%esp)
 8920 5716 C744240C 		movl	$-1, 12(%esp)
 8920      FFFFFFFF 
 8921 571e C7442408 		movl	$LC137, 8(%esp)
 8921      08530000 
 8922 5726 C7442404 		movl	$LC138, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 189


 8922      0F530000 
 8923 572e A1000000 		movl	_fpImageResourceUsage, %eax
 8923      00
 8924 5733 890424   		movl	%eax, (%esp)
 8925 5736 E8000000 		call	_fprintf
 8925      00
 8926 573b E9B80200 		jmp	L389
 8926      00
 8927              	L407:
 8928 5740 8B85D4ED 		movl	-4652(%ebp), %eax
 8928      FFFF
 8929 5746 8944241C 		movl	%eax, 28(%esp)
 8930 574a A1300000 		movl	_g_font_size, %eax
 8930      00
 8931 574f 89442418 		movl	%eax, 24(%esp)
 8932 5753 8B4510   		movl	16(%ebp), %eax
 8933 5756 89442414 		movl	%eax, 20(%esp)
 8934 575a 0FB745F6 		movzwl	-10(%ebp), %eax
 8935 575e 89442410 		movl	%eax, 16(%esp)
 8936 5762 8B95C0ED 		movl	-135744(%ebp), %edx
 8936      FDFF
 8937 5768 89D0     		movl	%edx, %eax
 8938 576a C1E006   		sall	$6, %eax
 8939 576d 01D0     		addl	%edx, %eax
 8940 576f C1E003   		sall	$3, %eax
 8941 5772 0FB78004 		movzwl	_g_mmi_resource_base_table+4(%eax), %eax
 8941      000000
 8942 5779 8944240C 		movl	%eax, 12(%esp)
 8943 577d 8B95C0ED 		movl	-135744(%ebp), %edx
 8943      FDFF
 8944 5783 89D0     		movl	%edx, %eax
 8945 5785 C1E006   		sall	$6, %eax
 8946 5788 01D0     		addl	%edx, %eax
 8947 578a C1E003   		sall	$3, %eax
 8948 578d 8B800000 		movl	_g_mmi_resource_base_table(%eax), %eax
 8948      0000
 8949 5793 89442408 		movl	%eax, 8(%esp)
 8950 5797 C7442404 		movl	$LC138, 4(%esp)
 8950      0F530000 
 8951 579f A1000000 		movl	_fpImageResourceUsage, %eax
 8951      00
 8952 57a4 890424   		movl	%eax, (%esp)
 8953 57a7 E8000000 		call	_fprintf
 8953      00
 8954              	LBE61:
 8955 57ac E9470200 		jmp	L389
 8955      00
 8956              	L399:
3031:../../MMI/Resource/WriteImgRes.c ****     }
3032:../../MMI/Resource/WriteImgRes.c ****     else
3033:../../MMI/Resource/WriteImgRes.c ****     {
3034:../../MMI/Resource/WriteImgRes.c ****         if (Fload(upperFileName))
 8958              	LM743:
 8959 57b1 8D85E8FD 		leal	-536(%ebp), %eax
 8959      FFFF
 8960 57b7 890424   		movl	%eax, (%esp)
 8961 57ba E8080500 		call	_Fload
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 190


 8961      00
 8962 57bf 85C0     		testl	%eax, %eax
 8963 57c1 0F84BD01 		je	L412
 8963      0000
3035:../../MMI/Resource/WriteImgRes.c ****         {
3036:../../MMI/Resource/WriteImgRes.c ****             strcpy(pFontNameList[*pCurrMaxFontNum].filename, upperFileName);
 8965              	LM744:
 8966 57c7 8D85E8FD 		leal	-536(%ebp), %eax
 8966      FFFF
 8967 57cd 89442404 		movl	%eax, 4(%esp)
 8968 57d1 8B85E0FD 		movl	-544(%ebp), %eax
 8968      FFFF
 8969 57d7 0FB700   		movzwl	(%eax), %eax
 8970 57da C1E009   		sall	$9, %eax
 8971 57dd 0385DCFD 		addl	-548(%ebp), %eax
 8971      FFFF
 8972 57e3 890424   		movl	%eax, (%esp)
 8973 57e6 E8000000 		call	_strcpy
 8973      00
3037:../../MMI/Resource/WriteImgRes.c ****             pFontIdMap[nFontId].nFontNum = *pCurrMaxFontNum;
 8975              	LM745:
 8976 57eb 0FB745F6 		movzwl	-10(%ebp), %eax
 8977 57ef 8D0C00   		leal	(%eax,%eax), %ecx
 8978 57f2 8B95D8FD 		movl	-552(%ebp), %edx
 8978      FFFF
 8979 57f8 8B85E0FD 		movl	-544(%ebp), %eax
 8979      FFFF
 8980 57fe 0FB700   		movzwl	(%eax), %eax
 8981 5801 6689040A 		movw	%ax, (%edx,%ecx)
3038:../../MMI/Resource/WriteImgRes.c ****             (*pCurrMaxFontNum)++;
 8983              	LM746:
 8984 5805 8B95E0FD 		movl	-544(%ebp), %edx
 8984      FFFF
 8985 580b 8B85E0FD 		movl	-544(%ebp), %eax
 8985      FFFF
 8986 5811 0FB700   		movzwl	(%eax), %eax
 8987 5814 40       		incl	%eax
 8988 5815 668902   		movw	%ax, (%edx)
3039:../../MMI/Resource/WriteImgRes.c ****             (*pCurrMaxFontId)++;
 8990              	LM747:
 8991 5818 8B95E4FD 		movl	-540(%ebp), %edx
 8991      FFFF
 8992 581e 8B85E4FD 		movl	-540(%ebp), %eax
 8992      FFFF
 8993 5824 0FB700   		movzwl	(%eax), %eax
 8994 5827 40       		incl	%eax
 8995 5828 668902   		movw	%ax, (%edx)
3040:../../MMI/Resource/WriteImgRes.c **** 
3041:../../MMI/Resource/WriteImgRes.c ****             g_resimg_table[g_resimg_count].size = g_font_size;
 8997              	LM748:
 8998 582b 8B150000 		movl	_g_resimg_count, %edx
 8998      0000
 8999 5831 89D0     		movl	%edx, %eax
 9000 5833 C1E008   		sall	$8, %eax
 9001 5836 01D0     		addl	%edx, %eax
 9002 5838 8D148500 		leal	0(,%eax,4), %edx
 9002      000000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 191


 9003 583f A1300000 		movl	_g_font_size, %eax
 9003      00
 9004 5844 89820004 		movl	%eax, _g_resimg_table+1024(%edx)
 9004      0000
3042:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_resimg_table[g_resimg_count].filename, filename);
 9006              	LM749:
 9007 584a 8B450C   		movl	12(%ebp), %eax
 9008 584d 89442404 		movl	%eax, 4(%esp)
 9009 5851 8B150000 		movl	_g_resimg_count, %edx
 9009      0000
 9010 5857 89D0     		movl	%edx, %eax
 9011 5859 C1E008   		sall	$8, %eax
 9012 585c 01D0     		addl	%edx, %eax
 9013 585e C1E002   		sall	$2, %eax
 9014 5861 05000000 		addl	$_g_resimg_table, %eax
 9014      00
 9015 5866 890424   		movl	%eax, (%esp)
 9016 5869 E8000000 		call	_strcpy
 9016      00
3043:../../MMI/Resource/WriteImgRes.c ****             strcpy(g_resimg_table[g_resimg_count].real_filename, real_filename);
 9018              	LM750:
 9019 586e 8B85D4ED 		movl	-4652(%ebp), %eax
 9019      FFFF
 9020 5874 89442404 		movl	%eax, 4(%esp)
 9021 5878 8B150000 		movl	_g_resimg_count, %edx
 9021      0000
 9022 587e 89D0     		movl	%edx, %eax
 9023 5880 C1E008   		sall	$8, %eax
 9024 5883 01D0     		addl	%edx, %eax
 9025 5885 C1E002   		sall	$2, %eax
 9026 5888 05000200 		addl	$_g_resimg_table+512, %eax
 9026      00
 9027 588d 890424   		movl	%eax, (%esp)
 9028 5890 E8000000 		call	_strcpy
 9028      00
3044:../../MMI/Resource/WriteImgRes.c ****             g_resimg_count ++;
 9030              	LM751:
 9031 5895 FF050000 		incl	_g_resimg_count
 9031      0000
3045:../../MMI/Resource/WriteImgRes.c ****             RESPRTONERECORD(fpImageResourceUsage, nFontId, real_filename, enum_value, g_font_size);
 9033              	LM752:
 9034 589b 833D0000 		cmpl	$0, _fpImageResourceUsage
 9034      000000
 9035 58a2 0F845001 		je	L389
 9035      0000
 9036              	LBB62:
 9037 58a8 8B4510   		movl	16(%ebp), %eax
 9038 58ab 89442404 		movl	%eax, 4(%esp)
 9039 58af 0FB745F6 		movzwl	-10(%ebp), %eax
 9040 58b3 890424   		movl	%eax, (%esp)
 9041 58b6 E8000000 		call	_GetOffsetFromResourceBase
 9041      00
 9042 58bb 8985C0ED 		movl	%eax, -135744(%ebp)
 9042      FDFF
 9043 58c1 83BDC0ED 		cmpl	$-1, -135744(%ebp)
 9043      FDFFFF
 9044 58c8 754C     		jne	L415
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 192


 9045 58ca 8B85D4ED 		movl	-4652(%ebp), %eax
 9045      FFFF
 9046 58d0 8944241C 		movl	%eax, 28(%esp)
 9047 58d4 A1300000 		movl	_g_font_size, %eax
 9047      00
 9048 58d9 89442418 		movl	%eax, 24(%esp)
 9049 58dd 8B4510   		movl	16(%ebp), %eax
 9050 58e0 89442414 		movl	%eax, 20(%esp)
 9051 58e4 0FB745F6 		movzwl	-10(%ebp), %eax
 9052 58e8 89442410 		movl	%eax, 16(%esp)
 9053 58ec C744240C 		movl	$-1, 12(%esp)
 9053      FFFFFFFF 
 9054 58f4 C7442408 		movl	$LC137, 8(%esp)
 9054      08530000 
 9055 58fc C7442404 		movl	$LC138, 4(%esp)
 9055      0F530000 
 9056 5904 A1000000 		movl	_fpImageResourceUsage, %eax
 9056      00
 9057 5909 890424   		movl	%eax, (%esp)
 9058 590c E8000000 		call	_fprintf
 9058      00
 9059 5911 E9E20000 		jmp	L389
 9059      00
 9060              	L415:
 9061 5916 8B85D4ED 		movl	-4652(%ebp), %eax
 9061      FFFF
 9062 591c 8944241C 		movl	%eax, 28(%esp)
 9063 5920 A1300000 		movl	_g_font_size, %eax
 9063      00
 9064 5925 89442418 		movl	%eax, 24(%esp)
 9065 5929 8B4510   		movl	16(%ebp), %eax
 9066 592c 89442414 		movl	%eax, 20(%esp)
 9067 5930 0FB745F6 		movzwl	-10(%ebp), %eax
 9068 5934 89442410 		movl	%eax, 16(%esp)
 9069 5938 8B95C0ED 		movl	-135744(%ebp), %edx
 9069      FDFF
 9070 593e 89D0     		movl	%edx, %eax
 9071 5940 C1E006   		sall	$6, %eax
 9072 5943 01D0     		addl	%edx, %eax
 9073 5945 C1E003   		sall	$3, %eax
 9074 5948 0FB78004 		movzwl	_g_mmi_resource_base_table+4(%eax), %eax
 9074      000000
 9075 594f 8944240C 		movl	%eax, 12(%esp)
 9076 5953 8B95C0ED 		movl	-135744(%ebp), %edx
 9076      FDFF
 9077 5959 89D0     		movl	%edx, %eax
 9078 595b C1E006   		sall	$6, %eax
 9079 595e 01D0     		addl	%edx, %eax
 9080 5960 C1E003   		sall	$3, %eax
 9081 5963 8B800000 		movl	_g_mmi_resource_base_table(%eax), %eax
 9081      0000
 9082 5969 89442408 		movl	%eax, 8(%esp)
 9083 596d C7442404 		movl	$LC138, 4(%esp)
 9083      0F530000 
 9084 5975 A1000000 		movl	_fpImageResourceUsage, %eax
 9084      00
 9085 597a 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 193


 9086 597d E8000000 		call	_fprintf
 9086      00
 9087              	LBE62:
 9088 5982 EB74     		jmp	L389
 9089              	L412:
3046:../../MMI/Resource/WriteImgRes.c ****         }
3047:../../MMI/Resource/WriteImgRes.c ****         /* CustPack: let new set of images share the same resource of default image */
3048:../../MMI/Resource/WriteImgRes.c ****         else
3049:../../MMI/Resource/WriteImgRes.c ****         {
3050:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag)
 9091              	LM753:
 9092 5984 833D0000 		cmpl	$0, _toolFlag
 9092      000000
 9093 598b 740A     		je	L420
3051:../../MMI/Resource/WriteImgRes.c ****             {
3052:../../MMI/Resource/WriteImgRes.c ****                 resultFailFlag = 1;
 9095              	LM754:
 9096 598d C7050000 		movl	$1, _resultFailFlag
 9096      00000100 
 9096      0000
 9097              	L420:
3053:../../MMI/Resource/WriteImgRes.c ****             }
3054:../../MMI/Resource/WriteImgRes.c ****             RESIMG_LOG_E("Fload failed: %s(%d), PATH=%s", enum_value, nFontId, upperFileName);
 9099              	LM755:
 9100 5997 8D85E8FD 		leal	-536(%ebp), %eax
 9100      FFFF
 9101 599d 89442414 		movl	%eax, 20(%esp)
 9102 59a1 0FB745F6 		movzwl	-10(%ebp), %eax
 9103 59a5 89442410 		movl	%eax, 16(%esp)
 9104 59a9 8B4510   		movl	16(%ebp), %eax
 9105 59ac 8944240C 		movl	%eax, 12(%esp)
 9106 59b0 C7442408 		movl	$LC139, 8(%esp)
 9106      25530000 
 9107 59b8 C7442404 		movl	$LC34, 4(%esp)
 9107      64060000 
 9108 59c0 C7042403 		movl	$3, (%esp)
 9108      000000
 9109 59c7 E8000000 		call	_reslog_adaptor_log
 9109      00
3055:../../MMI/Resource/WriteImgRes.c ****             RES_LOG_PENDING_FATAL(RESIMG_TAG, "Error!! Fload FAIL !!","mtk_resgenerator return erro
 9111              	LM756:
 9112 59cc C7442410 		movl	$LC140, 16(%esp)
 9112      60530000 
 9113 59d4 C744240C 		movl	$LC141, 12(%esp)
 9113      C0530000 
 9114 59dc C7442408 		movl	$LC142, 8(%esp)
 9114      DF530000 
 9115 59e4 C7442404 		movl	$LC34, 4(%esp)
 9115      64060000 
 9116 59ec C7042403 		movl	$3, (%esp)
 9116      000000
 9117 59f3 E8000000 		call	_reslog_adaptor_fatal_error_pending_log
 9117      00
3056:../../MMI/Resource/WriteImgRes.c ****             /*
3057:../../MMI/Resource/WriteImgRes.c ****             strcpy(FontNameListEXT[CurrMaxImageNum].filename, DEFAULT_FILEBUFFER);
3058:../../MMI/Resource/WriteImgRes.c ****             ImageIdMap[nFontId].nImageNum = CurrMaxImageNum;
3059:../../MMI/Resource/WriteImgRes.c ****             CurrMaxImageNum++;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 194


3060:../../MMI/Resource/WriteImgRes.c ****             CurrMaxImageId++;*/
3061:../../MMI/Resource/WriteImgRes.c ****         }
3062:../../MMI/Resource/WriteImgRes.c ****     }
3063:../../MMI/Resource/WriteImgRes.c **** }
 9119              	LM757:
 9120              	L389:
 9121 59f8 C9       		leave
 9122 59f9 C3       		ret
 9123              	LBE59:
 9148              	Lscope16:
 9150              	LC143:
 9151 59fa 76665F25 		.ascii "vf_%d.tmp\0"
 9151      642E746D 
 9151      7000
 9152              	LC144:
 9153 5a04 772B6200 		.ascii "w+b\0"
 9154 5a08 90909090 		.align 32
 9154      90909090 
 9154      90909090 
 9154      90909090 
 9154      90909090 
 9155              	LC145:
 9156 5a20 5B466F6E 		.ascii "[Font]Type=[%d], g_mmi_res_font_userdata=[%d], size=[%d]\12\0"
 9156      745D5479 
 9156      70653D5B 
 9156      25645D2C 
 9156      20675F6D 
 9157 5a5a 8DB60000 		.align 32
 9157      0000
 9158              	LC146:
 9159 5a60 6F626A63 		.ascii "objcopy -I binary -O pe-i386 --rename-section .data=.rdata --set-section-flags .data=conte
 9159      6F707920 
 9159      2D492062 
 9159      696E6172 
 9159      79202D4F 
 9160 5b24 90909090 		.align 32
 9160      90909090 
 9160      90909090 
 9160      90909090 
 9160      90909090 
 9161              	LC147:
 9162 5b40 6F626A63 		.ascii "objcopy -I binary -O elf32-little --rename-section .data=.rdata --set-section-flags .data=
 9162      6F707920 
 9162      2D492062 
 9162      696E6172 
 9162      79202D4F 
 9163              	LC148:
 9164 5c03 76665F25 		.ascii "vf_%d.obj\0"
 9164      642E6F62 
 9164      6A00
 9165              	LC149:
 9166 5c0d 722B6200 		.ascii "r+b\0"
 9167              	LC150:
 9168 5c11 5B466F6E 		.ascii "[Font]section offset = [%d]\12\0"
 9168      745D7365 
 9168      6374696F 
 9168      6E206F66 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 195


 9168      66736574 
 9169 5c2e 90909090 		.align 32
 9169      90909090 
 9169      90909090 
 9169      90909090 
 9169      9090
 9170              	LC151:
 9171 5c40 706C7574 		.ascii "plutommi\\Customer\\ResGenerator\\vf_%d.obj\12\0"
 9171      6F6D6D69 
 9171      5C437573 
 9171      746F6D65 
 9171      725C5265 
 9172 5c6a 90909090 		.align 32
 9172      90909090 
 9172      90909090 
 9172      90909090 
 9172      90909090 
 9173              	LC152:
 9174 5c80 706C7574 		.ascii "plutommi\\Customer\\ResGenerator\\modis_vf_%d.obj\12\0"
 9174      6F6D6D69 
 9174      5C437573 
 9174      746F6D65 
 9174      725C5265 
 9175              	LC153:
 9176 5cb0 65787465 		.ascii "extern const U8 %s[];\12\0"
 9176      726E2063 
 9176      6F6E7374 
 9176      20553820 
 9176      25735B5D 
 9179              	.globl _Fload
 9181              	_Fload:
3064:../../MMI/Resource/WriteImgRes.c **** 
3065:../../MMI/Resource/WriteImgRes.c **** 
3066:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3067:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3068:../../MMI/Resource/WriteImgRes.c ****  *  Fload
3069:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3070:../../MMI/Resource/WriteImgRes.c ****  *  load the file image to buffer and writes to CustImgRes.c, etc.
3071:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3072:../../MMI/Resource/WriteImgRes.c ****  *  string      [IN]        string containing file name and path
3073:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3074:../../MMI/Resource/WriteImgRes.c ****  *  MMI_BOOL
3075:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3076:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL Fload(S8 *string)
3077:../../MMI/Resource/WriteImgRes.c **** {
 9183              	LM758:
 9184 5cc7 55       		pushl	%ebp
 9185 5cc8 89E5     		movl	%esp, %ebp
 9186 5cca B8A81800 		movl	$6312, %eax
 9186      00
 9187 5ccf E8000000 		call	__alloca
 9187      00
3078:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3079:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3080:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3081:../../MMI/Resource/WriteImgRes.c ****     FILE *image_data_file = NULL;
 9189              	LM759:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 196


 9190              	LBB63:
 9191 5cd4 C745F400 		movl	$0, -12(%ebp)
 9191      000000
3082:../../MMI/Resource/WriteImgRes.c ****     S32 i;
3083:../../MMI/Resource/WriteImgRes.c ****     S8 tempCommand[SHELL_CMD_BUFLEN];
3084:../../MMI/Resource/WriteImgRes.c ****     U8 image_identifier = IMAGE_TYPE_TTF;
 9193              	LM760:
 9194 5cdb C68577FD 		movb	$73, -649(%ebp)
 9194      FFFF49
3085:../../MMI/Resource/WriteImgRes.c ****     U32 file_size;
3086:../../MMI/Resource/WriteImgRes.c ****     U8 ch;
3087:../../MMI/Resource/WriteImgRes.c ****     S8 * output_image_names = NULL;
 9196              	LM761:
 9197 5ce2 C78568FD 		movl	$0, -664(%ebp)
 9197      FFFF0000 
 9197      0000
3088:../../MMI/Resource/WriteImgRes.c ****     S8 filename_buffer[BUFFER_SIZE];
3089:../../MMI/Resource/WriteImgRes.c ****     S8 *real_filename = NULL;
 9199              	LM762:
 9200 5cec C78564ED 		movl	$0, -4764(%ebp)
 9200      FFFF0000 
 9200      0000
3090:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3091:../../MMI/Resource/WriteImgRes.c ****     U32 enfb_width, enfb_height;
3092:../../MMI/Resource/WriteImgRes.c ****     S32 enfb_ret;
3093:../../MMI/Resource/WriteImgRes.c ****     int enfb_flag = 0;
3094:../../MMI/Resource/WriteImgRes.c ****     int disable_enfb = 0;
3095:../../MMI/Resource/WriteImgRes.c **** #endif
3096:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
3097:../../MMI/Resource/WriteImgRes.c ****     static U8 count = 0;
3098:../../MMI/Resource/WriteImgRes.c ****     static U32 offset = 0;
3099:../../MMI/Resource/WriteImgRes.c **** #endif
3100:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3101:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3102:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3103:../../MMI/Resource/WriteImgRes.c **** 
3104:../../MMI/Resource/WriteImgRes.c ****     /* set output variable name of the resource */
3105:../../MMI/Resource/WriteImgRes.c ****     output_image_names = (S8*) malloc(MAX_FILENAME_LEN);
 9202              	LM763:
 9203 5cf6 C7042400 		movl	$512, (%esp)
 9203      020000
 9204 5cfd E8000000 		call	_malloc
 9204      00
 9205 5d02 898568FD 		movl	%eax, -664(%ebp)
 9205      FFFF
3106:../../MMI/Resource/WriteImgRes.c ****     strcpy(filename_buffer, string);
 9207              	LM764:
 9208 5d08 8B4508   		movl	8(%ebp), %eax
 9209 5d0b 89442404 		movl	%eax, 4(%esp)
 9210 5d0f 8D8568ED 		leal	-4760(%ebp), %eax
 9210      FFFF
 9211 5d15 890424   		movl	%eax, (%esp)
 9212 5d18 E8000000 		call	_strcpy
 9212      00
3107:../../MMI/Resource/WriteImgRes.c ****     if (!(strcmp(filename_buffer, "")))
 9214              	LM765:
 9215 5d1d C7442404 		movl	$LC31, 4(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 197


 9215      12060000 
 9216 5d25 8D8568ED 		leal	-4760(%ebp), %eax
 9216      FFFF
 9217 5d2b 890424   		movl	%eax, (%esp)
 9218 5d2e E8000000 		call	_strcmp
 9218      00
 9219 5d33 85C0     		testl	%eax, %eax
 9220 5d35 7516     		jne	L422
3108:../../MMI/Resource/WriteImgRes.c ****     {
3109:../../MMI/Resource/WriteImgRes.c ****         strcpy(filename_buffer, NOIMAGE_FILENAMEBUFFER);
 9222              	LM766:
 9223 5d37 C7442404 		movl	$LC32, 4(%esp)
 9223      20060000 
 9224 5d3f 8D8568ED 		leal	-4760(%ebp), %eax
 9224      FFFF
 9225 5d45 890424   		movl	%eax, (%esp)
 9226 5d48 E8000000 		call	_strcpy
 9226      00
 9227              	L422:
3110:../../MMI/Resource/WriteImgRes.c ****     }
3111:../../MMI/Resource/WriteImgRes.c ****     Extract_Name(output_image_names, filename_buffer, EXT_FONT);
 9229              	LM767:
 9230 5d4d C7442408 		movl	$3, 8(%esp)
 9230      03000000 
 9231 5d55 8D8568ED 		leal	-4760(%ebp), %eax
 9231      FFFF
 9232 5d5b 89442404 		movl	%eax, 4(%esp)
 9233 5d5f 8B8568FD 		movl	-664(%ebp), %eax
 9233      FFFF
 9234 5d65 890424   		movl	%eax, (%esp)
 9235 5d68 E8000000 		call	_Extract_Name
 9235      00
3112:../../MMI/Resource/WriteImgRes.c **** 
3113:../../MMI/Resource/WriteImgRes.c ****     real_filename = filename_buffer;
 9237              	LM768:
 9238 5d6d 8D8568ED 		leal	-4760(%ebp), %eax
 9238      FFFF
 9239 5d73 898564ED 		movl	%eax, -4764(%ebp)
 9239      FFFF
3114:../../MMI/Resource/WriteImgRes.c **** 
3115:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3116:../../MMI/Resource/WriteImgRes.c ****     enfb_ret = Image_Test(filename_buffer, &enfb_width, &enfb_height, disable_enfb);
3117:../../MMI/Resource/WriteImgRes.c ****     if (enfb_ret != ENFB_IMAGE_NONE)
3118:../../MMI/Resource/WriteImgRes.c ****     {
3119:../../MMI/Resource/WriteImgRes.c ****         enfb_flag = 1;
3120:../../MMI/Resource/WriteImgRes.c ****         if (enfb_ret == ENFB_IMAGE_ASSOCIATE)
3121:../../MMI/Resource/WriteImgRes.c ****         {
3122:../../MMI/Resource/WriteImgRes.c ****             ENFBAssociatedIDAdded = MMI_TRUE;
3123:../../MMI/Resource/WriteImgRes.c ****         }
3124:../../MMI/Resource/WriteImgRes.c ****     }
3125:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_RESOURCE_ENFB_SUPPORT__ */
3126:../../MMI/Resource/WriteImgRes.c **** 
3127:../../MMI/Resource/WriteImgRes.c ****     image_data_file = fopen(filename_buffer, "rb");
 9241              	LM769:
 9242 5d79 C7442404 		movl	$LC58, 4(%esp)
 9242      F30C0000 
 9243 5d81 8D8568ED 		leal	-4760(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 198


 9243      FFFF
 9244 5d87 890424   		movl	%eax, (%esp)
 9245 5d8a E8000000 		call	_fopen
 9245      00
 9246 5d8f 8945F4   		movl	%eax, -12(%ebp)
3128:../../MMI/Resource/WriteImgRes.c **** 
3129:../../MMI/Resource/WriteImgRes.c ****     /* Check if file open is successful or not. */
3130:../../MMI/Resource/WriteImgRes.c ****     if(image_data_file == NULL)
 9248              	LM770:
 9249 5d92 837DF400 		cmpl	$0, -12(%ebp)
 9250 5d96 750F     		jne	L423
3131:../../MMI/Resource/WriteImgRes.c ****     {    
3132:../../MMI/Resource/WriteImgRes.c ****         return MMI_FALSE;
 9252              	LM771:
 9253 5d98 C78590E7 		movl	$0, -6256(%ebp)
 9253      FFFF0000 
 9253      0000
 9254 5da2 E96C0600 		jmp	L421
 9254      00
 9255              	L423:
3133:../../MMI/Resource/WriteImgRes.c ****     }
3134:../../MMI/Resource/WriteImgRes.c ****     
3135:../../MMI/Resource/WriteImgRes.c ****     fseek(image_data_file, 0, SEEK_END);
 9257              	LM772:
 9258 5da7 C7442408 		movl	$2, 8(%esp)
 9258      02000000 
 9259 5daf C7442404 		movl	$0, 4(%esp)
 9259      00000000 
 9260 5db7 8B45F4   		movl	-12(%ebp), %eax
 9261 5dba 890424   		movl	%eax, (%esp)
 9262 5dbd E8000000 		call	_fseek
 9262      00
3136:../../MMI/Resource/WriteImgRes.c ****     file_size = ftell(image_data_file);
 9264              	LM773:
 9265 5dc2 8B45F4   		movl	-12(%ebp), %eax
 9266 5dc5 890424   		movl	%eax, (%esp)
 9267 5dc8 E8000000 		call	_ftell
 9267      00
 9268 5dcd 898570FD 		movl	%eax, -656(%ebp)
 9268      FFFF
3137:../../MMI/Resource/WriteImgRes.c ****     fseek(image_data_file, 0, SEEK_SET);
 9270              	LM774:
 9271 5dd3 C7442408 		movl	$0, 8(%esp)
 9271      00000000 
 9272 5ddb C7442404 		movl	$0, 4(%esp)
 9272      00000000 
 9273 5de3 8B45F4   		movl	-12(%ebp), %eax
 9274 5de6 890424   		movl	%eax, (%esp)
 9275 5de9 E8000000 		call	_fseek
 9275      00
3138:../../MMI/Resource/WriteImgRes.c **** 
3139:../../MMI/Resource/WriteImgRes.c ****     if (toolFlag)
 9277              	LM775:
 9278 5dee 833D0000 		cmpl	$0, _toolFlag
 9278      000000
 9279 5df5 0F84D500 		je	L424
 9279      0000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 199


3140:../../MMI/Resource/WriteImgRes.c ****     {
3141:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 9281              	LM776:
 9282 5dfb 8B8570FD 		movl	-656(%ebp), %eax
 9282      FFFF
 9283 5e01 25000000 		andl	$-16777216, %eax
 9283      FF
 9284 5e06 C1E818   		shrl	$24, %eax
 9285 5e09 89442424 		movl	%eax, 36(%esp)
 9286 5e0d 8B8570FD 		movl	-656(%ebp), %eax
 9286      FFFF
 9287 5e13 250000FF 		andl	$16711680, %eax
 9287      00
 9288 5e18 C1E810   		shrl	$16, %eax
 9289 5e1b 89442420 		movl	%eax, 32(%esp)
 9290 5e1f 8B8570FD 		movl	-656(%ebp), %eax
 9290      FFFF
 9291 5e25 2500FF00 		andl	$65280, %eax
 9291      00
 9292 5e2a C1E808   		shrl	$8, %eax
 9293 5e2d 8944241C 		movl	%eax, 28(%esp)
 9294 5e31 0FB68570 		movzbl	-656(%ebp),%eax
 9294      FDFFFF
 9295 5e38 89442418 		movl	%eax, 24(%esp)
 9296 5e3c A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9296      00
 9297 5e41 250000FF 		andl	$16711680, %eax
 9297      00
 9298 5e46 C1E810   		shrl	$16, %eax
 9299 5e49 89442414 		movl	%eax, 20(%esp)
 9300 5e4d A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9300      00
 9301 5e52 2500FF00 		andl	$65280, %eax
 9301      00
 9302 5e57 C1E808   		shrl	$8, %eax
 9303 5e5a 89442410 		movl	%eax, 16(%esp)
 9304 5e5e 0FB60520 		movzbl	_g_mmi_res_font_userdata,%eax
 9304      000000
 9305 5e65 8944240C 		movl	%eax, 12(%esp)
 9306 5e69 0FB68577 		movzbl	-649(%ebp), %eax
 9306      FDFFFF
 9307 5e70 89442408 		movl	%eax, 8(%esp)
 9308 5e74 C7442404 		movl	$LC84, 4(%esp)
 9308      B4280000 
 9309 5e7c A1000000 		movl	_dest_file, %eax
 9309      00
 9310 5e81 890424   		movl	%eax, (%esp)
 9311 5e84 E8000000 		call	_fprintf
 9311      00
3142:../../MMI/Resource/WriteImgRes.c ****             dest_file,
3143:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
3144:../../MMI/Resource/WriteImgRes.c ****             image_identifier,
3145:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3146:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3147:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3148:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
3149:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 200


3150:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
3151:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24);
3152:../../MMI/Resource/WriteImgRes.c **** 
3153:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
 9313              	LM777:
 9314 5e89 C745F000 		movl	$0, -16(%ebp)
 9314      000000
 9315              	L425:
 9316 5e90 8B45F0   		movl	-16(%ebp), %eax
 9317 5e93 3B8570FD 		cmpl	-656(%ebp), %eax
 9317      FFFF
 9318 5e99 7205     		jb	L428
 9319 5e9b E9430500 		jmp	L429
 9319      00
 9320              	L428:
3154:../../MMI/Resource/WriteImgRes.c ****         {
3155:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
 9322              	LM778:
 9323 5ea0 8B45F4   		movl	-12(%ebp), %eax
 9324 5ea3 890424   		movl	%eax, (%esp)
 9325 5ea6 E8000000 		call	_fgetc
 9325      00
 9326 5eab 88856FFD 		movb	%al, -657(%ebp)
 9326      FFFF
3156:../../MMI/Resource/WriteImgRes.c **** 
3157:../../MMI/Resource/WriteImgRes.c ****             fputc(ch, dest_file);
 9328              	LM779:
 9329 5eb1 A1000000 		movl	_dest_file, %eax
 9329      00
 9330 5eb6 89442404 		movl	%eax, 4(%esp)
 9331 5eba 0FB6856F 		movzbl	-657(%ebp), %eax
 9331      FDFFFF
 9332 5ec1 890424   		movl	%eax, (%esp)
 9333 5ec4 E8000000 		call	_fputc
 9333      00
 9335              	LM780:
 9336 5ec9 8D45F0   		leal	-16(%ebp), %eax
 9337 5ecc FF00     		incl	(%eax)
 9338 5ece EBC0     		jmp	L425
 9339              	L424:
3158:../../MMI/Resource/WriteImgRes.c ****         }
3159:../../MMI/Resource/WriteImgRes.c ****     }
3160:../../MMI/Resource/WriteImgRes.c **** 
3161:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_FONT_THIRD_ROM_SUPPORT__
3162:../../MMI/Resource/WriteImgRes.c ****     else if(g_mmi_res_font_flags & MMI_RES_FLAG_FONT_IS_ENFB)
3163:../../MMI/Resource/WriteImgRes.c ****     {
3164:../../MMI/Resource/WriteImgRes.c ****         
3165:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
3166:../../MMI/Resource/WriteImgRes.c ****         {
3167:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
3168:../../MMI/Resource/WriteImgRes.c ****             fputc(ch, enfb_font_data_file);
3169:../../MMI/Resource/WriteImgRes.c ****         }
3170:../../MMI/Resource/WriteImgRes.c **** 
3171:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].offset = offset;
3172:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].size = file_size;
3173:../../MMI/Resource/WriteImgRes.c ****         ENFBFontResInfo[count].res_id = ++count;
3174:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 201


3175:../../MMI/Resource/WriteImgRes.c ****         offset += file_size;
3176:../../MMI/Resource/WriteImgRes.c ****     }
3177:../../MMI/Resource/WriteImgRes.c **** #endif
3178:../../MMI/Resource/WriteImgRes.c **** 
3179:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3180:../../MMI/Resource/WriteImgRes.c ****     else if (enfb_flag == 1) /* write ENFB header to CustFontDataxxx.h and Font header/data to ENFB
3181:../../MMI/Resource/WriteImgRes.c ****     {
3182:../../MMI/Resource/WriteImgRes.c ****         /* write Font header to ENFB Data File */
3183:../../MMI/Resource/WriteImgRes.c ****         fprintf(
3184:../../MMI/Resource/WriteImgRes.c ****             enfb_img_data_file,
3185:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
3186:../../MMI/Resource/WriteImgRes.c ****             image_identifier,
3187:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3188:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3189:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3190:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff),
3191:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff00) >> 8,
3192:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff0000) >> 16,
3193:../../MMI/Resource/WriteImgRes.c ****             (file_size & 0xff000000) >> 24);
3194:../../MMI/Resource/WriteImgRes.c ****         enfb_size = 8 + file_size;
3195:../../MMI/Resource/WriteImgRes.c **** 
3196:../../MMI/Resource/WriteImgRes.c ****         /* write ENFB header to CustImgDataxxx.h */
3197:../../MMI/Resource/WriteImgRes.c **** 
3198:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "const U8 %s%s", output_image_names, OUTPUT_IMAGE_NAMES_END);
3199:../../MMI/Resource/WriteImgRes.c **** 
3200:../../MMI/Resource/WriteImgRes.c ****         fprintf(
3201:../../MMI/Resource/WriteImgRes.c ****             font_data_file,
3202:../../MMI/Resource/WriteImgRes.c ****             "\n\t0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x%02X, 0x
3203:../../MMI/Resource/WriteImgRes.c ****             (U8) 255,                   //type
3204:../../MMI/Resource/WriteImgRes.c ****             (U8) ENFBAssociatedIDAdded, //associated id
3205:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
3206:../../MMI/Resource/WriteImgRes.c ****             (U8) 0,                     //reserved
3207:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_offset & 0xff),
3208:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 8) & 0xff),
3209:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 16) & 0xff),
3210:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_offset >> 24) & 0xff),
3211:../../MMI/Resource/WriteImgRes.c ****             (U8) (enfb_size & 0xff),
3212:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 8) & 0xff),
3213:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 16) & 0xff),
3214:../../MMI/Resource/WriteImgRes.c ****             (U8) ((enfb_size >> 24) & 0xff));
3215:../../MMI/Resource/WriteImgRes.c **** 
3216:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "\n };\n");
3217:../../MMI/Resource/WriteImgRes.c **** 
3218:../../MMI/Resource/WriteImgRes.c ****         enfb_offset += enfb_size;
3219:../../MMI/Resource/WriteImgRes.c **** 
3220:../../MMI/Resource/WriteImgRes.c **** 
3221:../../MMI/Resource/WriteImgRes.c ****         for (i = 0; i < file_size; i++)
3222:../../MMI/Resource/WriteImgRes.c ****         {
3223:../../MMI/Resource/WriteImgRes.c ****             ch = fgetc(image_data_file);
3224:../../MMI/Resource/WriteImgRes.c **** 
3225:../../MMI/Resource/WriteImgRes.c ****             if (toolFlag)
3226:../../MMI/Resource/WriteImgRes.c ****             {
3227:../../MMI/Resource/WriteImgRes.c ****                 fputc(ch, dest_file);
3228:../../MMI/Resource/WriteImgRes.c ****             }
3229:../../MMI/Resource/WriteImgRes.c **** 
3230:../../MMI/Resource/WriteImgRes.c ****         #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3231:../../MMI/Resource/WriteImgRes.c ****             /* write image data to ENFB image data file */
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 202


3232:../../MMI/Resource/WriteImgRes.c ****             else if (enfb_flag == 1)
3233:../../MMI/Resource/WriteImgRes.c ****             {
3234:../../MMI/Resource/WriteImgRes.c ****                 fputc(ch, enfb_img_data_file);
3235:../../MMI/Resource/WriteImgRes.c ****             }
3236:../../MMI/Resource/WriteImgRes.c ****         #endif
3237:../../MMI/Resource/WriteImgRes.c **** 
3238:../../MMI/Resource/WriteImgRes.c ****             else
3239:../../MMI/Resource/WriteImgRes.c ****             {
3240:../../MMI/Resource/WriteImgRes.c ****                 /* Err, only handle ENFB in this function. */
3241:../../MMI/Resource/WriteImgRes.c ****                 fprintf(stderr, "Err, only handle ENFB in this function\n");
3242:../../MMI/Resource/WriteImgRes.c ****                 RESIMG_LOG_E("Err, only handle ENFB in this function\n");  				
3243:../../MMI/Resource/WriteImgRes.c ****                 assert(0);
3244:../../MMI/Resource/WriteImgRes.c ****                 exit(2);
3245:../../MMI/Resource/WriteImgRes.c ****             }
3246:../../MMI/Resource/WriteImgRes.c ****         }
3247:../../MMI/Resource/WriteImgRes.c ****     }
3248:../../MMI/Resource/WriteImgRes.c **** #endif
3249:../../MMI/Resource/WriteImgRes.c **** 
3250:../../MMI/Resource/WriteImgRes.c ****     else
3251:../../MMI/Resource/WriteImgRes.c ****     {
3252:../../MMI/Resource/WriteImgRes.c ****         /* Handle Vector Font */
3253:../../MMI/Resource/WriteImgRes.c ****         /* convert font data to obj file */
3254:../../MMI/Resource/WriteImgRes.c ****         S8 tempCommand[SHELL_CMD_BUFLEN*2];
3255:../../MMI/Resource/WriteImgRes.c ****         FILE *font_obj_file = NULL;
 9341              	LM781:
 9342              	LBB64:
 9343 5ed0 C78584E8 		movl	$0, -6012(%ebp)
 9343      FFFF0000 
 9343      0000
3256:../../MMI/Resource/WriteImgRes.c ****         FILE *font_org_file = NULL;
 9345              	LM782:
 9346 5eda C78580E8 		movl	$0, -6016(%ebp)
 9346      FFFF0000 
 9346      0000
3257:../../MMI/Resource/WriteImgRes.c ****         S32 section_offset = 0;
 9348              	LM783:
 9349 5ee4 C7857CE8 		movl	$0, -6020(%ebp)
 9349      FFFF0000 
 9349      0000
3258:../../MMI/Resource/WriteImgRes.c ****         U32 size = 0;
 9351              	LM784:
 9352 5eee C78578E8 		movl	$0, -6024(%ebp)
 9352      FFFF0000 
 9352      0000
3259:../../MMI/Resource/WriteImgRes.c ****         U16 nType = 0;
 9354              	LM785:
 9355 5ef8 66C78576 		movw	$0, -6026(%ebp)
 9355      E8FFFF00 
 9355      00
3260:../../MMI/Resource/WriteImgRes.c **** 
3261:../../MMI/Resource/WriteImgRes.c ****         nType = ExtractExtension(filename_buffer, RES_FONT);
 9357              	LM786:
 9358 5f01 C7442404 		movl	$4, 4(%esp)
 9358      04000000 
 9359 5f09 8D8568ED 		leal	-4760(%ebp), %eax
 9359      FFFF
 9360 5f0f 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 203


 9361 5f12 E8000000 		call	_ExtractExtension
 9361      00
 9362 5f17 660FB6C0 		movzbw	%al, %ax
 9363 5f1b 66898576 		movw	%ax, -6026(%ebp)
 9363      E8FFFF
3262:../../MMI/Resource/WriteImgRes.c **** 
3263:../../MMI/Resource/WriteImgRes.c **** 
3264:../../MMI/Resource/WriteImgRes.c ****         /* Write temp ttf file with header */
3265:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "vf_%d.tmp", g_mmi_res_font_id);
 9365              	LM787:
 9366 5f22 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9366      000000
 9367 5f29 89442408 		movl	%eax, 8(%esp)
 9368 5f2d C7442404 		movl	$LC143, 4(%esp)
 9368      FA590000 
 9369 5f35 8D8588E8 		leal	-6008(%ebp), %eax
 9369      FFFF
 9370 5f3b 890424   		movl	%eax, (%esp)
 9371 5f3e E8000000 		call	_sprintf
 9371      00
3266:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = fopen(tempCommand, "w+b");
 9373              	LM788:
 9374 5f43 C7442404 		movl	$LC144, 4(%esp)
 9374      045A0000 
 9375 5f4b 8D8588E8 		leal	-6008(%ebp), %eax
 9375      FFFF
 9376 5f51 890424   		movl	%eax, (%esp)
 9377 5f54 E8000000 		call	_fopen
 9377      00
 9378 5f59 898584E8 		movl	%eax, -6012(%ebp)
 9378      FFFF
3267:../../MMI/Resource/WriteImgRes.c ****         ASSERT(font_obj_file != NULL);
 9380              	LM789:
 9381 5f5f 83BD84E8 		cmpl	$0, -6012(%ebp)
 9381      FFFF00
 9382 5f66 7502     		jne	L434
 9383              	L431:
 9384 5f68 EBFE     		jmp	L431
 9385              	L434:
3268:../../MMI/Resource/WriteImgRes.c ****         font_org_file = fopen(real_filename, "rb");
 9387              	LM790:
 9388 5f6a C7442404 		movl	$LC58, 4(%esp)
 9388      F30C0000 
 9389 5f72 8B8564ED 		movl	-4764(%ebp), %eax
 9389      FFFF
 9390 5f78 890424   		movl	%eax, (%esp)
 9391 5f7b E8000000 		call	_fopen
 9391      00
 9392 5f80 898580E8 		movl	%eax, -6016(%ebp)
 9392      FFFF
3269:../../MMI/Resource/WriteImgRes.c ****         ASSERT(font_org_file != NULL);
 9394              	LM791:
 9395 5f86 83BD80E8 		cmpl	$0, -6016(%ebp)
 9395      FFFF00
 9396 5f8d 7502     		jne	L439
 9397              	L436:
 9398 5f8f EBFE     		jmp	L436
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 204


 9399              	L439:
3270:../../MMI/Resource/WriteImgRes.c **** 
3271:../../MMI/Resource/WriteImgRes.c ****         fseek(font_org_file, 0, SEEK_END);
 9401              	LM792:
 9402 5f91 C7442408 		movl	$2, 8(%esp)
 9402      02000000 
 9403 5f99 C7442404 		movl	$0, 4(%esp)
 9403      00000000 
 9404 5fa1 8B8580E8 		movl	-6016(%ebp), %eax
 9404      FFFF
 9405 5fa7 890424   		movl	%eax, (%esp)
 9406 5faa E8000000 		call	_fseek
 9406      00
3272:../../MMI/Resource/WriteImgRes.c ****         size = ftell(font_org_file);
 9408              	LM793:
 9409 5faf 8B8580E8 		movl	-6016(%ebp), %eax
 9409      FFFF
 9410 5fb5 890424   		movl	%eax, (%esp)
 9411 5fb8 E8000000 		call	_ftell
 9411      00
 9412 5fbd 898578E8 		movl	%eax, -6024(%ebp)
 9412      FFFF
3273:../../MMI/Resource/WriteImgRes.c ****         fseek(font_org_file, 0, SEEK_SET);
 9414              	LM794:
 9415 5fc3 C7442408 		movl	$0, 8(%esp)
 9415      00000000 
 9416 5fcb C7442404 		movl	$0, 4(%esp)
 9416      00000000 
 9417 5fd3 8B8580E8 		movl	-6016(%ebp), %eax
 9417      FFFF
 9418 5fd9 890424   		movl	%eax, (%esp)
 9419 5fdc E8000000 		call	_fseek
 9419      00
3274:../../MMI/Resource/WriteImgRes.c **** 
3275:../../MMI/Resource/WriteImgRes.c ****         fprintf(
 9421              	LM795:
 9422 5fe1 8B8578E8 		movl	-6024(%ebp), %eax
 9422      FFFF
 9423 5fe7 25000000 		andl	$-16777216, %eax
 9423      FF
 9424 5fec C1E818   		shrl	$24, %eax
 9425 5fef 89442424 		movl	%eax, 36(%esp)
 9426 5ff3 8B8578E8 		movl	-6024(%ebp), %eax
 9426      FFFF
 9427 5ff9 250000FF 		andl	$16711680, %eax
 9427      00
 9428 5ffe C1E810   		shrl	$16, %eax
 9429 6001 89442420 		movl	%eax, 32(%esp)
 9430 6005 8B8578E8 		movl	-6024(%ebp), %eax
 9430      FFFF
 9431 600b 2500FF00 		andl	$65280, %eax
 9431      00
 9432 6010 C1E808   		shrl	$8, %eax
 9433 6013 8944241C 		movl	%eax, 28(%esp)
 9434 6017 0FB68578 		movzbl	-6024(%ebp),%eax
 9434      E8FFFF
 9435 601e 89442418 		movl	%eax, 24(%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 205


 9436 6022 A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9436      00
 9437 6027 250000FF 		andl	$16711680, %eax
 9437      00
 9438 602c C1E810   		shrl	$16, %eax
 9439 602f 89442414 		movl	%eax, 20(%esp)
 9440 6033 A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9440      00
 9441 6038 2500FF00 		andl	$65280, %eax
 9441      00
 9442 603d C1E808   		shrl	$8, %eax
 9443 6040 89442410 		movl	%eax, 16(%esp)
 9444 6044 0FB60520 		movzbl	_g_mmi_res_font_userdata,%eax
 9444      000000
 9445 604b 8944240C 		movl	%eax, 12(%esp)
 9446 604f 0FB78576 		movzwl	-6026(%ebp), %eax
 9446      E8FFFF
 9447 6056 89442408 		movl	%eax, 8(%esp)
 9448 605a C7442404 		movl	$LC84, 4(%esp)
 9448      B4280000 
 9449 6062 8B8584E8 		movl	-6012(%ebp), %eax
 9449      FFFF
 9450 6068 890424   		movl	%eax, (%esp)
 9451 606b E8000000 		call	_fprintf
 9451      00
3276:../../MMI/Resource/WriteImgRes.c ****             font_obj_file,
3277:../../MMI/Resource/WriteImgRes.c ****             "%c%c%c%c%c%c%c%c",
3278:../../MMI/Resource/WriteImgRes.c ****             nType,
3279:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff),
3280:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff00) >> 8,
3281:../../MMI/Resource/WriteImgRes.c ****             (g_mmi_res_font_userdata & 0xff0000) >> 16,
3282:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff),
3283:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff00) >> 8,
3284:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff0000) >> 16,
3285:../../MMI/Resource/WriteImgRes.c ****             (size & 0xff000000) >> 24);
3286:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("[Font]Type=[%d], g_mmi_res_font_userdata=[%d], size=[%d]\n", nType, g_mmi_r
 9453              	LM796:
 9454 6070 8B8578E8 		movl	-6024(%ebp), %eax
 9454      FFFF
 9455 6076 8944240C 		movl	%eax, 12(%esp)
 9456 607a A1200000 		movl	_g_mmi_res_font_userdata, %eax
 9456      00
 9457 607f 89442408 		movl	%eax, 8(%esp)
 9458 6083 0FB78576 		movzwl	-6026(%ebp), %eax
 9458      E8FFFF
 9459 608a 89442404 		movl	%eax, 4(%esp)
 9460 608e C7042420 		movl	$LC145, (%esp)
 9460      5A0000
 9461 6095 E8000000 		call	_MtkResgenTrace
 9461      00
3287:../../MMI/Resource/WriteImgRes.c **** 
3288:../../MMI/Resource/WriteImgRes.c ****         while (!feof(font_org_file))
 9463              	LM797:
 9464              	L440:
 9465 609a 8B8580E8 		movl	-6016(%ebp), %eax
 9465      FFFF
 9466 60a0 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 206


 9467 60a3 E8000000 		call	_feof
 9467      00
 9468 60a8 85C0     		testl	%eax, %eax
 9469 60aa 7402     		je	L442
 9470 60ac EB63     		jmp	L441
 9471              	L442:
3289:../../MMI/Resource/WriteImgRes.c ****         {
3290:../../MMI/Resource/WriteImgRes.c ****             S8 buffer[200];
3291:../../MMI/Resource/WriteImgRes.c ****             size_t size;
3292:../../MMI/Resource/WriteImgRes.c **** 
3293:../../MMI/Resource/WriteImgRes.c ****             size = fread(buffer, 1, 200, font_org_file);
 9473              	LM798:
 9474              	LBB65:
 9475 60ae 8B8580E8 		movl	-6016(%ebp), %eax
 9475      FFFF
 9476 60b4 8944240C 		movl	%eax, 12(%esp)
 9477 60b8 C7442408 		movl	$200, 8(%esp)
 9477      C8000000 
 9478 60c0 C7442404 		movl	$1, 4(%esp)
 9478      01000000 
 9479 60c8 8D8598E7 		leal	-6248(%ebp), %eax
 9479      FFFF
 9480 60ce 890424   		movl	%eax, (%esp)
 9481 60d1 E8000000 		call	_fread
 9481      00
 9482 60d6 898594E7 		movl	%eax, -6252(%ebp)
 9482      FFFF
3294:../../MMI/Resource/WriteImgRes.c ****             if (size)
 9484              	LM799:
 9485 60dc 83BD94E7 		cmpl	$0, -6252(%ebp)
 9485      FFFF00
 9486 60e3 74B5     		je	L440
3295:../../MMI/Resource/WriteImgRes.c ****             {
3296:../../MMI/Resource/WriteImgRes.c ****                 fwrite(buffer, 1, size, font_obj_file);
 9488              	LM800:
 9489 60e5 8B8584E8 		movl	-6012(%ebp), %eax
 9489      FFFF
 9490 60eb 8944240C 		movl	%eax, 12(%esp)
 9491 60ef 8B8594E7 		movl	-6252(%ebp), %eax
 9491      FFFF
 9492 60f5 89442408 		movl	%eax, 8(%esp)
 9493 60f9 C7442404 		movl	$1, 4(%esp)
 9493      01000000 
 9494 6101 8D8598E7 		leal	-6248(%ebp), %eax
 9494      FFFF
 9495 6107 890424   		movl	%eax, (%esp)
 9496 610a E8000000 		call	_fwrite
 9496      00
 9497              	LBE65:
 9498 610f EB89     		jmp	L440
 9499              	L441:
3297:../../MMI/Resource/WriteImgRes.c ****             }
3298:../../MMI/Resource/WriteImgRes.c ****         }
3299:../../MMI/Resource/WriteImgRes.c **** 
3300:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(font_obj_file);
 9501              	LM801:
 9502 6111 83BD84E8 		cmpl	$0, -6012(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 207


 9502      FFFF00
 9503 6118 7418     		je	L444
 9504 611a 8B8584E8 		movl	-6012(%ebp), %eax
 9504      FFFF
 9505 6120 890424   		movl	%eax, (%esp)
 9506 6123 E8000000 		call	_fclose
 9506      00
 9507 6128 C78584E8 		movl	$0, -6012(%ebp)
 9507      FFFF0000 
 9507      0000
 9508              	L444:
3301:../../MMI/Resource/WriteImgRes.c ****         MYFCLOSE(font_org_file);
 9510              	LM802:
 9511 6132 83BD80E8 		cmpl	$0, -6016(%ebp)
 9511      FFFF00
 9512 6139 7418     		je	L446
 9513 613b 8B8580E8 		movl	-6016(%ebp), %eax
 9513      FFFF
 9514 6141 890424   		movl	%eax, (%esp)
 9515 6144 E8000000 		call	_fclose
 9515      00
 9516 6149 C78580E8 		movl	$0, -6016(%ebp)
 9516      FFFF0000 
 9516      0000
 9517              	L446:
3302:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = NULL;
 9519              	LM803:
 9520 6153 C78584E8 		movl	$0, -6012(%ebp)
 9520      FFFF0000 
 9520      0000
3303:../../MMI/Resource/WriteImgRes.c ****         font_org_file = NULL;
 9522              	LM804:
 9523 615d C78580E8 		movl	$0, -6016(%ebp)
 9523      FFFF0000 
 9523      0000
3304:../../MMI/Resource/WriteImgRes.c **** 
3305:../../MMI/Resource/WriteImgRes.c **** 
3306:../../MMI/Resource/WriteImgRes.c ****         /* Get name gen by objcopy */
3307:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "objcopy -I binary -O pe-i386 --rename-section .data=.rdata --set-sect
 9525              	LM805:
 9526 6167 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9526      000000
 9527 616e 89442414 		movl	%eax, 20(%esp)
 9528 6172 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9528      000000
 9529 6179 89442410 		movl	%eax, 16(%esp)
 9530 617d 8B8568FD 		movl	-664(%ebp), %eax
 9530      FFFF
 9531 6183 8944240C 		movl	%eax, 12(%esp)
 9532 6187 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9532      000000
 9533 618e 89442408 		movl	%eax, 8(%esp)
 9534 6192 C7442404 		movl	$LC146, 4(%esp)
 9534      605A0000 
 9535 619a 8D8588E8 		leal	-6008(%ebp), %eax
 9535      FFFF
 9536 61a0 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 208


 9537 61a3 E8000000 		call	_sprintf
 9537      00
3308:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("%s\n", tempCommand);
 9539              	LM806:
 9540 61a8 8D8588E8 		leal	-6008(%ebp), %eax
 9540      FFFF
 9541 61ae 89442404 		movl	%eax, 4(%esp)
 9542 61b2 C7042449 		movl	$LC52, (%esp)
 9542      0C0000
 9543 61b9 E8000000 		call	_MtkResgenTrace
 9543      00
3309:../../MMI/Resource/WriteImgRes.c ****         ASSERT(SHELL_CMD_BUFLEN*2 > strlen(tempCommand));
 9545              	LM807:
 9546 61be 8D8588E8 		leal	-6008(%ebp), %eax
 9546      FFFF
 9547 61c4 890424   		movl	%eax, (%esp)
 9548 61c7 E8000000 		call	_strlen
 9548      00
 9549 61cc 3DC70400 		cmpl	$1223, %eax
 9549      00
 9550 61d1 7602     		jbe	L452
 9551              	L449:
 9552 61d3 EBFE     		jmp	L449
 9553              	L452:
3310:../../MMI/Resource/WriteImgRes.c ****         system(tempCommand);
 9555              	LM808:
 9556 61d5 8D8588E8 		leal	-6008(%ebp), %eax
 9556      FFFF
 9557 61db 890424   		movl	%eax, (%esp)
 9558 61de E8000000 		call	_system
 9558      00
3311:../../MMI/Resource/WriteImgRes.c **** 
3312:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "objcopy -I binary -O elf32-little --rename-section .data=.rdata --set
 9560              	LM809:
 9561 61e3 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9561      000000
 9562 61ea 89442414 		movl	%eax, 20(%esp)
 9563 61ee 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9563      000000
 9564 61f5 89442410 		movl	%eax, 16(%esp)
 9565 61f9 8B8568FD 		movl	-664(%ebp), %eax
 9565      FFFF
 9566 61ff 8944240C 		movl	%eax, 12(%esp)
 9567 6203 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9567      000000
 9568 620a 89442408 		movl	%eax, 8(%esp)
 9569 620e C7442404 		movl	$LC147, 4(%esp)
 9569      405B0000 
 9570 6216 8D8588E8 		leal	-6008(%ebp), %eax
 9570      FFFF
 9571 621c 890424   		movl	%eax, (%esp)
 9572 621f E8000000 		call	_sprintf
 9572      00
3313:../../MMI/Resource/WriteImgRes.c ****         RES_PRINT_INFO("%s\n", tempCommand);
 9574              	LM810:
 9575 6224 8D8588E8 		leal	-6008(%ebp), %eax
 9575      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 209


 9576 622a 89442404 		movl	%eax, 4(%esp)
 9577 622e C7042449 		movl	$LC52, (%esp)
 9577      0C0000
 9578 6235 E8000000 		call	_MtkResgenTrace
 9578      00
3314:../../MMI/Resource/WriteImgRes.c ****         ASSERT(SHELL_CMD_BUFLEN*2 > strlen(tempCommand));
 9580              	LM811:
 9581 623a 8D8588E8 		leal	-6008(%ebp), %eax
 9581      FFFF
 9582 6240 890424   		movl	%eax, (%esp)
 9583 6243 E8000000 		call	_strlen
 9583      00
 9584 6248 3DC70400 		cmpl	$1223, %eax
 9584      00
 9585 624d 7602     		jbe	L457
 9586              	L454:
 9587 624f EBFE     		jmp	L454
 9588              	L457:
3315:../../MMI/Resource/WriteImgRes.c ****         system(tempCommand);
 9590              	LM812:
 9591 6251 8D8588E8 		leal	-6008(%ebp), %eax
 9591      FFFF
 9592 6257 890424   		movl	%eax, (%esp)
 9593 625a E8000000 		call	_system
 9593      00
3316:../../MMI/Resource/WriteImgRes.c **** 
3317:../../MMI/Resource/WriteImgRes.c ****         /* Fix obj alignment to 4 bytes */
3318:../../MMI/Resource/WriteImgRes.c ****         /* 1. Open the file just created */
3319:../../MMI/Resource/WriteImgRes.c ****         sprintf(tempCommand, "vf_%d.obj", g_mmi_res_font_id);
 9595              	LM813:
 9596 625f 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9596      000000
 9597 6266 89442408 		movl	%eax, 8(%esp)
 9598 626a C7442404 		movl	$LC148, 4(%esp)
 9598      035C0000 
 9599 6272 8D8588E8 		leal	-6008(%ebp), %eax
 9599      FFFF
 9600 6278 890424   		movl	%eax, (%esp)
 9601 627b E8000000 		call	_sprintf
 9601      00
3320:../../MMI/Resource/WriteImgRes.c ****         font_obj_file = fopen(tempCommand, "r+b");
 9603              	LM814:
 9604 6280 C7442404 		movl	$LC149, 4(%esp)
 9604      0D5C0000 
 9605 6288 8D8588E8 		leal	-6008(%ebp), %eax
 9605      FFFF
 9606 628e 890424   		movl	%eax, (%esp)
 9607 6291 E8000000 		call	_fopen
 9607      00
 9608 6296 898584E8 		movl	%eax, -6012(%ebp)
 9608      FFFF
3321:../../MMI/Resource/WriteImgRes.c ****         if (font_obj_file != NULL)
 9610              	LM815:
 9611 629c 83BD84E8 		cmpl	$0, -6012(%ebp)
 9611      FFFF00
 9612 62a3 0F84BC00 		je	L458
 9612      0000
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 210


3322:../../MMI/Resource/WriteImgRes.c ****         {
3323:../../MMI/Resource/WriteImgRes.c ****             /* 2. Read header offset */
3324:../../MMI/Resource/WriteImgRes.c ****             fseek(font_obj_file, 32, SEEK_SET);
 9614              	LM816:
 9615 62a9 C7442408 		movl	$0, 8(%esp)
 9615      00000000 
 9616 62b1 C7442404 		movl	$32, 4(%esp)
 9616      20000000 
 9617 62b9 8B8584E8 		movl	-6012(%ebp), %eax
 9617      FFFF
 9618 62bf 890424   		movl	%eax, (%esp)
 9619 62c2 E8000000 		call	_fseek
 9619      00
3325:../../MMI/Resource/WriteImgRes.c ****             size = fread(&section_offset, 4, 1, font_obj_file);
 9621              	LM817:
 9622 62c7 8B8584E8 		movl	-6012(%ebp), %eax
 9622      FFFF
 9623 62cd 8944240C 		movl	%eax, 12(%esp)
 9624 62d1 C7442408 		movl	$1, 8(%esp)
 9624      01000000 
 9625 62d9 C7442404 		movl	$4, 4(%esp)
 9625      04000000 
 9626 62e1 8D857CE8 		leal	-6020(%ebp), %eax
 9626      FFFF
 9627 62e7 890424   		movl	%eax, (%esp)
 9628 62ea E8000000 		call	_fread
 9628      00
 9629 62ef 898578E8 		movl	%eax, -6024(%ebp)
 9629      FFFF
3326:../../MMI/Resource/WriteImgRes.c ****             RES_PRINT_INFO("[Font]section offset = [%d]\n", section_offset);
 9631              	LM818:
 9632 62f5 8B857CE8 		movl	-6020(%ebp), %eax
 9632      FFFF
 9633 62fb 89442404 		movl	%eax, 4(%esp)
 9634 62ff C7042411 		movl	$LC150, (%esp)
 9634      5C0000
 9635 6306 E8000000 		call	_MtkResgenTrace
 9635      00
3327:../../MMI/Resource/WriteImgRes.c **** 
3328:../../MMI/Resource/WriteImgRes.c ****             /* 3. Jump to the position and modify it to 4. */
3329:../../MMI/Resource/WriteImgRes.c ****             fseek(font_obj_file, section_offset + 40 + 32, SEEK_SET);
 9637              	LM819:
 9638 630b C7442408 		movl	$0, 8(%esp)
 9638      00000000 
 9639 6313 8B857CE8 		movl	-6020(%ebp), %eax
 9639      FFFF
 9640 6319 83C048   		addl	$72, %eax
 9641 631c 89442404 		movl	%eax, 4(%esp)
 9642 6320 8B8584E8 		movl	-6012(%ebp), %eax
 9642      FFFF
 9643 6326 890424   		movl	%eax, (%esp)
 9644 6329 E8000000 		call	_fseek
 9644      00
3330:../../MMI/Resource/WriteImgRes.c ****             fputc(4, font_obj_file);
 9646              	LM820:
 9647 632e 8B8584E8 		movl	-6012(%ebp), %eax
 9647      FFFF
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 211


 9648 6334 89442404 		movl	%eax, 4(%esp)
 9649 6338 C7042404 		movl	$4, (%esp)
 9649      000000
 9650 633f E8000000 		call	_fputc
 9650      00
3331:../../MMI/Resource/WriteImgRes.c **** 
3332:../../MMI/Resource/WriteImgRes.c ****             /* 4. Close the file */
3333:../../MMI/Resource/WriteImgRes.c ****             MYFCLOSE(font_obj_file);
 9652              	LM821:
 9653 6344 83BD84E8 		cmpl	$0, -6012(%ebp)
 9653      FFFF00
 9654 634b 7418     		je	L458
 9655 634d 8B8584E8 		movl	-6012(%ebp), %eax
 9655      FFFF
 9656 6353 890424   		movl	%eax, (%esp)
 9657 6356 E8000000 		call	_fclose
 9657      00
 9658 635b C78584E8 		movl	$0, -6012(%ebp)
 9658      FFFF0000 
 9658      0000
 9659              	L458:
3334:../../MMI/Resource/WriteImgRes.c ****         }
3335:../../MMI/Resource/WriteImgRes.c **** 
3336:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_lis, "plutommi\\Customer\\ResGenerator\\vf_%d.obj\n", g_mmi_res_font_id);
 9661              	LM822:
 9662 6365 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9662      000000
 9663 636c 89442408 		movl	%eax, 8(%esp)
 9664 6370 C7442404 		movl	$LC151, 4(%esp)
 9664      405C0000 
 9665 6378 A1000000 		movl	_font_data_lis, %eax
 9665      00
 9666 637d 890424   		movl	%eax, (%esp)
 9667 6380 E8000000 		call	_fprintf
 9667      00
3337:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_modis_lis, "plutommi\\Customer\\ResGenerator\\modis_vf_%d.obj\n", g_mmi_r
 9669              	LM823:
 9670 6385 0FB70510 		movzwl	_g_mmi_res_font_id, %eax
 9670      000000
 9671 638c 89442408 		movl	%eax, 8(%esp)
 9672 6390 C7442404 		movl	$LC152, 4(%esp)
 9672      805C0000 
 9673 6398 A1000000 		movl	_font_data_modis_lis, %eax
 9673      00
 9674 639d 890424   		movl	%eax, (%esp)
 9675 63a0 E8000000 		call	_fprintf
 9675      00
3338:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_ttf_lis, "%s\n", filename_buffer);
 9677              	LM824:
 9678 63a5 8D8568ED 		leal	-4760(%ebp), %eax
 9678      FFFF
 9679 63ab 89442408 		movl	%eax, 8(%esp)
 9680 63af C7442404 		movl	$LC52, 4(%esp)
 9680      490C0000 
 9681 63b7 A1000000 		movl	_font_ttf_lis, %eax
 9681      00
 9682 63bc 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 212


 9683 63bf E8000000 		call	_fprintf
 9683      00
3339:../../MMI/Resource/WriteImgRes.c ****         fprintf(font_data_file, "extern const U8 %s[];\n", output_image_names);
 9685              	LM825:
 9686 63c4 8B8568FD 		movl	-664(%ebp), %eax
 9686      FFFF
 9687 63ca 89442408 		movl	%eax, 8(%esp)
 9688 63ce C7442404 		movl	$LC153, 4(%esp)
 9688      B05C0000 
 9689 63d6 A1000000 		movl	_font_data_file, %eax
 9689      00
 9690 63db 890424   		movl	%eax, (%esp)
 9691 63de E8000000 		call	_fprintf
 9691      00
 9692              	L429:
3340:../../MMI/Resource/WriteImgRes.c ****     }
3341:../../MMI/Resource/WriteImgRes.c **** 
3342:../../MMI/Resource/WriteImgRes.c **** #ifdef __MMI_RESOURCE_ENFB_SUPPORT__
3343:../../MMI/Resource/WriteImgRes.c ****     enfb_flag = 0;
3344:../../MMI/Resource/WriteImgRes.c **** #endif
3345:../../MMI/Resource/WriteImgRes.c ****     MYFCLOSE(image_data_file);
 9694              	LM826:
 9695              	LBE64:
 9696 63e3 837DF400 		cmpl	$0, -12(%ebp)
 9697 63e7 7412     		je	L461
 9698 63e9 8B45F4   		movl	-12(%ebp), %eax
 9699 63ec 890424   		movl	%eax, (%esp)
 9700 63ef E8000000 		call	_fclose
 9700      00
 9701 63f4 C745F400 		movl	$0, -12(%ebp)
 9701      000000
 9702              	L461:
3346:../../MMI/Resource/WriteImgRes.c ****     free(output_image_names);
 9704              	LM827:
 9705 63fb 8B8568FD 		movl	-664(%ebp), %eax
 9705      FFFF
 9706 6401 890424   		movl	%eax, (%esp)
 9707 6404 E8000000 		call	_free
 9707      00
3347:../../MMI/Resource/WriteImgRes.c **** 
3348:../../MMI/Resource/WriteImgRes.c ****     return TRUE;
 9709              	LM828:
 9710 6409 C78590E7 		movl	$1, -6256(%ebp)
 9710      FFFF0100 
 9710      0000
3349:../../MMI/Resource/WriteImgRes.c **** }
 9712              	LM829:
 9713              	L421:
 9714              	LBE63:
 9715 6413 8B8590E7 		movl	-6256(%ebp), %eax
 9715      FFFF
 9716 6419 C9       		leave
 9717 641a C3       		ret
 9741              	Lscope17:
 9746              	_isSubmenuImage:
3350:../../MMI/Resource/WriteImgRes.c **** 
3351:../../MMI/Resource/WriteImgRes.c **** 
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 213


3352:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3353:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3354:../../MMI/Resource/WriteImgRes.c ****  *  isSubmenuImage
3355:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3356:../../MMI/Resource/WriteImgRes.c ****  *  Decide if the iamge is used for Submenu picture
3357:../../MMI/Resource/WriteImgRes.c ****  *
3358:../../MMI/Resource/WriteImgRes.c ****  *  use SUBMENU_IMAGE_PATH (defined in CustDataRes.h) to decide if a EMS picture
3359:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3360:../../MMI/Resource/WriteImgRes.c ****  *  path        [IN]        -> string containing file name and path
3361:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3362:../../MMI/Resource/WriteImgRes.c ****  *  U8 --> 1: Submenu picture, 0: Not Submenu picture
3363:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3364:../../MMI/Resource/WriteImgRes.c **** static U8 isSubmenuImage(S8 *path)
3365:../../MMI/Resource/WriteImgRes.c **** {
 9748              	LM830:
 9749 641b 55       		pushl	%ebp
 9750 641c 89E5     		movl	%esp, %ebp
3366:../../MMI/Resource/WriteImgRes.c **** #ifndef __MMI_SLIM_LISTMENU_NUMBER__
3367:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3368:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3369:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3370:../../MMI/Resource/WriteImgRes.c **** 
3371:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3372:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3373:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3374:../../MMI/Resource/WriteImgRes.c ****     return 0;
 9752              	LM831:
 9753 641e B8000000 		movl	$0, %eax
 9753      00
3375:../../MMI/Resource/WriteImgRes.c **** #else /* __MMI_SLIM_LISTMENU_NUMBER__ */
3376:../../MMI/Resource/WriteImgRes.c ****     S8 submenu_path[] = SUBMENU_IMAGE_PATH;
3377:../../MMI/Resource/WriteImgRes.c ****     U8 pos = 0, submenu_len = 0, i = 0;
3378:../../MMI/Resource/WriteImgRes.c **** 
3379:../../MMI/Resource/WriteImgRes.c ****     if (strstr(path, submenu_path) != NULL)
3380:../../MMI/Resource/WriteImgRes.c ****     {
3381:../../MMI/Resource/WriteImgRes.c ****         return 1;
3382:../../MMI/Resource/WriteImgRes.c ****     }
3383:../../MMI/Resource/WriteImgRes.c ****     else
3384:../../MMI/Resource/WriteImgRes.c ****     {
3385:../../MMI/Resource/WriteImgRes.c ****         return 0;
3386:../../MMI/Resource/WriteImgRes.c ****     }
3387:../../MMI/Resource/WriteImgRes.c ****     /*
3388:../../MMI/Resource/WriteImgRes.c ****      * submenu_len = strlen(submenu_path);
3389:../../MMI/Resource/WriteImgRes.c ****      * pos = strlen (path)-1;
3390:../../MMI/Resource/WriteImgRes.c ****      * while (path[pos]!='\\') pos--;
3391:../../MMI/Resource/WriteImgRes.c ****      * pos-=submenu_len+1;
3392:../../MMI/Resource/WriteImgRes.c ****      * for ( i=0; i<submenu_len; i++){
3393:../../MMI/Resource/WriteImgRes.c ****      * if ( submenu_path[i] != path[pos] ) return 0;
3394:../../MMI/Resource/WriteImgRes.c ****      * else pos++;
3395:../../MMI/Resource/WriteImgRes.c ****      * }
3396:../../MMI/Resource/WriteImgRes.c ****      * return 1;
3397:../../MMI/Resource/WriteImgRes.c ****      */
3398:../../MMI/Resource/WriteImgRes.c **** #endif /* __MMI_SLIM_LISTMENU_NUMBER__ */
3399:../../MMI/Resource/WriteImgRes.c **** }
 9755              	LM832:
 9756 6423 5D       		popl	%ebp
 9757 6424 C3       		ret
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 214


 9758              	Lscope18:
 9764              	_get_available_image_filename:
3400:../../MMI/Resource/WriteImgRes.c **** 
3401:../../MMI/Resource/WriteImgRes.c **** 
3402:../../MMI/Resource/WriteImgRes.c **** #if defined(__MULTIPLE_BINARY_FILES__) && defined(__MMI_RESOURCE_ENFB_SUPPORT__)
3403:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3404:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3405:../../MMI/Resource/WriteImgRes.c ****  *  CustPack_ENFB_image_test
3406:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3407:../../MMI/Resource/WriteImgRes.c ****  *  For E-NFB image, we will compulsorily put it into custpack.
3408:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3409:../../MMI/Resource/WriteImgRes.c ****  *  filename            [IN]
3410:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3411:../../MMI/Resource/WriteImgRes.c ****  *  BOOL
3412:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3413:../../MMI/Resource/WriteImgRes.c **** MMI_BOOL CustPack_ENFB_image_test(const S8 *filename, int disable_enfb)
3414:../../MMI/Resource/WriteImgRes.c **** {
3415:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3416:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3417:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3418:../../MMI/Resource/WriteImgRes.c ****     U32 w, h;
3419:../../MMI/Resource/WriteImgRes.c ****     S32 ret, i, j;
3420:../../MMI/Resource/WriteImgRes.c ****     MMI_BOOL test = MMI_FALSE;
3421:../../MMI/Resource/WriteImgRes.c ****     S8 tempfilename[MAX_FILENAME_LEN] = {0};
3422:../../MMI/Resource/WriteImgRes.c **** 
3423:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3424:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3425:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3426:../../MMI/Resource/WriteImgRes.c ****     memset(tempfilename, 0, (MAX_FILENAME_LEN*sizeof(S8)));
3427:../../MMI/Resource/WriteImgRes.c **** 
3428:../../MMI/Resource/WriteImgRes.c ****     get_available_image_filename(filename, tempfilename);
3429:../../MMI/Resource/WriteImgRes.c ****     if (file_exist(tempfilename) == MMI_TRUE)
3430:../../MMI/Resource/WriteImgRes.c ****     {
3431:../../MMI/Resource/WriteImgRes.c ****         ret = Image_Test(tempfilename, &w, &h, disable_enfb);
3432:../../MMI/Resource/WriteImgRes.c ****         test = (ret != ENFB_IMAGE_NONE) ? (MMI_TRUE) : (MMI_FALSE);
3433:../../MMI/Resource/WriteImgRes.c ****     }
3434:../../MMI/Resource/WriteImgRes.c ****     else
3435:../../MMI/Resource/WriteImgRes.c ****     {   /* for sequence image */
3436:../../MMI/Resource/WriteImgRes.c ****         memset(tempfilename, 0, (MAX_FILENAME_LEN*sizeof(S8)));
3437:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__)
3438:../../MMI/Resource/WriteImgRes.c ****         for (i = SUPPORT_N_SEQUENTIAL_IMAGE_TYPE - 1 ; i >= 0 ; i--)    /* search from PNG */
3439:../../MMI/Resource/WriteImgRes.c **** #else /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
3440:../../MMI/Resource/WriteImgRes.c ****         for (i = 0 ; i < SUPPORT_N_SEQUENTIAL_IMAGE_TYPE ; i++)         /* search from BMP */
3441:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) || defined(__MMI_ALPHA_BLENDING__) */
3442:../../MMI/Resource/WriteImgRes.c ****         {
3443:../../MMI/Resource/WriteImgRes.c ****             sprintf(tempfilename, "%s\\\\0.%s", filename, sequential_image[i].filename_ext);
3444:../../MMI/Resource/WriteImgRes.c ****             str_upper(tempfilename, MAX_FILENAME_LEN);
3445:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(tempfilename) == MMI_TRUE)   break;
3446:../../MMI/Resource/WriteImgRes.c ****         }
3447:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(tempfilename) == MMI_TRUE)
3448:../../MMI/Resource/WriteImgRes.c ****         {
3449:../../MMI/Resource/WriteImgRes.c ****             ret = Image_Test(tempfilename, &w, &h, disable_enfb);
3450:../../MMI/Resource/WriteImgRes.c ****             test = (ret != ENFB_IMAGE_NONE) ? (MMI_TRUE) : (MMI_FALSE);
3451:../../MMI/Resource/WriteImgRes.c ****         }
3452:../../MMI/Resource/WriteImgRes.c ****     }
3453:../../MMI/Resource/WriteImgRes.c **** 
3454:../../MMI/Resource/WriteImgRes.c ****     return test;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 215


3455:../../MMI/Resource/WriteImgRes.c **** }
3456:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MULTIPLE_BINARY_FILES__) && defined(__MMI_RESOURCE_ENFB_SUPPORT__) */
3457:../../MMI/Resource/WriteImgRes.c **** 
3458:../../MMI/Resource/WriteImgRes.c **** 
3459:../../MMI/Resource/WriteImgRes.c **** /*****************************************************************************
3460:../../MMI/Resource/WriteImgRes.c ****  * FUNCTION
3461:../../MMI/Resource/WriteImgRes.c ****  *  get_available_image_filename
3462:../../MMI/Resource/WriteImgRes.c ****  * DESCRIPTION
3463:../../MMI/Resource/WriteImgRes.c ****  *  change the filename extension for available image file
3464:../../MMI/Resource/WriteImgRes.c ****  *  TODO: should inlcude sequence file and return type
3465:../../MMI/Resource/WriteImgRes.c ****  * PARAMETERS
3466:../../MMI/Resource/WriteImgRes.c ****  *  in_filename     [IN]
3467:../../MMI/Resource/WriteImgRes.c ****  *  out_filename    [OUT]
3468:../../MMI/Resource/WriteImgRes.c ****  * RETURNS
3469:../../MMI/Resource/WriteImgRes.c ****  *  void
3470:../../MMI/Resource/WriteImgRes.c ****  *****************************************************************************/
3471:../../MMI/Resource/WriteImgRes.c **** static void get_available_image_filename(const S8 *in_filename, S8* out_filename)
3472:../../MMI/Resource/WriteImgRes.c **** {
 9766              	LM833:
 9767 6425 55       		pushl	%ebp
 9768 6426 89E5     		movl	%esp, %ebp
 9769 6428 83EC28   		subl	$40, %esp
3473:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3474:../../MMI/Resource/WriteImgRes.c ****     /* Local Variables                                                */
3475:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3476:../../MMI/Resource/WriteImgRes.c ****     S32 ext_type = -1, i, count;
 9771              	LM834:
 9772              	LBB66:
 9773 642b C745FCFF 		movl	$-1, -4(%ebp)
 9773      FFFFFF
3477:../../MMI/Resource/WriteImgRes.c **** 
3478:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3479:../../MMI/Resource/WriteImgRes.c ****     /* Code Body                                                      */
3480:../../MMI/Resource/WriteImgRes.c ****     /*----------------------------------------------------------------*/
3481:../../MMI/Resource/WriteImgRes.c ****     strncpy(out_filename, in_filename, MAX_FILENAME_LEN);
 9775              	LM835:
 9776 6432 C7442408 		movl	$512, 8(%esp)
 9776      00020000 
 9777 643a 8B4508   		movl	8(%ebp), %eax
 9778 643d 89442404 		movl	%eax, 4(%esp)
 9779 6441 8B450C   		movl	12(%ebp), %eax
 9780 6444 890424   		movl	%eax, (%esp)
 9781 6447 E8000000 		call	_strncpy
 9781      00
3482:../../MMI/Resource/WriteImgRes.c ****     str_upper(out_filename, MAX_FILENAME_LEN);
 9783              	LM836:
 9784 644c C7442404 		movl	$512, 4(%esp)
 9784      00020000 
 9785 6454 8B450C   		movl	12(%ebp), %eax
 9786 6457 890424   		movl	%eax, (%esp)
 9787 645a E8000000 		call	_str_upper
 9787      00
3483:../../MMI/Resource/WriteImgRes.c **** 
3484:../../MMI/Resource/WriteImgRes.c ****     do
3485:../../MMI/Resource/WriteImgRes.c ****     {
3486:../../MMI/Resource/WriteImgRes.c ****         if (file_exist(out_filename) == MMI_TRUE)   break;
 9789              	LM837:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 216


 9790 645f 8B450C   		movl	12(%ebp), %eax
 9791 6462 890424   		movl	%eax, (%esp)
 9792 6465 E8000000 		call	_file_exist
 9792      00
 9793 646a 83F801   		cmpl	$1, %eax
 9794 646d 7505     		jne	L466
 9795 646f E9570100 		jmp	L464
 9795      00
 9796              	L466:
3487:../../MMI/Resource/WriteImgRes.c **** 
3488:../../MMI/Resource/WriteImgRes.c ****         ext_type = ExtractExtension(out_filename, RES_IMAGE);
 9798              	LM838:
 9799 6474 C7442404 		movl	$0, 4(%esp)
 9799      00000000 
 9800 647c 8B450C   		movl	12(%ebp), %eax
 9801 647f 890424   		movl	%eax, (%esp)
 9802 6482 E8000000 		call	_ExtractExtension
 9802      00
 9803 6487 0FB6C0   		movzbl	%al, %eax
 9804 648a 8945FC   		movl	%eax, -4(%ebp)
3489:../../MMI/Resource/WriteImgRes.c **** 
3490:../../MMI/Resource/WriteImgRes.c ****         /* check PNG -> all type */
3491:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_PNG)
 9806              	LM839:
 9807 648d 837DFC13 		cmpl	$19, -4(%ebp)
 9808 6491 7560     		jne	L467
3492:../../MMI/Resource/WriteImgRes.c ****         {
3493:../../MMI/Resource/WriteImgRes.c ****             count = sizeof(image_resource_info)/sizeof(RESOURCE_INFO);
 9810              	LM840:
 9811 6493 C745F415 		movl	$21, -12(%ebp)
 9811      000000
3494:../../MMI/Resource/WriteImgRes.c ****             for (i = 0 ; i < count ; i++)
 9813              	LM841:
 9814 649a C745F800 		movl	$0, -8(%ebp)
 9814      000000
 9815              	L468:
 9816 64a1 8B45F8   		movl	-8(%ebp), %eax
 9817 64a4 3B45F4   		cmpl	-12(%ebp), %eax
 9818 64a7 7C02     		jl	L471
 9819 64a9 EB3B     		jmp	L469
 9820              	L471:
3495:../../MMI/Resource/WriteImgRes.c ****             {
3496:../../MMI/Resource/WriteImgRes.c ****                 ChangeExtension(out_filename, RES_IMAGE, image_resource_info[i].file_type);
 9822              	LM842:
 9823 64ab 8B45F8   		movl	-8(%ebp), %eax
 9824 64ae 0FB604C5 		movzbl	_image_resource_info+4(,%eax,8), %eax
 9824      64000000 
 9825 64b6 89442408 		movl	%eax, 8(%esp)
 9826 64ba C7442404 		movl	$0, 4(%esp)
 9826      00000000 
 9827 64c2 8B450C   		movl	12(%ebp), %eax
 9828 64c5 890424   		movl	%eax, (%esp)
 9829 64c8 E8000000 		call	_ChangeExtension
 9829      00
3497:../../MMI/Resource/WriteImgRes.c ****                 if (file_exist(out_filename) == MMI_TRUE)   break;
 9831              	LM843:
 9832 64cd 8B450C   		movl	12(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 217


 9833 64d0 890424   		movl	%eax, (%esp)
 9834 64d3 E8000000 		call	_file_exist
 9834      00
 9835 64d8 83F801   		cmpl	$1, %eax
 9836 64db 7502     		jne	L470
 9837 64dd EB07     		jmp	L469
 9839              	LM844:
 9840              	L470:
 9841 64df 8D45F8   		leal	-8(%ebp), %eax
 9842 64e2 FF00     		incl	(%eax)
 9843 64e4 EBBB     		jmp	L468
 9844              	L469:
3498:../../MMI/Resource/WriteImgRes.c ****             }
3499:../../MMI/Resource/WriteImgRes.c ****             if (i != count) break;
 9846              	LM845:
 9847 64e6 8B45F8   		movl	-8(%ebp), %eax
 9848 64e9 3B45F4   		cmpl	-12(%ebp), %eax
 9849 64ec 7405     		je	L467
 9850 64ee E9D80000 		jmp	L464
 9850      00
 9851              	L467:
3500:../../MMI/Resource/WriteImgRes.c ****         }
3501:../../MMI/Resource/WriteImgRes.c **** 
3502:../../MMI/Resource/WriteImgRes.c **** #if defined(__MMI_ALPHA_LAYER_SUPPORT__)
3503:../../MMI/Resource/WriteImgRes.c ****         /* check GIF / BMP -> PNG */
3504:../../MMI/Resource/WriteImgRes.c ****         if ((ext_type == IMAGE_TYPE_GIF) || (ext_type == IMAGE_TYPE_BMP))
3505:../../MMI/Resource/WriteImgRes.c ****         {
3506:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_PNG);
3507:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
3508:../../MMI/Resource/WriteImgRes.c ****         }
3509:../../MMI/Resource/WriteImgRes.c **** 
3510:../../MMI/Resource/WriteImgRes.c ****         /* check PBMP -> PPN */
3511:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_DEVICE_BITMAP)
3512:../../MMI/Resource/WriteImgRes.c ****         {
3513:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_PPN);
3514:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
3515:../../MMI/Resource/WriteImgRes.c ****         }
3516:../../MMI/Resource/WriteImgRes.c **** #endif /* defined(__MMI_ALPHA_LAYER_SUPPORT__) */
3517:../../MMI/Resource/WriteImgRes.c **** 
3518:../../MMI/Resource/WriteImgRes.c ****         /* check BMP -> GIF */
3519:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_BMP)
 9853              	LM846:
 9854 64f3 837DFC01 		cmpl	$1, -4(%ebp)
 9855 64f7 7530     		jne	L474
3520:../../MMI/Resource/WriteImgRes.c ****         {
3521:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_GIF);
 9857              	LM847:
 9858 64f9 C7442408 		movl	$3, 8(%esp)
 9858      03000000 
 9859 6501 C7442404 		movl	$0, 4(%esp)
 9859      00000000 
 9860 6509 8B450C   		movl	12(%ebp), %eax
 9861 650c 890424   		movl	%eax, (%esp)
 9862 650f E8000000 		call	_ChangeExtension
 9862      00
3522:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 9864              	LM848:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 218


 9865 6514 8B450C   		movl	12(%ebp), %eax
 9866 6517 890424   		movl	%eax, (%esp)
 9867 651a E8000000 		call	_file_exist
 9867      00
 9868 651f 83F801   		cmpl	$1, %eax
 9869 6522 7505     		jne	L474
 9870 6524 E9A20000 		jmp	L464
 9870      00
 9871              	L474:
3523:../../MMI/Resource/WriteImgRes.c ****         }
3524:../../MMI/Resource/WriteImgRes.c **** 
3525:../../MMI/Resource/WriteImgRes.c ****         /* check GIF -> BMP */
3526:../../MMI/Resource/WriteImgRes.c ****         if (ext_type == IMAGE_TYPE_GIF)
 9873              	LM849:
 9874 6529 837DFC03 		cmpl	$3, -4(%ebp)
 9875 652d 752D     		jne	L476
3527:../../MMI/Resource/WriteImgRes.c ****         {
3528:../../MMI/Resource/WriteImgRes.c ****             ChangeExtension(out_filename, RES_IMAGE, IMAGE_TYPE_BMP);
 9877              	LM850:
 9878 652f C7442408 		movl	$1, 8(%esp)
 9878      01000000 
 9879 6537 C7442404 		movl	$0, 4(%esp)
 9879      00000000 
 9880 653f 8B450C   		movl	12(%ebp), %eax
 9881 6542 890424   		movl	%eax, (%esp)
 9882 6545 E8000000 		call	_ChangeExtension
 9882      00
3529:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 9884              	LM851:
 9885 654a 8B450C   		movl	12(%ebp), %eax
 9886 654d 890424   		movl	%eax, (%esp)
 9887 6550 E8000000 		call	_file_exist
 9887      00
 9888 6555 83F801   		cmpl	$1, %eax
 9889 6558 7502     		jne	L476
 9890 655a EB6F     		jmp	L464
 9891              	L476:
3530:../../MMI/Resource/WriteImgRes.c ****         }
3531:../../MMI/Resource/WriteImgRes.c **** 
3532:../../MMI/Resource/WriteImgRes.c ****         /* check video */
3533:../../MMI/Resource/WriteImgRes.c ****         for (i = 0 ; i < SUPPORT_N_MEDIA_TYPE ; i++)
 9893              	LM852:
 9894 655c C745F800 		movl	$0, -8(%ebp)
 9894      000000
 9895              	L478:
 9896 6563 837DF805 		cmpl	$5, -8(%ebp)
 9897 6567 7E02     		jle	L481
 9898 6569 EB60     		jmp	L479
 9899              	L481:
3534:../../MMI/Resource/WriteImgRes.c ****         {
3535:../../MMI/Resource/WriteImgRes.c ****             S32 j, len;
3536:../../MMI/Resource/WriteImgRes.c **** 
3537:../../MMI/Resource/WriteImgRes.c ****             len = strlen(out_filename);
 9901              	LM853:
 9902              	LBB67:
 9903 656b 8B450C   		movl	12(%ebp), %eax
 9904 656e 890424   		movl	%eax, (%esp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 219


 9905 6571 E8000000 		call	_strlen
 9905      00
 9906 6576 8945EC   		movl	%eax, -20(%ebp)
3538:../../MMI/Resource/WriteImgRes.c ****             for (j = 0 ; j < 3 ; j++)
 9908              	LM854:
 9909 6579 C745F000 		movl	$0, -16(%ebp)
 9909      000000
 9910              	L482:
 9911 6580 837DF002 		cmpl	$2, -16(%ebp)
 9912 6584 7E02     		jle	L485
 9913 6586 EB2A     		jmp	L483
 9914              	L485:
3539:../../MMI/Resource/WriteImgRes.c ****             {
3540:../../MMI/Resource/WriteImgRes.c ****                 out_filename[len - 1 - j] = support_media_ext[i][2 - j];
 9916              	LM855:
 9917 6588 8B55F0   		movl	-16(%ebp), %edx
 9918 658b 8B45EC   		movl	-20(%ebp), %eax
 9919 658e 29D0     		subl	%edx, %eax
 9920 6590 03450C   		addl	12(%ebp), %eax
 9921 6593 8D48FF   		leal	-1(%eax), %ecx
 9922 6596 8B45F8   		movl	-8(%ebp), %eax
 9923 6599 8B55F0   		movl	-16(%ebp), %edx
 9924 659c 8B048500 		movl	_support_media_ext(,%eax,4), %eax
 9924      000000
 9925 65a3 29D0     		subl	%edx, %eax
 9926 65a5 0FB64002 		movzbl	2(%eax), %eax
 9927 65a9 8801     		movb	%al, (%ecx)
 9929              	LM856:
 9930 65ab 8D45F0   		leal	-16(%ebp), %eax
 9931 65ae FF00     		incl	(%eax)
 9932 65b0 EBCE     		jmp	L482
 9933              	L483:
3541:../../MMI/Resource/WriteImgRes.c ****             }
3542:../../MMI/Resource/WriteImgRes.c ****             if (file_exist(out_filename) == MMI_TRUE)   break;
 9935              	LM857:
 9936 65b2 8B450C   		movl	12(%ebp), %eax
 9937 65b5 890424   		movl	%eax, (%esp)
 9938 65b8 E8000000 		call	_file_exist
 9938      00
 9939 65bd 83F801   		cmpl	$1, %eax
 9940 65c0 7502     		jne	L480
 9941 65c2 EB07     		jmp	L479
 9943              	LM858:
 9944              	L480:
 9945 65c4 8D45F8   		leal	-8(%ebp), %eax
 9946              	LBE67:
 9947 65c7 FF00     		incl	(%eax)
 9948 65c9 EB98     		jmp	L478
 9949              	L479:
3543:../../MMI/Resource/WriteImgRes.c ****         }
3544:../../MMI/Resource/WriteImgRes.c ****         if (i != SUPPORT_N_MEDIA_TYPE)  break;
3545:../../MMI/Resource/WriteImgRes.c ****     } while (0);
3546:../../MMI/Resource/WriteImgRes.c **** }
 9951              	LM859:
 9952              	L464:
 9953 65cb C9       		leave
 9954 65cc C3       		ret
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 220


 9955              	LBE66:
 9965              	Lscope19:
 9967              		.comm	_g_resimg_table, 67369984	 # 67369980
 9977              		.text
 9979              	Letext:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 221


DEFINED SYMBOLS
                            *ABS*:00000000 WriteImgRes.c
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2478   .text:00000060 _image_resource_info
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2561   .data:00000000 _image_idx
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2566   .bss:00000000 _g_resimg_count
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2568   .bss:00000010 _g_mmi_res_font_id
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2571   .bss:00000004 _g_mmi_res_font_flags
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2573   .bss:00000020 _g_mmi_res_font_userdata
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2574   .bss:00000030 _g_font_size
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2577   .bss:00000008 _g_mmi_res_nfb_used
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2609   .text:000003ef _LogILoadFail
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2781   .text:000005e8 _LogNFBILoadFail
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2821   .text:000006a3 _SetNFBImageImp
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:2958   .text:000008a7 _SetImageWithBufferExImp
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:4275   .text:00001afb _isEmsImage
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:4436   .text:00001d3e _Write_Processed_Data
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:5019   .text:00002505 _Write_Unprocessed_Data
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:5423   .text:000029a2 _Write_Sequential_Image_Header
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:5815   .text:00002e51 _Write_Sequential_Image_File
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:6087   .text:0000329e _Write_Sequential_Image
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:7156   .text:00003fe5 _Load_Image_Data_Tool
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:7356   .text:00004256 _Load_Image_Data
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:8162   .text:00004db5 _mmi_rg_get_9slice_header
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:8561   .text:0000524d _SetFontResource
                            *COM*:0403fc00 _g_resimg_table
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:9746   .text:0000641b _isSubmenuImage
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:9764   .text:00006425 _get_available_image_filename
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:9181   .text:00005cc7 _Fload
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:8646   .text:000053f5 _SetFontWithBuffer
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:7730   .text:000047a3 _mmi_rg_write_9slice_header
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s:3127   .text:00000cf6 _Iload

UNDEFINED SYMBOLS
__alloca
__imp___iob
_toolFlag
_resultFailFlag
_support_media_ext
_dest_file
_sequential_image
_font_data_file
_CurrMaxFontIdEXT
_CurrMaxFontNumEXT
_FontNameListEXT
_FontIdMapEXT
_OutputImgIDFile
_RepeatIDListFile
_fpImageResourceUsage
_g_mmi_resource_base_table
_font_data_lis
_font_data_modis_lis
_font_ttf_lis
_reslog_adaptor_fatal_error_pending_log
_GetOffsetFromResourceBase
_atoi
_fgets
_fputc
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/ccqobaaa.s 			page 222


_fwrite
_ABM_load
_fscanf
_fgetc
_Image_Get_Dimensions
_ImageOutStreamAppend
_fread
_feof
_ABMLoader
_BMPLoader
_GIFLoader
_ftell
_fseek
_bmp2ems
_ImageOutStreamPrintf
_system
_sprintf
_resgen_compare_file_time
_MtkResgenTrace
_ChangeExtension
_ExtractExtension
_free
_strcat
_strstr
_Extract_Name
_malloc
_fflush
_str_upper
_exit
__assert
_reslog_adaptor_log
_strcmp
_strcpy
_strlen
_fclose
_strncpy
_memset
_fprintf
_fopen
_file_exist
